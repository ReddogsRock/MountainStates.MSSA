"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62"],{4202:(j,F,r)=>{r.d(F,{u:()=>R});const R={BooleanDefault:"boolean-default",BooleanTristate:"boolean-tristate",CustomDefault:"custom-default",CustomGps:"custom-gps",CustomJsonEditor:"custom-json-editor",DateTimeDefault:"datetime-default",DefaultSuffix:"-default",EmptyDefault:"empty-default",EmptyEnd:"empty-end",EmptyMessage:"empty-message",EntityContentBlocks:"entity-content-blocks",EntityDefault:"entity-default",EntityQuery:"entity-query",ExternalWebComponent:"external-web-component",HyperlinkDefault:"hyperlink-default",HyperlinkLibrary:"hyperlink-library",NumberDefault:"number-default",NumberDropdown:"number-dropdown",StringDefault:"string-default",StringDropdown:"string-dropdown",StringDropdownQuery:"string-dropdown-query",StringFontIconPicker:"string-font-icon-picker",StringJson:"string-json",StringTemplatePicker:"string-template-picker",StringUrlPath:"string-url-path",StringWysiwyg:"string-wysiwyg",EntityPicker:"entity-picker",StringPicker:"string-picker",NumberPicker:"number-picker",Unknown:"unknown"}},9006:(j,F,r)=>{r.d(F,{j:()=>S,x:()=>E});var R=r(37580),l=r(44444),m=r(99293),u=r(81863),C=r(67993),p=r(96133),h=r(9001);let E=(()=>{class d{#e;#t;#n;#i;constructor(){this.featureNameId=R.hFB.required(),this.showIf=(0,R.hFB)(!1),this.#e=(0,l.WQX)(u.h),this.#t=(0,l.WQX)(m.c1b),this.#n=(0,l.WQX)(R.gRc),this.#i=(0,l.WQX)(h.D),this.feature=(0,C.bo)("feature",()=>this.#i.getCurrent(this.featureNameId())),this.show=(0,C.bo)("show",()=>{const g=this.feature();return null!=g&&this.showIf()==(g?.isEnabled??!1)})}openDialog(){S(this.#e,this.featureNameId(),this.#t,this.#n)}static#s=this.\u0275fac=function(b){return new(b||d)};static#o=this.\u0275dir=m.FsC({type:d,inputs:{featureNameId:[1,"featureNameId"],showIf:[1,"showIf"]}})}return d})();function S(d,P,g,b){d.open(p.FeatureInfoDialogComponent,{autoFocus:!1,data:P,viewContainerRef:g,width:"400px"}),b?.markForCheck()}},21183:(j,F,r)=>{r.d(F,{f:()=>R});class R{static cellLink(m,u,C){return`<a class="default-link fill-cell ${C}" href="${m}">${u}</a>`}}},27295:(j,F,r)=>{r.d(F,{E:()=>m});var R=r(44444);let m=(()=>{class u{isErrorState(p,h){return!!(p&&p.invalid&&(p.touched||h&&h.submitted))}static \u0275fac=function(h){return new(h||u)};static \u0275prov=R.jDH({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},28136:(j,F,r)=>{r.d(F,{T:()=>R});const R={AppSyncWithSiteFiles:"AppSyncWithSiteFiles",WysiwygPasteFormatted:"WysiwygPasteFormatted",PasteImageFromClipboard:"PasteImageFromClipboard",EditUiShowNotes:"EditUiShowNotes",EditUiShowMetadataFor:"EditUiShowMetadataFor",NoSponsoredByToSic:"NoSponsoredByToSic",EditUiTranslateWithGoogle:"EditUiTranslateWithGoogle",LightSpeed:"LightSpeedOutputCache",ContentSecurityPolicy:"ContentSecurityPolicy",PermissionsByLanguage:"PermissionsByLanguage",ContentTypeFieldsReuseDefinitions:"ContentTypeFieldsReuseDefinitions",AppExportAssetsAdvanced:"AppExportAssetsAdvanced",DataExportImportBundles:"DataExportImportBundles",PickerUiCheckbox:"PickerUiCheckbox",PickerUiRadio:"PickerUiRadio",PickerSourceCsv:"PickerSourceCsv",PickerSourceAppAssets:"PickerSourceAppAssets",PickerFormulas:"PickerFormulas",PickerUiMoreInfo:"PickerUiMoreInfo"}},31016:(j,F,r)=>{r.d(F,{M:()=>p});var R=r(39539),l=r(99293),m=r(44444),u=r(87698),C=r(8126);let p=(()=>{class h{static \u0275fac=function(d){return new(d||h)};static \u0275mod=l.$C({type:h});static \u0275inj=m.G2t({imports:[C.M,R.w5,u.j,C.M]})}return h})()},43758:(j,F,r)=>{r.d(F,{F:()=>D});var R=r(87945),l=r(37580),m=r(31016),u=r(99293),C=r(44444),p=r(87698);const h=["*"],E=_=>({"hint-box__short":_});function S(_,k){1&_&&u.eu8(0)}function d(_,k){if(1&_&&(u.j41(0,"mat-hint"),u.DNE(1,S,1,0,"ng-container",2),u.k0s()),2&_){u.XpG();const v=u.sdS(4);u.R7$(),u.Y8G("ngTemplateOutlet",v)}}function P(_,k){1&_&&u.eu8(0)}function g(_,k){if(1&_&&(u.j41(0,"mat-error"),u.DNE(1,P,1,0,"ng-container",2),u.k0s()),2&_){u.XpG();const v=u.sdS(4);u.R7$(),u.Y8G("ngTemplateOutlet",v)}}function b(_,k){1&_&&u.SdG(0)}let D=(()=>{class _{constructor(){this.isError=(0,l.hFB)(!1),this.isShort=!0}toggleIsShort(){this.isShort=!this.isShort}static#e=this.\u0275fac=function(N){return new(N||_)};static#t=this.\u0275cmp=u.VBU({type:_,selectors:[["app-field-hint"]],inputs:{isError:[1,"isError"]},ngContentSelectors:h,decls:5,vars:4,consts:[["content",""],[1,"hint-box",3,"click","ngClass"],[4,"ngTemplateOutlet"]],template:function(N,w){if(1&N){const M=u.RV6();u.NAR(),u.j41(0,"div",1),u.bIt("click",function(){return C.eBV(M),C.Njj(w.toggleIsShort())}),u.nVh(1,d,2,1,"mat-hint")(2,g,2,1,"mat-error"),u.k0s(),u.DNE(3,b,1,0,"ng-template",null,0,u.C5r)}if(2&N){let M;u.Y8G("ngClass",u.eq3(2,E,w.isShort)),u.R7$(),u.vxM(!1===(M=w.isError())?1:!0===M?2:-1)}},dependencies:[m.M,p.c,p.b,R.YU,R.T3],styles:[".hint-box[_ngcontent-%COMP%]{margin-top:4px}.hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{font-size:12px;display:block}.hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-hint[_ngcontent-%COMP%], .hint-box__short[_ngcontent-%COMP%]   .mat-mdc-form-field-error[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return _})()},45943:(j,F,r)=>{r.d(F,{N:()=>C});var R=r(44444),l=r(24467),m=r(99293);const u="admin/feature/details";let C=(()=>{class p extends l.B{getFeatureDetail(E){return this.newHttpResource(()=>({url:this.apiUrl(u),params:{nameId:E()}}))}getFeatureDetails(E){const S=(0,R.vPA)([]);for(const d of E)this.fetchPromise(u,{params:{nameId:d}}).then(P=>{S.update(g=>[...g,P])});return S}static#e=this.\u0275fac=(()=>{let E;return function(d){return(E||(E=m.xGo(p)))(d||p)}})();static#t=this.\u0275prov=R.jDH({token:p,factory:p.\u0275fac})}return p})()},48511:(j,F,r)=>{r.r(F),r.d(F,{ContentTypeFieldsComponent:()=>ki});var R=r(87945),l=r(44444),m=r(64173),u=r(84175),C=r(81863),p=r(93840),h=r(29658),E=r(90852),S=r(12938),d=r(17693),P=r(6663),g=r(93454),b=r(72437),D=r(21183),_=r(11828),k=r(68163),v=r(60251),N=r(50052),w=r(95699),M=r(78742),x=r(51612),z=r(91922),K=r(70334),ht=r(67037),ut=r(60852),ft=r(1726),mt=r(4202),q=r(31034),Ge=r(16256),He=r(89061),ie=r(34601),e=r(99293),Ve=r(29968);function pt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",11),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.do("shareOrInherit"))}),e.j41(1,"mat-icon",12),e.EFF(2),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("tippy",t.shareText()),e.R7$(2),e.SpI(" ",t.shareOrInheritIcon()," ")}}function _t(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",13),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.do("shareOrInherit"))}),e.j41(1,"mat-icon",14),e.EFF(2," share "),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("tippy",t.shareText())}}function gt(n,a){if(1&n){const t=e.RV6();e.j41(0,"button",15),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.do("rename"))}),e.j41(1,"mat-icon"),e.EFF(2,"text_fields"),e.k0s(),e.j41(3,"span"),e.EFF(4,"Rename"),e.k0s()(),e.j41(5,"button",15),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.do("delete"))}),e.j41(6,"mat-icon"),e.EFF(7,"delete"),e.k0s(),e.j41(8,"span"),e.EFF(9,"Delete"),e.k0s()()}if(2&n){const t=e.XpG();e.Y8G("disabled",t.field.EditInfo.DisableRename),e.R7$(5),e.Y8G("disabled",t.field.EditInfo.DisableDelete||t.field.IsTitle)}}let yt=(()=>{class n{agInit(t){this.params=t,this.field=this.params.data;const i=this.field.EditInfo.DisableEdit;this.enablePermissions=!i&&(this.field.InputType===mt.u.StringWysiwyg||this.field.Type===ft.O.Hyperlink),this.enableMetadata=!this.field.EditInfo.DisableMetadata,this.metadataCount=this.field.Metadata?Object.keys(this.field.Metadata).filter(o=>"merged"!==o).length:0,this.enableImageConfig=!i&&this.field.imageConfiguration.isRecommended,this.imgConfigCount=this.field.imageConfiguration.entityId?1:0}highlightOrDisabled(t){return t?"highlight":"disabled"}shareText(){const t="click to configure sharing",i=this.field.SysSettings;return i?i.Share?"shared enabled as "+this.field.Guid:i.InheritMetadataOf?"inherits "+i.InheritMetadataOf:t:t}shareOrInheritIcon(){const t=this.field.SysSettings;return t?t.Share?"share":t.InheritMetadataOf?"adjust":"":""}refresh(t){return!0}do(t){this.params.do(t,this.field)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-actions"]],decls:18,vars:24,consts:[["menu","matMenu"],[1,"actions-component"],["matRipple","","tippy","Metadata",3,"click"],["matBadgeColor","accent","matBadgeSize","small","matBadgePosition","below after","aria-hidden","false",3,"matBadge","matBadgeDisabled","matBadgeHidden"],["matRipple","",3,"click","tippy"],["matBadgeSize","small","matBadgePosition","below after","aria-hidden","false","matBadgeColor","accent",3,"matBadge","matBadgeHidden","matBadgeDisabled"],["matRipple","",1,"eav-grid-action-button","highlight",3,"tippy"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"tippy"],["matRipple","","tippy","More",1,"eav-grid-action-button","highlight",3,"matMenuTriggerFor"],[1,"grid-more-menu"],["matMenuContent",""],["matRipple","",1,"eav-grid-action-button","highlight",3,"click","tippy"],["aria-hidden","false"],["matRipple","",1,"eav-grid-action-button","disabled","eav-hover-icon-div",3,"click","tippy"],["aria-hidden","false",1,"eav-hover-icon","disabled"],["mat-menu-item","",3,"click","disabled"]],template:function(i,o){if(1&i){const s=e.RV6();e.j41(0,"div",1)(1,"div",2),e.bIt("click",function(){return l.eBV(s),l.Njj(o.enableMetadata?o.do("metadata"):"")}),e.j41(2,"mat-icon",3),e.EFF(3,"local_offer"),e.k0s()(),e.j41(4,"div",4),e.bIt("click",function(){return l.eBV(s),l.Njj(o.enableImageConfig?o.do("image"):"")}),e.j41(5,"mat-icon",5),e.EFF(6,"filter_center_focus"),e.k0s()(),e.j41(7,"div",4),e.bIt("click",function(){return l.eBV(s),l.Njj(o.enablePermissions?o.do("permissions"):"")}),e.j41(8,"mat-icon",3),e.EFF(9,"person"),e.k0s()(),e.nVh(10,pt,3,2,"div",6)(11,_t,3,1,"div",7),e.j41(12,"div",8)(13,"mat-icon"),e.EFF(14,"more_horiz"),e.k0s()()(),e.j41(15,"mat-menu",9,0),e.DNE(17,gt,10,2,"ng-template",10),e.k0s()}if(2&i){const s=e.sdS(16);e.R7$(),e.HbH(e.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enableMetadata))),e.R7$(),e.Y8G("matBadge",o.metadataCount)("matBadgeDisabled",!o.enableMetadata)("matBadgeHidden",!o.metadataCount),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enableImageConfig))),e.Y8G("tippy",e.mNQ(o.enableImageConfig?"Image Configuration":"no image configuration for this field")),e.R7$(),e.Y8G("matBadge",o.imgConfigCount)("matBadgeHidden",!o.imgConfigCount)("matBadgeDisabled",!o.enableImageConfig),e.R7$(2),e.HbH(e.VkB("eav-grid-action-button ",o.highlightOrDisabled(o.enablePermissions))),e.Y8G("tippy",e.mNQ(o.enablePermissions?"Permissions":"no permissions to configure on this field")),e.R7$(),e.Y8G("matBadge",o.field.Permissions.Count)("matBadgeDisabled",!o.enablePermissions)("matBadgeHidden",!o.field.Permissions.Count),e.R7$(2),e.vxM(""!=o.shareOrInheritIcon()?10:11),e.R7$(2),e.Y8G("matMenuTriggerFor",s)}},dependencies:[He.M,Ve.M,p.m_,p.An,Ge.Y,Ge.k,q.Cn,q.kk,q.fb,q.z8,q.Cp,ie.e],styles:[".eav-hover-icon[_ngcontent-%COMP%]{display:none}.eav-hover-icon-div[_ngcontent-%COMP%]:hover   .eav-hover-icon[_ngcontent-%COMP%]{display:block}"]})}return n})();var $e=r(41134);function Ct(n,a){1&n&&(e.j41(0,"div",0),e.nrm(1,"mat-spinner",1),e.k0s())}let vt=(()=>{class n{agInit(t){this.params=t,this.isReordering=t.isReordering}refresh(t){return this.params=t,!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-drag"]],decls:1,vars:1,consts:[[1,"spinner-container"],["diameter","16"]],template:function(i,o){1&i&&e.nVh(0,Ct,2,0,"div",0),2&i&&e.vxM(o.isReordering()?0:-1)},dependencies:[$e.D6,$e.LG],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;width:100%}\n\n/*# sourceMappingURL=content-type-fields-drag.component.ts-angular-inline--1.css.map*/"]})}return n})();function Dt(n,a){1&n&&(e.j41(0,"mat-icon",1),e.EFF(1,"visibility_off"),e.k0s())}function Rt(n,a){1&n&&e.nrm(0,"mat-icon")}function wt(n,a){1&n&&(e.j41(0,"mat-icon",2),e.EFF(1,"edit_off"),e.k0s())}function bt(n,a){1&n&&e.nrm(0,"mat-icon")}function Ft(n,a){1&n&&(e.j41(0,"mat-icon",3),e.EFF(1,"asterisk"),e.k0s())}function Tt(n,a){1&n&&e.nrm(0,"mat-icon")}function Et(n,a){1&n&&(e.j41(0,"mat-icon",4),e.EFF(1,"functions"),e.k0s())}function St(n,a){1&n&&e.nrm(0,"mat-icon")}function kt(n,a){1&n&&(e.j41(0,"mat-icon",5),e.EFF(1,"mobiledata_off"),e.k0s())}function Mt(n,a){1&n&&e.nrm(0,"mat-icon")}function xt(n,a){1&n&&(e.j41(0,"mat-icon",6),e.EFF(1,"public_off"),e.k0s())}function Ot(n,a){1&n&&e.nrm(0,"mat-icon")}let It=(()=>{class n{agInit(t){const i=t.data;this.hasFormulas=i.HasFormulas,this.isEphemeral=i.IsEphemeral,this.isHidden=!i.Metadata.All?.VisibleInEditUI,this.disableTranslation=i.Metadata.All?.DisableTranslation||!1,this.disabled=i.Metadata.All?.Disabled||!1,this.required=i.Metadata.All?.Required||!1}refresh(t){return!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-special"]],decls:13,vars:6,consts:[[1,"icon-container"],["tippy","Hidden Field"],["tippy","Disabled"],["tippy","Required Field"],["tippy","Has Formulas"],["tippy","Ephemeral / Temporary, won't save"],["tippy","No Translation"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nVh(1,Dt,2,0,"mat-icon",1)(2,Rt,1,0,"mat-icon"),e.nVh(3,wt,2,0,"mat-icon",2)(4,bt,1,0,"mat-icon"),e.nVh(5,Ft,2,0,"mat-icon",3)(6,Tt,1,0,"mat-icon"),e.nVh(7,Et,2,0,"mat-icon",4)(8,St,1,0,"mat-icon"),e.nVh(9,kt,2,0,"mat-icon",5)(10,Mt,1,0,"mat-icon"),e.nVh(11,xt,2,0,"mat-icon",6)(12,Ot,1,0,"mat-icon"),e.k0s()),2&i&&(e.R7$(),e.vxM(o.isHidden?1:2),e.R7$(2),e.vxM(o.disabled?3:4),e.R7$(2),e.vxM(o.required?5:6),e.R7$(2),e.vxM(o.hasFormulas?7:8),e.R7$(2),e.vxM(o.isEphemeral?9:10),e.R7$(2),e.vxM(o.disableTranslation?11:12))},dependencies:[p.m_,p.An,ie.e],styles:["mat-icon[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px}"]})}return n})();function Pt(n,a){if(1&n){const t=e.RV6();e.j41(0,"div",3),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.setTitle())}),e.j41(1,"mat-icon"),e.EFF(2,"star"),e.k0s()()}if(2&n){const t=e.XpG();e.HbH(e.VkB("eav-grid-action-button highlight ",t.isTitle?"":t.suitableForTitle?"hover-only":"no-button")),e.BMQ("disabled",t.isTitle||!t.suitableForTitle)}}function At(n,a){if(1&n&&(e.j41(0,"div",2)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&n){const t=e.XpG();e.R7$(2),e.JRh(t.isTitle?"star":"")}}let Nt=(()=>{class n{constructor(){this.suitableForTitle=!0}agInit(t){this.params=t,this.isTitle=t.value,this.field=t.data,this.suitableForTitle=!x.Q.isEmpty(this.field.InputType)}refresh(t){return!0}setTitle(){this.suitableForTitle&&this.params.onSetTitle(this.field)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-title"]],decls:3,vars:1,consts:[[1,"actions-component"],["matRipple","","tippy","Use as title field",3,"class"],[1,"eav-grid-action-button","disabled"],["matRipple","","tippy","Use as title field",3,"click"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.nVh(1,Pt,3,4,"div",1)(2,At,3,1,"div",2),e.k0s()),2&i&&(e.R7$(),e.vxM(o.field.EditInfo.ReadOnly?2:1))},dependencies:[He.M,Ve.M,p.m_,p.An,ie.e],styles:["div.hover-only[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}div.hover-only[_ngcontent-%COMP%]:hover   mat-icon[_ngcontent-%COMP%]{display:block}div.no-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}"]})}return n})();var jt=r(14007);let Bt=(()=>{class n{agInit(t){this.value=t.value,this.icon=(0,jt.y)(this.value)}refresh(t){return!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields-type"]],decls:3,vars:2,consts:[[1,"icon-container",3,"tippy"]],template:function(i,o){1&i&&(e.j41(0,"div",0)(1,"mat-icon"),e.EFF(2),e.k0s()()),2&i&&(e.Y8G("tippy",o.value),e.R7$(2),e.JRh(o.icon))},dependencies:[p.m_,p.An,ie.e],encapsulation:2})}return n})();var W=r(34456),oe=r(53777),Gt=r(31016),We=r(59791),A=r(37580),ae=r(1019),Ue=r(84205),se=r(75797),Ht=r(72551),Y=r(59452),ye=r(33900),G=r(76194);class Le{applyChanges(a,t,i,o,s){a.forEachOperation((c,f,y)=>{let T,O;if(null==c.previousIndex){const I=i(c,f,y);T=t.createEmbeddedView(I.templateRef,I.context,I.index),O=G.a.INSERTED}else null==y?(t.remove(f),O=G.a.REMOVED):(T=t.get(f),t.move(T,y),O=G.a.MOVED);s&&s({context:T?.context,operation:O,record:c})})}detach(){}}var Vt=r(32373),$t=r(6427),Xe=r(84344);const Wt=[[["caption"]],[["colgroup"],["col"]],"*"],Ut=["caption","colgroup, col","*"];function Lt(n,a){1&n&&e.SdG(0,2)}function Xt(n,a){1&n&&(e.j41(0,"thead",0),e.eu8(1,1),e.k0s(),e.j41(2,"tbody",0),e.eu8(3,2)(4,3),e.k0s(),e.j41(5,"tfoot",0),e.eu8(6,4),e.k0s())}function Qt(n,a){1&n&&e.eu8(0,1)(1,2)(2,3)(3,4)}const V=new l.nKC("CDK_TABLE");let J=(()=>{class n{template=(0,l.WQX)(e.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),Z=(()=>{class n{template=(0,l.WQX)(e.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),re=(()=>{class n{template=(0,l.WQX)(e.C4Q);constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),U=(()=>{class n{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(t){this._setNameInput(t)}_name;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(t){t!==this._stickyEnd&&(this._stickyEnd=t,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(i,o,s){if(1&i&&(e.wni(s,J,5),e.wni(s,Z,5),e.wni(s,re,5)),2&i){let c;e.mGM(c=e.lsd())&&(o.cell=c.first),e.mGM(c=e.lsd())&&(o.headerCell=c.first),e.mGM(c=e.lsd())&&(o.footerCell=c.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",A.L39],stickyEnd:[2,"stickyEnd","stickyEnd",A.L39]},features:[e.Jv_([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})();class Ce{constructor(a,t){t.nativeElement.classList.add(...a._columnCssClassName)}}let ve=(()=>{class n extends Ce{constructor(){super((0,l.WQX)(U),(0,l.WQX)(e.aKT))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[e.Vt3]})}return n})(),De=(()=>{class n extends Ce{constructor(){const t=(0,l.WQX)(U),i=(0,l.WQX)(e.aKT);super(t,i);const o=t._table?._getCellRole();o&&i.nativeElement.setAttribute("role",o)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[e.Vt3]})}return n})(),Re=(()=>{class n{template=(0,l.WQX)(e.C4Q);_differs=(0,l.WQX)(A._q3);columns;_columnsDiffer;constructor(){}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof ee?t.headerCell.template:this instanceof te?t.footerCell.template:t.cell.template}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,features:[e.OA$]})}return n})(),ee=(()=>{class n extends Re{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,l.WQX)(e.C4Q),(0,l.WQX)(A._q3))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",A.L39]},features:[e.Vt3,e.OA$]})}return n})(),te=(()=>{class n extends Re{_table=(0,l.WQX)(V,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(t){t!==this._sticky&&(this._sticky=t,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super((0,l.WQX)(e.C4Q),(0,l.WQX)(A._q3))}ngOnChanges(t){super.ngOnChanges(t)}hasStickyChanged(){const t=this._hasStickyChanged;return this.resetStickyChanged(),t}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",A.L39]},features:[e.Vt3,e.OA$]})}return n})(),le=(()=>{class n extends Re{_table=(0,l.WQX)(V,{optional:!0});when;constructor(){super((0,l.WQX)(e.C4Q),(0,l.WQX)(A._q3))}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[e.Vt3]})}return n})(),L=(()=>{class n{_viewContainer=(0,l.WQX)(e.c1b);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})(),we=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&e.eu8(0,0)},dependencies:[L],encapsulation:2})}return n})(),Fe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&e.eu8(0,0)},dependencies:[L],encapsulation:2})}return n})(),de=(()=>{class n{templateRef=(0,l.WQX)(e.C4Q);_contentClassName="cdk-no-data-row";constructor(){}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})();const ze=["top","bottom","left","right"];class Jt{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(a=>this._updateCachedSizes(a)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(a,t,i=!0,o=!0,s,c,f){this._isNativeHtmlTable=a,this._stickCellCss=t,this._isBrowser=i,this._needsPositionStickyOnElement=o,this.direction=s,this._positionListener=c,this._tableInjector=f,this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(a,t){(t.includes("left")||t.includes("right"))&&this._removeFromStickyColumnReplayQueue(a);const i=[];for(const o of a)o.nodeType===o.ELEMENT_NODE&&i.push(o,...Array.from(o.children));(0,e.mal)({write:()=>{for(const o of i)this._removeStickyStyle(o,t)}},{injector:this._tableInjector})}updateStickyColumns(a,t,i,o=!0,s=!0){if(!a.length||!this._isBrowser||!t.some(H=>H)&&!i.some(H=>H))return this._positionListener?.stickyColumnsUpdated({sizes:[]}),void this._positionListener?.stickyEndColumnsUpdated({sizes:[]});const c=a[0],f=c.children.length,y="rtl"===this.direction,T=y?"right":"left",O=y?"left":"right",I=t.lastIndexOf(!0),X=i.indexOf(!0);let Q,lt,dt;s&&this._updateStickyColumnReplayQueue({rows:[...a],stickyStartStates:[...t],stickyEndStates:[...i]}),(0,e.mal)({earlyRead:()=>{Q=this._getCellWidths(c,o),lt=this._getStickyStartColumnPositions(Q,t),dt=this._getStickyEndColumnPositions(Q,i)},write:()=>{for(const H of a)for(let B=0;B<f;B++){const ct=H.children[B];t[B]&&this._addStickyStyle(ct,T,lt[B],B===I),i[B]&&this._addStickyStyle(ct,O,dt[B],B===X)}this._positionListener&&Q.some(H=>!!H)&&(this._positionListener.stickyColumnsUpdated({sizes:-1===I?[]:Q.slice(0,I+1).map((H,B)=>t[B]?H:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===X?[]:Q.slice(X).map((H,B)=>i[B+X]?H:null).reverse()}))}},{injector:this._tableInjector})}stickRows(a,t,i){if(!this._isBrowser)return;const o="bottom"===i?a.slice().reverse():a,s="bottom"===i?t.slice().reverse():t,c=[],f=[],y=[];(0,e.mal)({earlyRead:()=>{for(let T=0,O=0;T<o.length;T++){if(!s[T])continue;c[T]=O;const I=o[T];y[T]=this._isNativeHtmlTable?Array.from(I.children):[I];const X=this._retrieveElementSize(I).height;O+=X,f[T]=X}},write:()=>{const T=s.lastIndexOf(!0);for(let O=0;O<o.length;O++){if(!s[O])continue;const I=c[O],X=O===T;for(const Q of y[O])this._addStickyStyle(Q,i,I,X)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:f,offsets:c,elements:y}):this._positionListener?.stickyFooterRowsUpdated({sizes:f,offsets:c,elements:y})}},{injector:this._tableInjector})}updateStickyFooterContainer(a,t){this._isNativeHtmlTable&&(0,e.mal)({write:()=>{const i=a.querySelector("tfoot");i&&(t.some(o=>!o)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(a,t){if(a.classList.contains(this._stickCellCss)){for(const o of t)a.style[o]="",a.classList.remove(this._borderCellCss[o]);ze.some(o=>-1===t.indexOf(o)&&a.style[o])?a.style.zIndex=this._getCalculatedZIndex(a):(a.style.zIndex="",this._needsPositionStickyOnElement&&(a.style.position=""),a.classList.remove(this._stickCellCss))}}_addStickyStyle(a,t,i,o){a.classList.add(this._stickCellCss),o&&a.classList.add(this._borderCellCss[t]),a.style[t]=`${i}px`,a.style.zIndex=this._getCalculatedZIndex(a),this._needsPositionStickyOnElement&&(a.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(a){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const o of ze)a.style[o]&&(i+=t[o]);return i?`${i}`:""}_getCellWidths(a,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],o=a.children;for(let s=0;s<o.length;s++)i.push(this._retrieveElementSize(o[s]).width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(a,t){const i=[];let o=0;for(let s=0;s<a.length;s++)t[s]&&(i[s]=o,o+=a[s]);return i}_getStickyEndColumnPositions(a,t){const i=[];let o=0;for(let s=a.length;s>0;s--)t[s]&&(i[s]=o,o+=a[s]);return i}_retrieveElementSize(a){const t=this._elemSizeCache.get(a);if(t)return t;const i=a.getBoundingClientRect(),o={width:i.width,height:i.height};return this._resizeObserver&&(this._elemSizeCache.set(a,o),this._resizeObserver.observe(a,{box:"border-box"})),o}_updateStickyColumnReplayQueue(a){this._removeFromStickyColumnReplayQueue(a.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(a)}_removeFromStickyColumnReplayQueue(a){const t=new Set(a);for(const i of this._updatedStickyColumnsParamsToReplay)i.rows=i.rows.filter(o=>!t.has(o));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(i=>!!i.rows.length)}_updateCachedSizes(a){let t=!1;for(const i of a){const o=i.borderBoxSize?.length?{width:i.borderBoxSize[0].inlineSize,height:i.borderBoxSize[0].blockSize}:{width:i.contentRect.width,height:i.contentRect.height};o.width!==this._elemSizeCache.get(i.target)?.width&&Zt(i.target)&&(t=!0),this._elemSizeCache.set(i.target,o)}t&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(const i of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(i.rows,i.stickyStartStates,i.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}}function Zt(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(a=>n.classList.contains(a))}const Te=new l.nKC("CDK_SPL");let Ee=(()=>{class n{viewContainer=(0,l.WQX)(e.c1b);elementRef=(0,l.WQX)(e.aKT);constructor(){const t=(0,l.WQX)(V);t._rowOutlet=this,t._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","rowOutlet",""]]})}return n})(),Se=(()=>{class n{viewContainer=(0,l.WQX)(e.c1b);elementRef=(0,l.WQX)(e.aKT);constructor(){const t=(0,l.WQX)(V);t._headerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),ke=(()=>{class n{viewContainer=(0,l.WQX)(e.c1b);elementRef=(0,l.WQX)(e.aKT);constructor(){const t=(0,l.WQX)(V);t._footerRowOutlet=this,t._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),Me=(()=>{class n{viewContainer=(0,l.WQX)(e.c1b);elementRef=(0,l.WQX)(e.aKT);constructor(){const t=(0,l.WQX)(V);t._noDataRowOutlet=this,t._outletAssigned()}static \u0275fac=function(i){return new(i||n)};static \u0275dir=e.FsC({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),ce=(()=>{class n{_differs=(0,l.WQX)(A._q3);_changeDetectorRef=(0,l.WQX)(A.gRc);_elementRef=(0,l.WQX)(e.aKT);_dir=(0,l.WQX)(Vt.D,{optional:!0});_platform=(0,l.WQX)($t.P);_viewRepeater=(0,l.WQX)(G.b);_viewportRuler=(0,l.WQX)(Xe.Xj);_stickyPositioningListener=(0,l.WQX)(Te,{optional:!0,skipSelf:!0});_document=(0,l.WQX)(l.qQL);_data;_onDestroy=new Ue.B;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(void 0===this._cellRoleInternal){const t=this._elementRef.nativeElement.getAttribute("role");return"grid"===t||"treegrid"===t?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}_trackByFn;get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=t,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=t,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new e.bkB;viewChange=new se.t({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=(0,l.WQX)(l.zZn);constructor(){(0,l.WQX)(new A.ES_("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName,this._dataDiffer=this._differs.find([]).create((i,o)=>this.trackBy?this.trackBy(o.dataIndex,o.data):o)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe((0,ye.Q)(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),(0,ae.i)(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(o,s,c)=>this._getEmbeddedViewArgs(o.item,c),o=>o.item.data,o=>{o.operation===G.a.INSERTED&&o.context&&this._renderCellTemplateForItem(o.record.item.rowDef,o.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(o=>{i.get(o.currentIndex).context.$implicit=o.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){const o=Ke(this._headerRowOutlet,"thead");o&&(o.style.display=t.length?"":"none")}const i=this._headerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,i,"top"),this._headerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){const o=Ke(this._footerRowOutlet,"tfoot");o&&(o.style.display=t.length?"":"none")}const i=this._footerRowDefs.map(o=>o.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,i,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,i),this._footerRowDefs.forEach(o=>o.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),o=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...o],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((s,c)=>{this._addStickyColumnStyles([s],this._headerRowDefs[c])}),this._rowDefs.forEach(s=>{const c=[];for(let f=0;f<i.length;f++)this._renderRows[f].rowDef===s&&c.push(i[f]);this._addStickyColumnStyles(c,s)}),o.forEach((s,c)=>{this._addStickyColumnStyles([s],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(s=>s.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return t;for(let o=0;o<this._data.length;o++){let s=this._data[o];const c=this._getRenderRowsForData(s,o,i.get(s));this._cachedRenderRowsMap.has(s)||this._cachedRenderRowsMap.set(s,new WeakMap);for(let f=0;f<c.length;f++){let y=c[f];const T=this._cachedRenderRowsMap.get(y.data);T.has(y.rowDef)?T.get(y.rowDef).push(y):T.set(y.rowDef,[y]),t.push(y)}}return t}_getRenderRowsForData(t,i,o){return this._getRowDefs(t,i).map(c=>{const f=o&&o.has(c)?o.get(c):[];if(f.length){const y=f.shift();return y.dataIndex=i,y}return{data:t,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),he(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=he(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=he(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=he(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(c,f)=>{const y=!!f.getColumnsDiff();return c||y},i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const o=this._headerRowDefs.reduce(t,!1);o&&this._forceRenderHeaderRows();const s=this._footerRowDefs.reduce(t,!1);return s&&this._forceRenderFooterRows(),i||o||s}_switchDataSource(t){this._data=[],(0,ae.i)(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;(0,ae.i)(this.dataSource)?t=this.dataSource.connect(this):(0,Ht.A)(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=(0,Y.of)(this.dataSource)),this._renderChangeSubscription=t.pipe((0,ye.Q)(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const o=Array.from(i?.columns||[]).map(f=>this._columnDefsByName.get(f)),s=o.map(f=>f.sticky),c=o.map(f=>f.stickyEnd);this._stickyStyler.updateStickyColumns(t,s,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let o=0;o<t.viewContainer.length;o++){const s=t.viewContainer.get(o);i.push(s.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let o=[];if(this.multiTemplateDataRows)o=this._rowDefs.filter(s=>!s.when||s.when(i,t));else{let s=this._rowDefs.find(c=>c.when&&c.when(i,t))||this._defaultRowDef;s&&o.push(s)}return o}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,o,s={}){const c=t.viewContainer.createEmbeddedView(i.template,s,o);return this._renderCellTemplateForItem(i,s),c}_renderCellTemplateForItem(t,i){for(let o of this._getCellTemplates(t))L.mostRecentCellOutlet&&L.mostRecentCellOutlet._viewContainer.createEmbeddedView(o,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,o=t.length;i<o;i++){const c=t.get(i).context;c.count=o,c.first=0===i,c.last=i===o-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const o=this._columnDefsByName.get(i);return t.extractCellTemplate(o)}):[]}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,o)=>i||o.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Jt(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,this._dir?this._dir.value:"ltr",this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:(0,Y.of)()).pipe((0,ye.Q)(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const o=this._noDataRowOutlet.viewContainer;if(i){const s=o.createEmbeddedView(t.templateRef),c=s.rootNodes[0];1===s.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(t._contentClassName))}else o.clear();this._isShowingNoDataRow=i,this._changeDetectorRef.markForCheck()}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=e.VBU({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(i,o,s){if(1&i&&(e.wni(s,de,5),e.wni(s,U,5),e.wni(s,le,5),e.wni(s,ee,5),e.wni(s,te,5)),2&i){let c;e.mGM(c=e.lsd())&&(o._noDataRow=c.first),e.mGM(c=e.lsd())&&(o._contentColumnDefs=c),e.mGM(c=e.lsd())&&(o._contentRowDefs=c),e.mGM(c=e.lsd())&&(o._contentHeaderRowDefs=c),e.mGM(c=e.lsd())&&(o._contentFooterRowDefs=c)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(i,o){2&i&&e.AVh("cdk-table-fixed-layout",o.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",A.L39],fixedLayout:[2,"fixedLayout","fixedLayout",A.L39]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[e.Jv_([{provide:V,useExisting:n},{provide:G.b,useClass:Le},{provide:Te,useValue:null}])],ngContentSelectors:Ut,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){1&i&&(e.NAR(Wt),e.SdG(0),e.SdG(1,1),e.nVh(2,Lt,1,0),e.nVh(3,Xt,7,0)(4,Qt,4,0)),2&i&&(e.R7$(2),e.vxM(o._isServer?2:-1),e.R7$(),e.vxM(o._isNativeHtmlTable?3:4))},dependencies:[Se,Ee,Me,ke],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2})}return n})();function he(n,a){return n.concat(Array.from(a))}function Ke(n,a){const t=a.toUpperCase();let i=n.viewContainer.element.nativeElement;for(;i;){const o=1===i.nodeType?i.nodeName:null;if(o===t)return i;if("TABLE"===o)break;i=i.parentNode}return null}let en=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=l.G2t({imports:[Xe.E9]})}return n})();var Je=r(8126),Ze=r(63617),xe=r(19999),tn=r(94724),Oe=r(70271);const nn=[[["caption"]],[["colgroup"],["col"]],"*"],on=["caption","colgroup, col","*"];function an(n,a){1&n&&e.SdG(0,2)}function sn(n,a){1&n&&(e.j41(0,"thead",0),e.eu8(1,1),e.k0s(),e.j41(2,"tbody",2),e.eu8(3,3)(4,4),e.k0s(),e.j41(5,"tfoot",0),e.eu8(6,5),e.k0s())}function rn(n,a){1&n&&e.eu8(0,1)(1,3)(2,4)(3,5)}let Ie=(()=>{class n extends ce{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(i,o){2&i&&e.AVh("mdc-table-fixed-layout",o.fixedLayout)},exportAs:["matTable"],features:[e.Jv_([{provide:ce,useExisting:n},{provide:V,useExisting:n},{provide:G.b,useClass:Le},{provide:Te,useValue:null}]),e.Vt3],ngContentSelectors:on,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(i,o){1&i&&(e.NAR(nn),e.SdG(0),e.SdG(1,1),e.nVh(2,an,1,0),e.nVh(3,sn,7,0)(4,rn,4,0)),2&i&&(e.R7$(2),e.vxM(o._isServer?2:-1),e.R7$(),e.vxM(o._isNativeHtmlTable?3:4))},dependencies:[Se,Ee,Me,ke],styles:[".mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}\n"],encapsulation:2})}return n})(),ue=(()=>{class n extends J{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","matCellDef",""]],features:[e.Jv_([{provide:J,useExisting:n}]),e.Vt3]})}return n})(),fe=(()=>{class n extends Z{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","matHeaderCellDef",""]],features:[e.Jv_([{provide:Z,useExisting:n}]),e.Vt3]})}return n})(),me=(()=>{class n extends U{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[e.Jv_([{provide:U,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),e.Vt3]})}return n})(),pe=(()=>{class n extends ve{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[e.Vt3]})}return n})(),_e=(()=>{class n extends De{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[e.Vt3]})}return n})(),Pe=(()=>{class n extends ee{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:[0,"matHeaderRowDef","columns"],sticky:[2,"matHeaderRowDefSticky","sticky",A.L39]},features:[e.Jv_([{provide:ee,useExisting:n}]),e.Vt3]})}return n})(),Ae=(()=>{class n extends le{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275dir=e.FsC({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[e.Jv_([{provide:le,useExisting:n}]),e.Vt3]})}return n})(),Ne=(()=>{class n extends we{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[e.Jv_([{provide:we,useExisting:n}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&e.eu8(0,0)},dependencies:[L],encapsulation:2})}return n})(),je=(()=>{class n extends Fe{static \u0275fac=(()=>{let t;return function(o){return(t||(t=e.xGo(n)))(o||n)}})();static \u0275cmp=e.VBU({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[e.Jv_([{provide:Fe,useExisting:n}]),e.Vt3],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(i,o){1&i&&e.eu8(0,0)},dependencies:[L],encapsulation:2})}return n})(),qe=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=e.$C({type:n});static \u0275inj=l.G2t({imports:[Je.M,en,Je.M]})}return n})();class et extends ae.D{_data;_renderData=new se.t([]);_filter=new se.t("");_internalPageChanges=new Ue.B;_renderChangesSubscription=null;filteredData;get data(){return this._data.value}set data(a){a=Array.isArray(a)?a:[],this._data.next(a),this._renderChangesSubscription||this._filterData(a)}get filter(){return this._filter.value}set filter(a){this._filter.next(a),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(a){this._sort=a,this._updateChangeSubscription()}_sort;get paginator(){return this._paginator}set paginator(a){this._paginator=a,this._updateChangeSubscription()}_paginator;sortingDataAccessor=(a,t)=>{const i=a[t];if((0,tn._)(i)){const o=Number(i);return o<9007199254740991?o:i}return i};sortData=(a,t)=>{const i=t.active,o=t.direction;return i&&""!=o?a.sort((s,c)=>{let f=this.sortingDataAccessor(s,i),y=this.sortingDataAccessor(c,i);const T=typeof f,O=typeof y;T!==O&&("number"===T&&(f+=""),"number"===O&&(y+=""));let I=0;return null!=f&&null!=y?f>y?I=1:f<y&&(I=-1):null!=f?I=1:null!=y&&(I=-1),I*("asc"==o?1:-1)}):a};filterPredicate=(a,t)=>{const i=t.trim().toLowerCase();return Object.values(a).some(o=>`${o}`.toLowerCase().includes(i))};constructor(a=[]){super(),this._data=new se.t(a),this._updateChangeSubscription()}_updateChangeSubscription(){const a=this._sort?(0,Ze.h)(this._sort.sortChange,this._sort.initialized):(0,Y.of)(null),t=this._paginator?(0,Ze.h)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):(0,Y.of)(null),o=(0,xe.z)([this._data,this._filter]).pipe((0,Oe.T)(([f])=>this._filterData(f))),s=(0,xe.z)([o,a]).pipe((0,Oe.T)(([f])=>this._orderData(f))),c=(0,xe.z)([s,t]).pipe((0,Oe.T)(([f])=>this._pageData(f)));this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=c.subscribe(f=>this._renderData.next(f))}_filterData(a){return this.filteredData=null==this.filter||""===this.filter?a:a.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(a){return this.sort?this.sortData(a.slice(),this.sort):a}_pageData(a){if(!this.paginator)return a;const t=this.paginator.pageIndex*this.paginator.pageSize;return a.slice(t,t+this.paginator.pageSize)}_updatePaginator(a){Promise.resolve().then(()=>{const t=this.paginator;if(t&&(t.length=a,t.pageIndex>0)){const i=Math.ceil(t.length/t.pageSize)-1||0,o=Math.min(t.pageIndex,i);o!==t.pageIndex&&(t.pageIndex=o,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){this._renderChangesSubscription?.unsubscribe(),this._renderChangesSubscription=null}}var _n=r(51567),gn=r(51903),yn=r(61318),Cn=r(43143),tt=r(47703),ge=r(28136),nt=r(95469),it=r(9001),vn=r(9006),Dn=r(43176),Rn=r(43758),ot=r(99277),ne=r(67993),at=r(35160),st=r(3347),Be=r(8923),rt=r(87698);const wn=["ngForm"];function bn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function Fn(n,a){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function Tn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function En(n,a){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.StaticName)}}function Sn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function kn(n,a){if(1&n&&(e.j41(0,"td",27),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.Type)}}function Mn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Share"),e.k0s()())}function xn(n,a){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const o=l.eBV(t).$implicit,s=e.XpG();return l.Njj(s.selectField(o))}),e.EFF(2,"Select"),e.k0s()()}}function On(n,a){1&n&&e.nrm(0,"tr",29)}function In(n,a){1&n&&e.nrm(0,"tr",30)}function Pn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"New Name"),e.k0s()())}function An(n,a){if(1&n&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&n){const t=e.XpG(3);e.Y8G("isError",!0),e.R7$(),e.JRh(t.fieldNameError)}}function Nn(n,a){if(1&n&&(e.j41(0,"app-field-hint",33),e.EFF(1),e.k0s()),2&n){e.XpG(2);const t=e.sdS(5);e.Y8G("isError",!0),e.R7$(),e.SpI(" ",t.errors.reservedNames," ")}}function jn(n,a){if(1&n&&(e.nVh(0,An,2,2,"app-field-hint",33),e.nVh(1,Nn,2,2,"app-field-hint",33)),2&n){e.XpG();const t=e.sdS(5);e.vxM(t.errors.pattern?0:-1),e.R7$(),e.vxM(t.errors.reservedNames?1:-1)}}function Bn(n,a){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"mat-form-field",31)(2,"mat-label"),e.EFF(3,"New Name"),e.k0s(),e.j41(4,"input",32,1),e.mxI("ngModelChange",function(o){const s=l.eBV(t).$implicit;return e.DH7(s.newName,o)||(s.newName=o),l.Njj(o)}),e.k0s()(),e.nVh(6,jn,2,2),e.k0s()}if(2&n){const t=a.$implicit,i=a.index,o=e.sdS(5),s=e.XpG();e.R7$(4),e.Y8G("pattern",s.fieldNamePattern),e.R50("ngModel",t.newName),e.Y8G("name","StaticName"+i)("appReservedNames",s.reservedNames()),e.R7$(2),e.vxM(o.errors?6:-1)}}function Gn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Source"),e.k0s()())}function Hn(n,a){if(1&n&&(e.j41(0,"td",34),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.E5c(" ",t.field.ContentType.Name,"/",t.field.StaticName," (",t.field.Type,") ")}}function Vn(n,a){1&n&&(e.j41(0,"th",26)(1,"b"),e.EFF(2,"Remove"),e.k0s()())}function $n(n,a){if(1&n){const t=e.RV6();e.j41(0,"td",27)(1,"button",28),e.bIt("click",function(){const o=l.eBV(t).$implicit,s=e.XpG();return l.Njj(s.removeField(o))}),e.EFF(2,"Remove"),e.k0s()()}}function Wn(n,a){1&n&&e.nrm(0,"tr",29)}function Un(n,a){1&n&&e.nrm(0,"tr",30)}let Ln=(()=>{class n extends Dn.${#e;#t;constructor(t,i,o,s,c,f){super(),this.dialogData=t,this.dialog=i,this.snackBar=o,this.matDialog=s,this.viewContainerRef=c,this.changeDetectorRef=f,this.hostClass="dialog-component",this.#e=(0,l.WQX)(it.D),this.#t=(0,S.d)(M.h),this.ContentTypeFieldsReuseDefinitions=ge.T.ContentTypeFieldsReuseDefinitions,this.optionsColumns=["contentType","name","type","share"],this.selectedColumns=["newName","source","remove"],this.shareableFields=new et([]),this.selectedFields=new et([]),this.fieldNamePattern=tt.w,this.fieldNameError=tt.s,this.#n=this.#t.getReservedNames().value,this.reservedNames=(0,m.EW)(()=>{const y=this.#n();return at.O.mergeReserved(y,this.dialogData.existingFields)}),this.saving=(0,ne.KX)("saving",!1),this.#i=this.#e.isEnabled[ge.T.ContentTypeFieldsReuseDefinitions],this.dialog.disableClose=!0,this.subscriptions.add(this.dialog.backdropClick().subscribe(()=>{(this.ngForm.dirty||this.selectedFields.data.length>0)&&!confirm("You have unsaved changes. Are you sure you want to close this dialog?")||this.dialog.close()}))}#n;#i;ngOnInit(){this.#t.getShareableFieldsPromise().then(t=>{this.shareableFields.data=t})}selectField(t){this.selectedFields.data=[...this.selectedFields.data,{newName:t.StaticName,field:t}]}removeField(t){const i=this.selectedFields.data;i.splice(i.indexOf(t),1),this.selectedFields.data=[...i]}closeDialog(){this.dialog.close()}save(){this.#i()?(this.saving.set(!0),this.snackBar.open("Saving..."),(0,Y.of)(...this.selectedFields.data).pipe((0,_n.p)(t=>!!t.newName),(0,gn.H)(t=>this.#t.addInheritedField(this.dialogData.contentType.Id,t.field.ContentType.Id,t.field.Guid,t.newName).pipe((0,yn.W)(i=>(0,Y.of)(null)))),(0,Cn.$)()).subscribe(t=>{this.saving.set(!1),this.snackBar.open("Saved",null,{duration:2e3}),this.dialog.close()})):(0,vn.j)(this.matDialog,ge.T.ContentTypeFieldsReuseDefinitions,this.viewContainerRef,this.changeDetectorRef)}static#s=this.\u0275fac=function(i){return new(i||n)(e.rXU(C.e),e.rXU(C.k),e.rXU(st.UG),e.rXU(C.h),e.rXU(e.c1b),e.rXU(A.gRc))};static#o=this.\u0275cmp=e.VBU({type:n,selectors:[["app-field-sharing-add-many"]],viewQuery:function(i,o){if(1&i&&e.GBs(wn,5,W.cV),2&i){let s;e.mGM(s=e.lsd())&&(o.ngForm=s.first)}},hostVars:1,hostBindings:function(i,o){2&i&&e.Avn("className",o.hostClass)},features:[e.Vt3],decls:62,vars:16,consts:[["ngForm","ngForm"],["newName","ngModel"],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[1,"eav-tables-div"],[1,"eav-table-div-left"],["mat-table","",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","eav-table-cell",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","share"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"eav-table-div-right"],["matColumnDef","newName"],["matColumnDef","source"],["mat-cell","","style","word-break: break-all","class","eav-table-cell",4,"matCellDef"],["matColumnDef","remove"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],["mat-header-cell",""],["mat-cell","",1,"eav-table-cell"],["mat-raised-button","","type","button",3,"click"],["mat-header-row",""],["mat-row",""],["color","accent",1,"eav-mat-form-field"],["matInput","",3,"ngModelChange","pattern","ngModel","name","appReservedNames"],[3,"isError"],["mat-cell","",1,"eav-table-cell",2,"word-break","break-all"]],template:function(i,o){if(1&i){const s=e.RV6();e.j41(0,"div",2)(1,"div",3)(2,"div",4),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",5),e.bIt("click",function(){return l.eBV(s),l.Njj(o.closeDialog())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",6)(9,"p"),e.EFF(10," Shared fields allow you to compose a content-type using fields which were defined in another content-type. These fields exist on this content-type, but use the definition incl. label and all other specs from the original field. "),e.k0s(),e.j41(11,"p"),e.EFF(12," This is a bit like "),e.j41(13,"strong"),e.EFF(14,"Content-Type Inheritance"),e.k0s(),e.EFF(15,", but instead of inheritance we're using "),e.j41(16,"strong"),e.EFF(17,"composition"),e.k0s(),e.EFF(18,", which is much more powerful. "),e.k0s(),e.j41(19,"p"),e.EFF(20),e.nI1(21,"translate"),e.nrm(22,"br"),e.j41(23,"em"),e.EFF(24," Note that if this app doesn't have published/shared field definitions, the list below will be empty. "),e.k0s()(),e.j41(25,"div",7)(26,"mat-card",8)(27,"table",9),e.qex(28,10),e.DNE(29,bn,3,0,"th",11)(30,Fn,2,1,"td",12),e.bVm(),e.qex(31,13),e.DNE(32,Tn,3,0,"th",11)(33,En,2,1,"td",12),e.bVm(),e.qex(34,14),e.DNE(35,Sn,3,0,"th",11)(36,kn,2,1,"td",12),e.bVm(),e.qex(37,15),e.DNE(38,Mn,3,0,"th",11)(39,xn,3,0,"td",12),e.bVm(),e.DNE(40,On,1,0,"tr",16)(41,In,1,0,"tr",17),e.k0s()(),e.j41(42,"mat-card",18)(43,"form",null,0)(45,"table",9),e.qex(46,19),e.DNE(47,Pn,3,0,"th",11)(48,Bn,7,5,"td",12),e.bVm(),e.qex(49,20),e.DNE(50,Gn,3,0,"th",11)(51,Hn,2,3,"td",21),e.bVm(),e.qex(52,22),e.DNE(53,Vn,3,0,"th",11)(54,$n,3,0,"td",12),e.bVm(),e.DNE(55,Wn,1,0,"tr",16)(56,Un,1,0,"tr",17),e.k0s()()()(),e.j41(57,"app-feature-text-info",23)(58,"em"),e.EFF(59," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(60,"mat-dialog-actions",24)(61,"app-save-close-button-fab",25),e.bIt("action",function(){return l.eBV(s),l.Njj(o.save())}),e.k0s()()()}if(2&i){const s=e.sdS(44);e.R7$(3),e.SpI("",e.bMT(4,12,"SharingOrInheriting.TitleAddFieldsWhichInherit")," (new v18)"),e.R7$(17),e.SpI(" ",e.bMT(21,14,"SharingOrInheriting.PickFieldsToInheritFrom")," "),e.R7$(7),e.Y8G("dataSource",o.shareableFields),e.R7$(13),e.Y8G("matHeaderRowDef",o.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",o.optionsColumns),e.R7$(4),e.Y8G("dataSource",o.selectedFields),e.R7$(10),e.Y8G("matHeaderRowDef",o.selectedColumns),e.R7$(),e.Y8G("matRowDefColumns",o.selectedColumns),e.R7$(),e.Y8G("featureNameId",o.ContentTypeFieldsReuseDefinitions)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",!s.form.valid||0==o.selectedFields.data.length||o.saving()?"disabled":"")("disabled",!s.form.valid||0==o.selectedFields.data.length||o.saving())}},dependencies:[oe.Hu,oe.RN,qe,Ie,fe,Pe,me,ue,Ae,pe,_e,Ne,je,u.Hl,u.$z,Be.M,W.YN,W.qT,W.me,W.BC,W.cb,W.R_,W.vS,W.cV,Gt.M,rt.j,rt.M,We.fS,We.fg,at.O,C.M,E.h,E.D9,nt.L,Rn.F,p.m_,p.An,ot.i],styles:[".eav-tables-div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;margin-top:4px;padding-top:4px;height:400px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-left[_ngcontent-%COMP%]{width:50%;height:100%;margin-right:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]{width:50%;height:100%;margin-left:4px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-div-right[_ngcontent-%COMP%]   .eav-mat-form-field[_ngcontent-%COMP%]{max-width:150px}.eav-tables-div[_ngcontent-%COMP%]   .eav-table-cell[_ngcontent-%COMP%]{border-bottom:1px solid rgba(0,0,0,.1)}.eav-tables-div[_ngcontent-%COMP%]   .mat-column-source[_ngcontent-%COMP%]{min-width:150px}"]})}return n})();var Xn=r(37739),Qn=r(93609),zn=r(34435),$=function(n){return n[n.None=0]="None",n[n.Sharing=1]="Sharing",n[n.Inheriting=2]="Inheriting",n}($||{});const Kn=n=>({"my-selected":n}),Yn=(n,a)=>a.complete,Jn=(n,a)=>a.AttributeId;function Zn(n,a){1&n&&e.eu8(0)}function qn(n,a){if(1&n&&(e.j41(0,"p"),e.EFF(1," This field is published so it can be shared by other Content Types. As such you cannot configure anything here, but just review the information. "),e.k0s(),e.j41(2,"div"),e.EFF(3," Global Identifier: "),e.j41(4,"strong"),e.EFF(5),e.k0s()(),e.j41(6,"h4"),e.EFF(7,"Inherited by"),e.k0s(),e.DNE(8,Zn,1,0,"ng-container",9)),2&n){const t=e.XpG(),i=e.sdS(18);e.R7$(5),e.JRh(t.dialogData.Guid),e.R7$(3),e.Y8G("ngTemplateOutlet",i)}}function ei(n,a){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.complete)}}function ti(n,a){if(1&n&&(e.j41(0,"ol"),e.Z7z(1,ei,2,1,"li",null,Yn),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Dyx(t.inherited())}}function ni(n,a){1&n&&e.eu8(0)}function ii(n,a){if(1&n&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t)}}function oi(n,a){if(1&n&&(e.j41(0,"h4"),e.EFF(1,"Not Inherited Definitions"),e.k0s(),e.j41(2,"p"),e.EFF(3,"The following definitions are not inherited, so you can specify them on this field:"),e.k0s(),e.j41(4,"ol"),e.Z7z(5,ii,2,1,"li",null,e.fX1),e.k0s()),2&n){const t=e.XpG(2);e.R7$(5),e.Dyx(t.notInherited())}}function ai(n,a){if(1&n&&(e.j41(0,"p"),e.EFF(1,"This field is inheriting it's definition from another previously shared field."),e.k0s(),e.j41(2,"h4"),e.EFF(3,"Inherits Definition from"),e.k0s(),e.nVh(4,ti,3,0,"ol"),e.DNE(5,ni,1,0,"ng-container",9),e.nVh(6,oi,7,0)),2&n){const t=e.XpG(),i=e.sdS(18);e.R7$(4),e.vxM(t.features.isEnabled[t.requiredFeature]()?-1:4),e.R7$(),e.Y8G("ngTemplateOutlet",i),e.R7$(),e.vxM(t.notInherited().length?6:-1)}}function si(n,a){1&n&&(e.j41(0,"p"),e.EFF(1,"This will share the field definition for others to use. Save to complete the operation."),e.k0s())}function ri(n,a){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Content Type"),e.k0s()())}function li(n,a){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.ContentType.Name)}}function di(n,a){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Name"),e.k0s()())}function ci(n,a){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.StaticName)}}function hi(n,a){1&n&&(e.j41(0,"th",20)(1,"b"),e.EFF(2,"Type"),e.k0s()())}function ui(n,a){if(1&n&&(e.j41(0,"td",21),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.JRh(t.Type)}}function fi(n,a){1&n&&e.nrm(0,"tr",22)}function mi(n,a){if(1&n){const t=e.RV6();e.j41(0,"tr",23),e.bIt("click",function(){const o=l.eBV(t).$implicit,s=e.XpG(3);return l.Njj(s.inheritField(o))}),e.k0s()}if(2&n){const t=a.$implicit,i=e.XpG(3);e.Y8G("ngClass",e.eq3(1,Kn,i.guid===t.Guid))}}function pi(n,a){if(1&n&&(e.j41(0,"p"),e.EFF(1," The following fields have the same data type and share their definitions. Select one to inherit from. Some notes: "),e.nrm(2,"br"),e.k0s(),e.j41(3,"ul")(4,"li"),e.EFF(5,"Inheriting will remove/ignore all current definition of this field such as label, hidden, etc."),e.k0s(),e.j41(6,"li"),e.EFF(7," If the field you want to inherit the definition from is missing from this list, it's either a different data type or it's not shared. "),e.k0s()(),e.j41(8,"mat-card",11)(9,"table",12),e.qex(10,13),e.DNE(11,ri,3,0,"th",14)(12,li,2,1,"td",15),e.bVm(),e.qex(13,16),e.DNE(14,di,3,0,"th",14)(15,ci,2,1,"td",15),e.bVm(),e.qex(16,17),e.DNE(17,hi,3,0,"th",14)(18,ui,2,1,"td",15),e.bVm(),e.DNE(19,fi,1,0,"tr",18)(20,mi,1,3,"tr",19),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(9),e.Y8G("dataSource",t.shareableFields()),e.R7$(10),e.Y8G("matHeaderRowDef",t.optionsColumns),e.R7$(),e.Y8G("matRowDefColumns",t.optionsColumns)}}function _i(n,a){if(1&n){const t=e.RV6();e.j41(0,"p"),e.EFF(1,"This field is currently not shared or inherited. You can choose to:"),e.k0s(),e.j41(2,"ul")(3,"li"),e.EFF(4,"Make it public ("),e.j41(5,"strong"),e.EFF(6,"share"),e.k0s(),e.EFF(7,") so it can be re-used by other Content Types"),e.k0s(),e.j41(8,"li"),e.EFF(9,"Change it to "),e.j41(10,"strong"),e.EFF(11,"inherit"),e.k0s(),e.EFF(12," it's definition from another previously shared field"),e.k0s()(),e.nrm(13,"br"),e.j41(14,"div")(15,"button",10),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.setShare())}),e.EFF(16," Share "),e.k0s(),e.j41(17,"button",10),e.bIt("click",function(){l.eBV(t);const o=e.XpG();return l.Njj(o.startInherit())}),e.EFF(18," Inherit "),e.k0s(),e.nVh(19,si,2,0,"p")(20,pi,21,3),e.k0s()}if(2&n){let t;const i=e.XpG();e.R7$(15),e.HbH("eav-dialog-action-button"+(i.state==i.sharingOrInheriting.Sharing?" eav-action-button":"")),e.R7$(2),e.HbH("eav-dialog-action-button"+(i.state==i.sharingOrInheriting.Inheriting?" eav-action-button":"")),e.R7$(2),e.vxM((t=i.state)===i.sharingOrInheriting.Sharing?19:t===i.sharingOrInheriting.Inheriting?20:-1)}}function gi(n,a){if(1&n&&(e.j41(0,"li"),e.EFF(1," Guid: "),e.j41(2,"strong"),e.EFF(3),e.k0s(),e.nrm(4,"br"),e.EFF(5," Content Type: "),e.j41(6,"strong"),e.EFF(7),e.k0s(),e.nrm(8,"br"),e.EFF(9," Field: "),e.j41(10,"strong"),e.EFF(11),e.k0s(),e.EFF(12),e.k0s()),2&n){const t=a.$implicit;e.R7$(3),e.JRh(t.Guid),e.R7$(4),e.JRh(t.ContentType.Name),e.R7$(4),e.JRh(t.StaticName),e.R7$(),e.SpI(" (",t.AttributeId,") ")}}function yi(n,a){if(1&n&&(e.j41(0,"ul"),e.Z7z(1,gi,13,4,"li",null,Jn),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Dyx(t.details())}}function Ci(n,a){1&n&&(e.j41(0,"em"),e.EFF(1," No details available. This field probably does not have any inheriting fields. "),e.k0s())}function vi(n,a){if(1&n&&e.nVh(0,yi,3,0,"ul")(1,Ci,2,0,"em"),2&n){const t=e.XpG(2);e.vxM(t.details().length?0:1)}}function Di(n,a){if(1&n&&(e.j41(0,"em"),e.EFF(1," You can get more details about the parents by enabling the feature "),e.nrm(2,"br"),e.EFF(3),e.nrm(4,"app-feature-icon-text",24),e.EFF(5,". "),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.SpI(" ",t.requiredFeature," "),e.R7$(),e.Y8G("featureNameId",t.requiredFeature)}}function Ri(n,a){if(1&n&&e.nVh(0,vi,2,1)(1,Di,6,2,"em"),2&n){const t=e.XpG();e.vxM(t.features.isEnabled[t.requiredFeature]()?0:1)}}const wi={all:!0,constructor:!0};let Fi=(()=>{class n{#e;constructor(t,i,o){this.dialogData=t,this.features=i,this.dialog=o,this.log=(0,zn.Tq)({ShareOrInheritDialogComponent:n},wi),this.#e=(0,S.d)(M.h),this.requiredFeature=ge.T.ContentTypeFieldsReuseDefinitions,this.details=(0,ne.KX)("details",[]),this.optionsColumns=["contentType","name","type"],this.state=$.None,this.sharingOrInheriting=$,this.guid=null,this.shareableFields=(0,l.vPA)(void 0),this.initialState=(()=>{const f=this.dialogData.SysSettings;return f&&(f.Share||f.InheritMetadataOf)?f.Share?$.Sharing:$.Inheriting:$.None})(),this.title="SharingOrInheriting.Title"+this.sharingOrInheriting[this.initialState],this.#t=(0,ne.bo)("inheritsInfo",()=>{const y=this.dialogData.SysSettings.InheritMetadataOf.split(",").map(T=>({complete:T,guid:T.substring(0,36),name:T.substring(36)}));return(0,Xn.A)(y,T=>"00000000-0000-0000-0000-000000000000"===T.guid?"none":"inherits")}),this.notInherited=(0,ne.bo)("notInherited",()=>this.#t().none?.map(f=>f.name)??[]),this.inherited=(0,ne.bo)("inherited",()=>this.#t().inherits??[]),this.log.fnIf("constructor",{dialogData:t});const c=t.SysSettings;c&&(c.Share?this.#e.getDescendants(t.Id).then(f=>this.details.set(f)):c.InheritMetadataOf&&this.#e.getAncestors(t.Id).then(f=>this.details.set(f)))}#t;setShare(){this.guid=null,this.state=$.Sharing}startInherit(){this.guid=null,this.state=$.Inheriting,this.#e.getShareableFieldsFor(this.dialogData.AttributeId).then(t=>this.shareableFields.set(t))}inheritField(t){this.guid=t.Guid}save(){this.state==$.Sharing?this.#e.share(this.dialogData.Id).subscribe(()=>this.dialog.close()):this.state==$.Inheriting&&this.#e.inherit(this.dialogData.Id,this.guid).subscribe(()=>this.dialog.close())}static#n=this.\u0275fac=function(i){return new(i||n)(e.rXU(C.e),e.rXU(it.D),e.rXU(C.k))};static#i=this.\u0275cmp=e.VBU({type:n,selectors:[["app-field-sharing-configure"]],decls:19,vars:8,consts:[["detailsOrWarning",""],[1,"eav-dialog","eav-no-scrollbar"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"featureNameId","asInfo"],["align","end"],[3,"action","ngClass","disabled"],[4,"ngTemplateOutlet"],["mat-raised-button","","type","button",3,"click"],[1,"my-options-wrapper"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","contentType"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["matColumnDef","type"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click","ngClass"],[3,"featureNameId"]],template:function(i,o){if(1&i){const s=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"div",3),e.EFF(3),e.nI1(4,"translate"),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return l.eBV(s),l.Njj(o.dialog.close())}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.j41(8,"div",5),e.nVh(9,qn,9,2)(10,ai,7,3)(11,_i,21,5),e.j41(12,"app-feature-text-info",6)(13,"em"),e.EFF(14," Even if the feature is not licensed, it will always work but show warnings. "),e.k0s()()(),e.j41(15,"mat-dialog-actions",7)(16,"app-save-close-button-fab",8),e.bIt("action",function(){return l.eBV(s),l.Njj(o.save())}),e.k0s()()(),e.DNE(17,Ri,2,1,"ng-template",null,0,e.C5r)}if(2&i){let s;e.R7$(3),e.SpI(" ",e.bMT(4,6,o.title)," "),e.R7$(6),e.vxM((s=o.initialState)===o.sharingOrInheriting.Sharing?9:s===o.sharingOrInheriting.Inheriting?10:s===o.sharingOrInheriting.None?11:-1),e.R7$(3),e.Y8G("featureNameId",o.requiredFeature)("asInfo",!0),e.R7$(4),e.Y8G("ngClass",o.initialState!=o.sharingOrInheriting.None?"disabled":"")("disabled",o.initialState!=o.sharingOrInheriting.None)}},dependencies:[u.Hl,u.$z,Be.M,p.m_,p.An,oe.Hu,oe.RN,qe,Ie,fe,Pe,me,ue,Ae,pe,_e,Ne,je,R.YU,R.T3,E.h,E.D9,nt.L,Qn.U,C.M,ot.i],styles:[".my-options-wrapper[_ngcontent-%COMP%]{margin-top:8px;width:100%;max-height:400px;overflow-y:auto;border:1px solid rgba(0,0,0,.1)}.my-options-wrapper[_ngcontent-%COMP%]   .my-selected[_ngcontent-%COMP%]{background-color:#00000026}.eav-dialog-action-button[_ngcontent-%COMP%]{margin-right:8px}"]})}return n})();var Ti=r(58857);const Ei=(n,a)=>({"grid-sorted":n,"grid-filtered":a});function Si(n,a){if(1&n){const t=e.RV6();e.j41(0,"ag-grid-angular",9),e.bIt("rowDragEnter",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onRowDragEnter(o))})("rowDragEnd",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onRowDragEnd(o))})("rowDragMove",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onRowDragMove(o))})("gridReady",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onGridReady(o))})("sortChanged",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onSortChanged(o))})("filterChanged",function(o){l.eBV(t);const s=e.XpG();return l.Njj(s.onFilterChanged(o))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("rowData",t.fields())("gridOptions",t.gridOptions)("ngClass",e.l_i(3,Ei,t.sortApplied,t.filterApplied))}}let ki=(()=>{class n{#e;#t;#n;constructor(t,i,o,s){this.dialog=t,this.snackBar=i,this.matDialog=o,this.viewContainerRef=s,this.#e=(0,S.d)(ut.c),this.#t=(0,S.d)(d.g),this.#n=(0,S.d)(M.h),this.#i=this.#e.getParam("contentTypeStaticName"),this.refresh=(0,l.vPA)(0),this.isReordering=(0,l.vPA)(!1),this.#s={empty:{description:"<p><b>This is where you manage Fields</b></p>",hint:"<p>Click the (+) in the bottom right corner to create your first Field (think: column).</p>"},content:{description:"<p><b>These are the Fields of this Content-Type</b> <br>They are similar to database columns.</p>",hint:"<p>Click on the <em>Name</em> to configure it or on the <em>Input</em> to change the type. <br><br>You can also create new fields, share field definitions, manage field metadata/permissions or rename fields.</p>"}},this.uxHelpText=(0,m.EW)(()=>0===this.fields()?.length?this.#s.empty:this.#s.content),this.contentType=this.#t.getType(this.#i).value,this.fields=(0,l.vPA)(void 0),this.gridOptions=this.#v(),this.sortApplied=!1,this.filterApplied=!1,this.#r=!1}#i;#s;#o;#r;ngOnInit(){this.#a(),this.#e.doOnDialogClosed(()=>this.#a())}onGridReady(t){this.#o=t.api}onRowDragEnter(t){this.#o.setGridOption("enableCellTextSelection",!1)}onRowDragEnd(t){this.#o.setGridOption("suppressRowDrag",!0),this.isReordering.set(!0);const i=this.fields().map(o=>o.Id);this.#n.reOrder(i,this.contentType()).subscribe(()=>{this.#a(()=>{this.#o.setGridOption("enableCellTextSelection",!0),this.#o.setGridOption("suppressRowDrag",!1),this.isReordering.set(!1)})})}onRowDragMove(t){const i=t.overNode;if(!i)return;const o=t.node;if(o===i)return;const s=[...this.fields()],c=s.indexOf(o.data),f=s.indexOf(i.data),y=this.#d(s,c,f);this.fields.set(y),this.#o.clearFocusedCell()}#d(t,i,o){const s=t[i];return t.splice(i,1),t.splice(o,0,s),[...t]}onSortChanged(t){const i=this.#o.getColumnState();this.sortApplied=i.some(o=>null!=o.sort),this.#l()}onFilterChanged(t){const i=this.#o.getFilterModel(),o=Object.keys(i);this.filterApplied=o.length>0,this.#l()}#l(){const t=this.sortApplied||this.filterApplied;t&&!this.#r?(this.#r=!0,this.#o.setGridOption("suppressRowDrag",!0)):!t&&this.#r&&(this.#r=!1,this.#o.setGridOption("suppressRowDrag",!1))}add(){this.#e.navRelative([`add/${this.#i}`])}addSharedField(){this.matDialog.open(Ln,{autoFocus:!1,width:"1600px",data:{contentType:this.contentType(),existingFields:this.fields()},viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#a())}#D(t){const i=t.data.InputType;if(x.Q.endsPreviousGroup(i))return t.value;let o=!1;for(const s of this.fields())if(x.Q.isGroupStart(i))o=!0;else if(x.Q.isGroupEnd(i))o=!1;else if(s.StaticName===t.data.StaticName)break;return o?`<span class="is-in-group">${t.value}</span>`:t.value}#a(t){this.#n.getFieldsPromise(this.#i).then(i=>{this.fields.set(i),t?.()})}#c(t,i){const o=i.replace("@",""),s=("@"+i).replace("@@","@"),c=t.Metadata[o];return null!=c?K.c.editId(c.Id):{...K.c.newMetadata(t.Id,s,N.YX.metadata.attribute),Prefill:{Name:t.StaticName}}}#h(t){this.snackBar.open("Setting title..."),this.#n.setTitle(t,this.contentType()).subscribe(()=>{this.snackBar.open("Title set",null,{duration:2e3}),this.#a()})}#u(t){this.#e.navRelative([`update/${this.#i}/${t.Id}/name`])}#f(t){this.matDialog.open(P.F,{autoFocus:!1,data:{entityId:t.Id,entityTitle:t.StaticName,message:"Delete Item?",hasDeleteSnackbar:!0},viewContainerRef:this.viewContainerRef,width:"600px"}).afterClosed().subscribe(i=>{i&&this.#n.delete(t,this.contentType()).subscribe(()=>{this.snackBar.open("Deleted",null,{duration:2e3}),this.#a()})})}#m(t){this.#e.navRelative([b.k.getUrlAttribute(t.Id)])}#p(t){const i=t.imageConfiguration;if(1!=i?.isRecommended)throw new Error("This field does not expect to have an image configuration");const o=i.entityId?K.c.editId(i.entityId):K.c.newMetadata(t.Id,i.typeName,N.YX.metadata.attribute),s=(0,z.s)({items:[o]});this.#e.navRelative([`edit/${s}`])}#_(t){const i=g.H.getUrlAttribute(t.Id,`Metadata for Field: ${t.StaticName} (${t.Id})`);this.#e.navRelative([i])}#g(t){const i={items:Object.keys(t.ConfigTypes).map(s=>this.#c(t,s))},o=(0,z.s)(i);return"#"+this.#e.urlSubRoute(`edit/${o}`)}#y(t){return"#"+this.#e.urlSubRoute(`update/${this.#i}/${t.Id}/inputType`)}#C(t){this.matDialog.open(Fi,{autoFocus:!1,width:"800px",data:t,viewContainerRef:this.viewContainerRef}).afterClosed().subscribe(()=>this.#a())}#v(){return{...v.C,getRowClass(i){const o=i.data,s=[];return o.EditInfo.DisableSort&&s.push("disable-row-drag"),x.Q.isGroupStart(o.InputType)&&s.push("group-start-row"),x.Q.isGroupEnd(o.InputType)&&s.push("group-end-row"),s},columnDefs:[{rowDrag:!0,width:18,cellClass:"no-select no-padding no-outline".split(" "),cellRenderer:vt,cellRendererParams:{isReordering:()=>this.isReordering()}},{field:"Title",width:42,cellClass:"secondary-action no-padding no-outline".split(" "),valueGetter:i=>i.data.IsTitle,cellRenderer:Nt,cellRendererParams:{onSetTitle:i=>this.#h(i)}},{..._.r.TextWidePrimary,headerName:"Name",field:"StaticName",cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),cellRenderer:i=>D.f.cellLink(this.#g(i.data),i.value)},{..._.r.ItemsText,field:"Type",width:70,valueGetter:i=>i.data.Type,cellRenderer:Bt},{..._.r.ItemsText,headerName:"Input",field:"InputType",width:160,cellClass:i=>(i.data.EditInfo.DisableEdit?"no-outline":"primary-action highlight").split(" "),valueGetter:i=>i.data.InputType.substring(i.data.InputType.indexOf("-")+1),cellRenderer:i=>D.f.cellLink(this.#y(i.data),i.value)},{field:"Label",flex:2,minWidth:200,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Name},{field:"Special",width:132,headerClass:"dense",cellClass:"no-outline",cellRenderer:It},{field:"Notes",flex:2,minWidth:250,cellClass:"no-outline",sortable:!0,filter:"agTextColumnFilter",valueGetter:i=>i.data.Metadata?.All?.Notes},{..._.r.ActionsPinnedRight5,cellRenderer:yt,cellRendererParams:{do:(i,o)=>{switch(i){case"rename":this.#u(o);break;case"delete":this.#f(o);break;case"permissions":this.#m(o);break;case"metadata":this.#_(o);break;case"shareOrInherit":this.#C(o);break;case"image":this.#p(o)}}}}]}}static#R=this.\u0275fac=function(i){return new(i||n)(e.rXU(C.k),e.rXU(st.UG),e.rXU(C.h),e.rXU(e.c1b))};static#w=this.\u0275cmp=e.VBU({type:n,selectors:[["app-content-type-fields"]],decls:17,vars:9,consts:[["appToggleDebug","",1,"eav-dialog","nav-component-wrapper"],[2,"height","100%",3,"helpText","refresh","rowLength"],["eav-dialog-header","",1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"ag-theme-material","eav-dialog-content",3,"rowData","gridOptions","ngClass"],["align","end"],["mat-raised-button","","type","button",3,"click"],["mat-fab","","mat-elevation-z24","","tippy","Add fields",1,"grid-fab",3,"click","disabled"],[1,"ag-theme-material","eav-dialog-content",3,"rowDragEnter","rowDragEnd","rowDragMove","gridReady","sortChanged","filterChanged","rowData","gridOptions","ngClass"]],template:function(i,o){if(1&i&&(e.j41(0,"div",0)(1,"app-grid-with-help",1)(2,"div",2)(3,"div",3),e.EFF(4),e.k0s(),e.j41(5,"button",4),e.bIt("click",function(){return o.dialog.close()}),e.j41(6,"mat-icon"),e.EFF(7,"close"),e.k0s()()(),e.nVh(8,Si,1,6,"ag-grid-angular",5),e.j41(9,"mat-dialog-actions",6)(10,"button",7),e.bIt("click",function(){return o.addSharedField()}),e.EFF(11),e.nI1(12,"translate"),e.k0s(),e.j41(13,"button",8),e.bIt("click",function(){return o.add()}),e.j41(14,"mat-icon"),e.EFF(15,"add"),e.k0s()()()()(),e.nrm(16,"router-outlet")),2&i){let s,c,f;e.R7$(),e.Y8G("helpText",o.uxHelpText())("refresh",o.refresh())("rowLength",null==(s=o.fields())?null:s.length),e.R7$(3),e.SpI("",(null==(c=o.contentType())?null:c.Label)||(null==(c=o.contentType())?null:c.Name)," Fields"),e.R7$(4),e.vxM((null==(f=o.fields())?null:f.length)>0?8:-1),e.R7$(3),e.JRh(e.bMT(12,7,"SharingOrInheriting.AddSharedField")),e.R7$(2),e.Y8G("disabled",null==o.contentType()||o.contentType().EditInfo.ReadOnly)}},dependencies:[u.Hl,u.$z,Be.M,u.Sr,p.m_,p.An,h.n3,R.YU,C.M,w.V,ht.p,Ti.xs,E.h,E.D9,k.v],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .id-box *, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{color:#85283b!important}"]})}return n})()},51191:(j,F,r)=>{r.d(F,{O:()=>k});var R=r(37580),l=r(84175),m=r(81863),u=r(93840),C=r(90852),p=r(12938),h=r(69914),E=r(25081),S=r(67993),d=r(99293),P=r(44444),g=r(8923);function b(v,N){if(1&v&&(d.j41(0,"div",6)(1,"div",7),d.EFF(2),d.nI1(3,"translate"),d.k0s(),d.j41(4,"div",8)(5,"span"),d.EFF(6),d.nI1(7,"translate"),d.k0s()()()),2&v){const w=d.XpG(2);d.R7$(2),d.SpI("",d.bMT(3,2,"Features.Status"),":"),d.R7$(4),d.JRh(d.bMT(7,4,w.feature().isEnabled?"Features.Active":"Features.NotActive"))}}function D(v,N){if(1&v){const w=d.RV6();d.j41(0,"div",6)(1,"div",7),d.EFF(2,"GUID:"),d.k0s(),d.j41(3,"div",12)(4,"span",9),d.bIt("click",function(){P.eBV(w);const x=d.XpG(2);return P.Njj(x.clipboard.copyToClipboard(x.feature().guid))}),d.EFF(5),d.k0s()()()}if(2&v){const w=d.XpG(2);d.R7$(5),d.JRh(w.feature().guid)}}function _(v,N){if(1&v){const w=d.RV6();d.j41(0,"div",0)(1,"div",1)(2,"div",2),d.EFF(3),d.k0s(),d.j41(4,"button",3),d.bIt("click",function(){P.eBV(w);const x=d.XpG();return P.Njj(x.closeDialog())}),d.j41(5,"mat-icon"),d.EFF(6,"close"),d.k0s()()(),d.j41(7,"div",4),d.nrm(8,"p",5),d.nI1(9,"safeHtml"),d.j41(10,"div",6)(11,"div",7),d.EFF(12,"ID:"),d.k0s(),d.j41(13,"div",8)(14,"span",9),d.bIt("click",function(){P.eBV(w);const x=d.XpG();return P.Njj(x.clipboard.copyToClipboard(x.feature().nameId))}),d.EFF(15),d.k0s()()(),d.nVh(16,b,8,6,"div",6),d.nVh(17,D,6,1,"div",6),d.j41(18,"div",6)(19,"div",7),d.EFF(20,"Security Rating:"),d.k0s(),d.j41(21,"div",8)(22,"span"),d.EFF(23),d.k0s()()()(),d.j41(24,"mat-dialog-actions",10)(25,"a",11)(26,"mat-icon"),d.EFF(27,"open_in_new"),d.k0s(),d.EFF(28," Find out more "),d.k0s()()()}if(2&v){const w=d.XpG();d.R7$(3),d.SpI(" ",w.feature().name," "),d.R7$(5),d.Y8G("innerHtml",d.bMT(9,7,w.feature().description),d.npT),d.R7$(7),d.JRh(w.feature().nameId),d.R7$(),d.vxM(w.mySpecs().showStatus?16:-1),d.R7$(),d.vxM(w.mySpecs().showGuid?17:-1),d.R7$(6),d.JRh(w.feature().security.Impact+": "+w.feature().security.Message),d.R7$(2),d.Y8G("href",w.feature().link,d.B4B)}}let k=(()=>{class v{constructor(w,M){this.dialogSpecs=w,this.dialog=M,this.specs=(0,R.hFB)(),this.mySpecs=(0,S.bo)("mySpecs",()=>this.specs()??this.dialogSpecs),this.feature=(0,S.bo)("feature",()=>this.mySpecs()?.feature),this.clipboard=(0,p.d)(E.W)}closeDialog(){this.dialog.close()}static#e=this.\u0275fac=function(M){return new(M||v)(d.rXU(m.e,8),d.rXU(m.k))};static#t=this.\u0275cmp=d.VBU({type:v,selectors:[["app-feature-details-dialog"]],inputs:{specs:[1,"specs"]},decls:1,vars:1,consts:[[1,"eav-dialog"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-content"],[3,"innerHtml"],[1,"eav-info-row"],[1,"eav-info-row__label"],[1,"eav-info-row__value"],[3,"click"],["align","end"],["target","_blank","mat-raised-button","",3,"href"],[1,"eav-info-row__value","eav_click"]],template:function(M,x){1&M&&d.nVh(0,_,29,9,"div",0),2&M&&d.vxM(x.feature()?0:-1)},dependencies:[l.Hl,l.$z,g.M,u.m_,u.An,h.$,C.h,C.D9,m.M],styles:["a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#465da3!important}"]})}return v})()},60850:(j,F,r)=>{r.d(F,{_:()=>R});class R{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(m,u,C,p,h){this._defaultMatcher=m,this.ngControl=u,this._parentFormGroup=C,this._parentForm=p,this._stateChanges=h}updateErrorState(){const m=this.errorState,u=this._parentFormGroup||this._parentForm,C=this.matcher||this._defaultMatcher,p=this.ngControl?this.ngControl.control:null,h=C?.isErrorState(p,u)??!1;h!==m&&(this.errorState=h,this._stateChanges.next())}}},68163:(j,F,r)=>{r.d(F,{v:()=>S});var R=r(58857),l=r(37580),m=r(99293),u=r(64173),C=r(81863);const p=["gridWrapper"],h=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],E=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let S=(()=>{class d{constructor(){this.gridWrapper=(0,l.ebz)("gridWrapper",{read:m.aKT}),this.agGrid=(0,l.sbv)(R.xs,{read:m.aKT}),this.dialogAction=(0,l.sbv)(C.M,{read:m.aKT}),this.helpText=l.hFB.required({}),this.refresh=l.hFB.required(),this.rowLength=l.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,u.QZ)(()=>{this.refresh();const b=this.rowLength(),D=this.gridWrapper()?.nativeElement;D&&(0,u.O8)(()=>this.#e(D,b))})}#e(g,b){const D=this.agGrid()?.nativeElement,_=this.dialogAction()?.nativeElement,k=g.querySelector(".help-info-card");setTimeout(()=>{if(k.classList.toggle("center-center",0===b),!D||!_)return;k.style.flex="";const v=this.#t(g,D,_,k,b);D.style.flex=v.rowHeight?`0 0 ${v.agGridHeight}px`:"0px";const N=document.querySelector(".mat-sidenav-content"),w=document.querySelector(".mat-mdc-dialog-container"),z=(document.querySelector(".nav-component-wrapper")?w:N).clientHeight-v.dialogHeaderHeight-v.dialogActionHeight-2;D.style.maxHeight=`${z}px`;const K=v.helpCardHeight+v.agGridHeight+v.dialogActionHeight+v.dialogHeaderHeight>v.wrapperHeight;k.style.flex="1 1 auto",k?.classList.toggle("hidden-help-info-card",K)},0)}#t(g,b,D,_,k){const v=b.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:v,agGridHeight:this.GRID_HEADER_HEIGHT+k*v,helpCardHeight:_.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:D.offsetHeight,dialogHeaderHeight:g.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:g.offsetHeight}}static#n=this.\u0275fac=function(b){return new(b||d)};static#i=this.\u0275cmp=m.VBU({type:d,selectors:[["app-grid-with-help"]],contentQueries:function(b,D,_){1&b&&(m.C6U(_,D.agGrid,R.xs,5,m.aKT),m.C6U(_,D.dialogAction,C.M,5,m.aKT)),2&b&&m.NyB(2)},viewQuery:function(b,D){1&b&&m.wEZ(D.gridWrapper,p,5,m.aKT),2&b&&m.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:E,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(b,D){1&b&&(m.NAR(h),m.j41(0,"div",1,0),m.SdG(2),m.SdG(3,1),m.SdG(4,2),m.j41(5,"div",2)(6,"div",3),m.nrm(7,"span",4)(8,"span",4),m.k0s()(),m.SdG(9,3),m.k0s()),2&b&&(m.R7$(7),m.Y8G("innerHTML",D.helpText().description,m.npT),m.R7$(),m.Y8G("innerHTML",D.helpText().hint,m.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return d})()},95469:(j,F,r)=>{r.d(F,{L:()=>P});var R=r(37580),l=r(93840),m=r(90852),u=r(34601),C=r(67993),p=r(9006),h=r(99293),E=r(44444);const S=["*"];function d(g,b){if(1&g){const D=h.RV6();h.j41(0,"div",1),h.nI1(1,"translate"),h.bIt("click",function(){E.eBV(D);const k=h.XpG();return E.Njj(k.openDialog())}),h.j41(2,"mat-icon"),h.EFF(3),h.k0s(),h.j41(4,"div",2)(5,"div",3),h.EFF(6),h.nI1(7,"translate"),h.k0s(),h.j41(8,"div",4),h.EFF(9),h.nI1(10,"translate"),h.k0s(),h.SdG(11),h.k0s()()}if(2&g){const D=h.XpG();h.Y8G("tippy",h.i5U(1,7,"Features.Tooltip",D.feature())),h.R7$(2),h.HbH(h.VkB("icon icon-",D.icon())),h.R7$(),h.JRh(D.icon()),h.R7$(3),h.JRh(h.bMT(7,10,"Features.FeatureNotActivated")),h.R7$(3),h.JRh(h.bMT(10,12,"Features.ClickToFindOutMore"))}}let P=(()=>{class g extends p.x{constructor(){super(),this.asInfo=(0,R.hFB)(!1),this.icon=(0,C.bo)("icon",()=>this.asInfo()?"info":"warning")}static#e=this.\u0275fac=function(_){return new(_||g)};static#t=this.\u0275cmp=h.VBU({type:g,selectors:[["app-feature-text-info"]],inputs:{asInfo:[1,"asInfo"]},features:[h.Vt3],ngContentSelectors:S,decls:1,vars:1,consts:[[1,"feature-text-info",3,"tippy"],[1,"feature-text-info",3,"click","tippy"],[1,"feature-text-info-content"],[1,"feature-text-info-title"],[1,"feature-text-info-subtitle"]],template:function(_,k){1&_&&(h.NAR(),h.nVh(0,d,12,14,"div",0)),2&_&&h.vxM(k.show()?0:-1)},dependencies:[l.m_,l.An,m.h,m.D9,u.e],styles:["*[_ngcontent-%COMP%]{color:#85283b!important}.feature-text-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;cursor:pointer;box-shadow:0 2px 1px -1px #0003,0 1px 1px #00000024,0 1px 3px #0000001f;border-radius:4px;padding:5px;margin-bottom:10px}.feature-text-info-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;margin-left:10px}.feature-text-info-title[_ngcontent-%COMP%]{font-size:large}.feature-text-info-subtitle[_ngcontent-%COMP%]{font-size:medium}.icon[_ngcontent-%COMP%]{font-size:45px;height:fit-content;width:fit-content}.icon-warning[_ngcontent-%COMP%]{color:red}"]})}return g})()},96133:(j,F,r)=>{r.r(F),r.d(F,{FeatureInfoDialogComponent:()=>P});var R=r(44444),l=r(81863),m=r(12938),u=r(51191),C=r(25081),p=r(45943),h=r(99293),E=r(29658);const S=g=>({feature:g,showGuid:!1,showStatus:!0,showClose:!0});function d(g,b){1&g&&h.nrm(0,"app-feature-details-dialog",0),2&g&&h.Y8G("specs",h.eq3(1,S,b))}let P=(()=>{class g{#e;constructor(D,_,k){this.dialogData=D,this.dialog=_,this.route=k,this.#e=(0,m.d)(p.N),this.featureId=(0,R.vPA)(""),this.clipboard=(0,m.d)(C.W)}ngOnInit(){this.featureId.set(this.route.snapshot.data.featureId||this.dialogData||""),this.featureDetails=this.#e.getFeatureDetail(this.featureId).value}static#t=this.\u0275fac=function(_){return new(_||g)(h.rXU(l.e),h.rXU(l.k),h.rXU(E.nX))};static#n=this.\u0275cmp=h.VBU({type:g,selectors:[["app-feature-info-dialog"]],decls:1,vars:1,consts:[[3,"specs"]],template:function(_,k){if(1&_&&h.nVh(0,d,1,3,"app-feature-details-dialog",0),2&_){let v;h.vxM((v=k.featureDetails())?0:-1,v)}},dependencies:[u.O],encapsulation:2})}return g})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/projects_eav-ui_src_app_content-type-fields_content-type-fields_component_ts-node_modules_ang-44be62.cce05b9017a50e66.js.map