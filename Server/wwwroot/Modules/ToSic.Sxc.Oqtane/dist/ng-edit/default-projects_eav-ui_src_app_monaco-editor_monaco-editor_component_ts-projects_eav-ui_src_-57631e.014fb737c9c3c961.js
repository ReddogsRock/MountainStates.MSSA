"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_monaco-editor_monaco-editor_component_ts-projects_eav-ui_src_-57631e"],{32549:(P,m,g)=>{g.d(m,{A:()=>c});const c=(0,g(69093).A)(Object.getPrototypeOf,Object)},37836:(P,m,g)=>{g.d(m,{K:()=>Ne});var f=g(37580);function N(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach(function(r){$(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];return e.apply(n,[].concat(s,u))}}}function E(t){return{}.toString.call(t).includes("Object")}function C(t){return"function"==typeof t}var j=w(function ee(t,e){throw new Error(t[e]||t.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),T_changes=function X(t,e){return E(e)||j("changeType"),Object.keys(e).some(function(n){return!function H(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(t,n)})&&j("changeField"),e},T_selector=function Q(t){C(t)||j("selectorType")},T_handler=function Y(t){C(t)||E(t)||j("handlerType"),E(t)&&Object.values(t).some(function(e){return!C(e)})&&j("handlersType")},T_initial=function Z(t){t||j("initialIsRequired"),E(t)||j("initialType"),function G(t){return!Object.keys(t).length}(t)&&j("initialContent")};function re(t,e){return C(e)?e(t.current):e}function se(t,e){return t.current=x(x({},t.current),e),e}function ie(t,e,n){return C(e)?e(t.current):Object.keys(n).forEach(function(r){var s;return null===(s=e[r])||void 0===s?void 0:s.call(e,t.current[r])}),n}const ae_create=function ne(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T_initial(t),T_handler(e);var n={current:t},r=w(ie)(n,e),s=w(se)(n),i=w(T_changes)(t),o=w(re)(n);return[function u(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(A){return A};return T_selector(h),h(n.current)},function a(h){!function K(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(s,i){return i(s)},r)}}(r,s,i,o)(h)}]};var J={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "};(function le(t){return function e(){for(var n=this,r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return s.length>=t.length?t.apply(this,s):function(){for(var o=arguments.length,u=new Array(o),a=0;a<o;a++)u[a]=arguments[a];return e.apply(n,[].concat(s,u))}}})(function me(t,e){throw new Error(t[e]||t.default)})(J);var _e={type:"cancelation",msg:"operation is manually canceled"};const F=function we(t){var e=!1,n=new Promise(function(r,s){t.then(function(i){return e?s(_e):r(i)}),t.catch(s)});return n.cancel=function(){return e=!0},n};var q=function b(t,e){return function L(t){if(Array.isArray(t))return t}(t)||function B(t,e){if(!(typeof Symbol>"u")&&Symbol.iterator in Object(t)){var n=[],r=!0,s=!1,i=void 0;try{for(var u,o=t[Symbol.iterator]();!(r=(u=o.next()).done)&&(n.push(u.value),!e||n.length!==e);r=!0);}catch(a){s=!0,i=a}finally{try{!r&&null!=o.return&&o.return()}finally{if(s)throw i}}return n}}(t,e)||function _(t,e){if(t){if("string"==typeof t)return N(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if("Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(t,e)}}(t,e)||function U(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(ae_create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),I=q[0],D=q[1];function Pe(t){return document.body.appendChild(t)}function Te(t){var e=I(function(r){return{config:r.config,reject:r.reject}}),n=function Ee(t){var e=document.createElement("script");return t&&(e.src=t),e}("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function De(){var t=I(function(n){return{config:n.config,resolve:n.resolve,reject:n.reject}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){z(n),t.resolve(n)},function(n){t.reject(n)})}function z(t){I().monaco||D({monaco:t})}var R=new Promise(function(t,e){return D({resolve:t,reject:e})});const Le_init=function Se(){var t=I(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!t.isInitialized){if(D({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),F(R);if(window.monaco&&window.monaco.editor)return z(window.monaco),t.resolve(window.monaco),F(R);!function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(s){return n.reduceRight(function(i,o){return o(i)},s)}}(Pe,Te)(De)}return F(R)},Fe="area, base, br, col, embed, hr, img, input, link, meta, param, source, track, wbr".split(",").map(t=>t.trim().toLocaleLowerCase());class Re{constructor(e,n,r,s,i,o,u){this.monaco=e,this.filename=n,this.snippets=o,this.tooltips=u,this.globalCache=this.createGlobalCache(e),this.defineThemes(this.globalCache,this.monaco),this.cachedValue=r,this.editorInstance=this.createInstance(this.monaco,n,r,s,i),this.completionItemProviders=this.addSnippets(this.monaco,this.editorInstance),this.resizeObserver=this.createResizeObserver(s,this.editorInstance),this.restoreState(this.globalCache,this.editorInstance),this.addEvents(this.editorInstance)}destroy(){this.saveState(this.globalCache,this.editorInstance),this.resizeObserver.disconnect(),this.completionItemProviders.forEach(e=>e.dispose()),this.jsTypingsLib?.dispose(),this.editorInstance.getModel().dispose(),this.editorInstance.dispose()}updateValue(e){this.cachedValue!==e&&(this.cachedValue=e,this.editorInstance.getModel().setValue(e))}focus(){this.editorInstance.focus()}onValueChange(e){this.valueChangedCallback=e}onFocus(e){this.focusedCallback=e}onBlur(e){this.blurredCallback=e}insertSnippet(e){this.editorInstance.getContribution("snippetController2").insert(e)}setSnippets(e){this.snippets=e}setTooltips(e){this.tooltips=e}setJsonSchema(e){const n=this.editorInstance.getModel().uri.toString(),r=this.monaco.languages.json.jsonDefaults.diagnosticsOptions,s=r.schemas?.some(u=>u.fileMatch[0]===n)??!1,i="link"===e?.type?{uri:e.value,fileMatch:[n]}:"raw"===e?.type?{uri:n,fileMatch:[n],schema:JSON.parse(e.value)}:void 0;if(!s&&!i)return;const o={...r,enableSchemaRequest:!0,schemas:s&&!i?r.schemas.filter(u=>u.fileMatch[0]!==n):s?r.schemas.map(u=>u.fileMatch[0]===n?i:u):[...r.schemas??[],i]};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(o)}setJsonComments(e){if(!e)return;const n={...this.monaco.languages.json.jsonDefaults.diagnosticsOptions,comments:e};this.monaco.languages.json.jsonDefaults.setDiagnosticsOptions(n)}setJsDiagnostics(e){if(!e)return;const n={...this.monaco.languages.typescript.javascriptDefaults.getDiagnosticsOptions(),...e};this.monaco.languages.typescript.javascriptDefaults.setDiagnosticsOptions(n)}setJsTypings(e){e?this.jsTypingsLib=this.monaco.languages.typescript.javascriptDefaults.addExtraLib(e,`js-typings-${this.filename}`):this.jsTypingsLib?.dispose()}createGlobalCache(e){return null==e._2sxc&&(e._2sxc={themesAreDefined:!1,savedStates:{}}),e._2sxc}defineThemes(e,n){e.themesAreDefined||(e.themesAreDefined=!0,n.editor.defineTheme("2sxc-dark",{base:"vs-dark",inherit:!0,rules:[{token:"metatag.cs",foreground:"ffff00"}],colors:{}}))}createInstance(e,n,r,s,i){const o=e.editor.create(s,i),u=e.Uri.file(n),a=e.editor.createModel(r,void 0,u);return o.setModel(a),o}saveState(e,n){const r=n.getModel().uri.toString(),s=JSON.stringify(n.saveViewState());null==e.savedStates[r]?e.savedStates[r]={viewState:s}:e.savedStates[r].viewState=s}restoreState(e,n){const r=n.getModel().uri.toString(),s=e.savedStates[r];if(null==s)return;const i=JSON.parse(s.viewState);n.restoreViewState(i)}addSnippets(e,n){return[e.languages.registerCompletionItemProvider(n.getModel().getLanguageId(),{triggerCharacters:[">"],provideCompletionItems:(s,i)=>{if(n.getModel()!==s)return{suggestions:[]};const o=s.getValueInRange({startLineNumber:i.lineNumber,startColumn:1,endLineNumber:i.lineNumber,endColumn:i.column});if(">"!==o[o.length-1])return{suggestions:[]};const a=o.lastIndexOf("<");if(-1===a)return{suggestions:[]};const h=o.substring(a);let A=0;if(Array.from(h).forEach(ke=>{'"'===ke&&A++}),A%2!=0)return{suggestions:[]};if(h.startsWith("</"))return{suggestions:[]};if(h.indexOf(">")!==h.length-1)return{suggestions:[]};let M=h.indexOf(" ");if(-1===M&&(M=h.indexOf(">")),-1===M)return{suggestions:[]};const S=h.substring(1,M);return S?Fe.includes(S.toLocaleLowerCase())?{suggestions:[]}:/[a-zA-Z0-9_-]/.test(S)?{suggestions:[{label:`</${S}>`,kind:e.languages.CompletionItemKind.Snippet,insertText:`$0</${S}>`,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:i.column,endColumn:i.column}}]}:{suggestions:[]}:{suggestions:[]}}}),e.languages.registerCompletionItemProvider(n.getModel().getLanguageId(),{provideCompletionItems:(s,i)=>{if(null==this.snippets||n.getModel()!==s)return{suggestions:[]};const o=s.getWordUntilPosition(i);return{suggestions:this.snippets.map(a=>a.content?{label:a.name,kind:e.languages.CompletionItemKind.Snippet,documentation:`${a.title??""}\n${a.help??""}\n${a.links??""}`,insertText:a.content,insertTextRules:e.languages.CompletionItemInsertTextRule.InsertAsSnippet,range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0).filter(a=>!!a)}}}),e.languages.registerHoverProvider(n.getModel().getLanguageId(),{provideHover:(s,i)=>{if(null==this.tooltips||n.getModel()!==s)return;const o=s.getWordAtPosition(i);if(!o)return;const u=this.tooltips.find(a=>a.Term===o.word);return u?{contents:u.Help.map(a=>({value:a})),range:{startLineNumber:i.lineNumber,endLineNumber:i.lineNumber,startColumn:o.startColumn,endColumn:o.endColumn}}:void 0}})]}createResizeObserver(e,n){const r=new ResizeObserver(()=>{n.layout()});return r.observe(e),r}addEvents(e){e.getModel().onDidChangeContent(()=>{const n=e.getModel().getValue();n!==this.cachedValue&&(this.cachedValue=n,this.valueChangedCallback?.(n))}),e.onDidFocusEditorWidget(()=>{this.focusedCallback?.()}),e.onDidBlurEditorWidget(()=>{this.blurredCallback?.()})}}var y=g(99293);const Be=["editor"];let Ne=(()=>{class t{constructor(){this.filename=(0,f.hFB)(),this.value=(0,f.hFB)(),this.tooltips=(0,f.hFB)(),this.snippets=(0,f.hFB)(),this.options=(0,f.hFB)(),this.jsonSchema=(0,f.hFB)(),this.jsonComments=(0,f.hFB)(),this.jsTypings=(0,f.hFB)(),this.jsDiagnostics=(0,f.hFB)(),this.autoFocus=(0,f.hFB)(!1),this.valueChanged=(0,f.CGW)(),this.focused=(0,f.CGW)(),this.blurred=(0,f.CGW)()}ngAfterViewInit(){Le_init().then(n=>{this.monaco=n,this.createEditor(this.autoFocus())})}ngOnChanges(n){null!=n.filename&&null!=this.monacoInstance&&(this.monacoInstance.destroy(),this.createEditor(!0)),null!=n.value&&this.monacoInstance?.updateValue(this.value()),null!=n.jsonSchema&&this.monacoInstance?.setJsonSchema(this.jsonSchema()),null!=n.jsonComments&&this.monacoInstance?.setJsonComments(this.jsonComments()),null!=n.snippets&&this.monacoInstance?.setSnippets(this.snippets()),null!=n.tooltips&&this.monacoInstance?.setTooltips(this.tooltips()),null!=n.jsTypings&&this.monacoInstance?.setJsTypings(this.jsTypings()),null!=n.jsDiagnostics&&this.monacoInstance?.setJsDiagnostics(this.jsDiagnostics())}insertSnippet(n){this.monacoInstance?.insertSnippet(n),this.monacoInstance?.focus()}ngOnDestroy(){this.monacoInstance?.destroy()}createEditor(n){this.monacoInstance=new Re(this.monaco,this.filename(),this.value(),this.editorRef.nativeElement,this.options(),this.snippets(),this.tooltips()),this.monacoInstance.setJsonSchema(this.jsonSchema()),this.monacoInstance.setJsonComments(this.jsonComments()),this.monacoInstance.setJsTypings(this.jsTypings()),this.monacoInstance.setJsDiagnostics(this.jsDiagnostics()),this.monacoInstance.onValueChange(r=>{this.valueChanged.emit(r)}),this.monacoInstance.onFocus(()=>{this.focused.emit()}),this.monacoInstance.onBlur(()=>{this.blurred.emit()}),n&&this.monacoInstance.focus()}static#e=this.\u0275fac=function(r){return new(r||t)};static#t=this.\u0275cmp=y.VBU({type:t,selectors:[["app-monaco-editor"]],viewQuery:function(r,s){if(1&r&&y.GBs(Be,5),2&r){let i;y.mGM(i=y.lsd())&&(s.editorRef=i.first)}},inputs:{filename:[1,"filename"],value:[1,"value"],tooltips:[1,"tooltips"],snippets:[1,"snippets"],options:[1,"options"],jsonSchema:[1,"jsonSchema"],jsonComments:[1,"jsonComments"],jsTypings:[1,"jsTypings"],jsDiagnostics:[1,"jsDiagnostics"],autoFocus:[1,"autoFocus"]},outputs:{valueChanged:"valueChanged",focused:"focused",blurred:"blurred"},features:[y.OA$],decls:2,vars:0,consts:[["editor",""],[1,"editor"]],template:function(r,s){1&r&&y.nrm(0,"div",1,0)},styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;overflow:hidden}.editor[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden}"]})}return t})()},45839:(P,m,g)=>{g.d(m,{A:()=>v});const v=function f(c,l){for(var d=-1,p=null==c?0:c.length;++d<p&&!1!==l(c[d],d,c););return c}},49934:(P,m,g)=>{g.d(m,{A:()=>l});var f=g(23151),v=Object.create;const l=function(){function d(){}return function(p){if(!(0,f.A)(p))return{};if(v)return v(p);d.prototype=p;var b=new d;return d.prototype=void 0,b}}()},93826:(P,m,g)=>{g.d(m,{a:()=>f});class f{static boolEquals(c,l){return c===l}static stringEquals(c,l){return c===l}static valueEquals(c,l){return c===l}static objectsEqual(c,l){if(null==c||null==l)return c===l;const d=c,p=l,b=Object.keys(d),L=Object.keys(p);return b.length===L.length&&b.every(_=>!!p.hasOwnProperty(_)&&d[_]===p[_])}static arraysEqual(c,l){return null==c||null==l?c===l:c.length===l.length&&c.every((p,b)=>c[b]===l[b])}static distinct(c,l,d){return d.indexOf(c)===l}}}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/default-projects_eav-ui_src_app_monaco-editor_monaco-editor_component_ts-projects_eav-ui_src_-57631e.014fb737c9c3c961.js.map