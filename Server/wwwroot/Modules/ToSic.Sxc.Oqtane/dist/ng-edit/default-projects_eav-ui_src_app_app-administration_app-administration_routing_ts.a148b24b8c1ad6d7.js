"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_app-administration_app-administration_routing_ts","projects_eav-ui_src_app_metadata_index_ts"],{336:(P,x,e)=>{e.d(x,{F:()=>f});var l=e(46443),h=e(14600),c=e(36647),r=e(70271),p=e(78742),E=e(70693),C=e(34435),m=e(9234),T=e(24467),I=e(99293),j=e(44444);const F={getAll:!0,getAllLive:!0,getAllOnce:!0};let f=(()=>{class A extends T.B{constructor(){super(...arguments),this.log=(0,C.Tq)({ContentItemsService:A},F)}getAllPromise(u){return this.log.fnIf("getAll",{contentTypeStaticName:u}),this.fetchPromise(m.Gg,{params:{appId:this.appId,contentType:u}})}getAllOnce(u){return this.log.fnIf("getAllOnce",{contentTypeStaticName:u}),(0,l.fx)(()=>({url:this.apiUrl(m.Gg),params:{appId:this.appId,contentType:u}}))}getAllLive(u,y){return this.log.fnIf("getAllLive",{contentTypeStaticName:u,refresh:y}),(0,l.fx)(()=>(y(),{url:this.apiUrl(m.Gg),params:{appId:this.appId,contentType:u}}))}getColumnsPromise(u){return this.fetchPromise(p.z,{params:{appId:this.appId,staticName:u}})}importItem(u){return(0,h.H)((0,E.n)(u)).pipe((0,c.n)(y=>this.http.post(this.apiUrl(m.gb+"upload"),{AppId:this.appId,ContentBase64:y})),(0,r.T)(y=>({Success:y,Messages:[]})))}static#t=this.\u0275fac=(()=>{let u;return function(G){return(u||(u=I.xGo(A)))(G||A)}})();static#e=this.\u0275prov=j.jDH({token:A,factory:A.\u0275fac})}return A})()},5858:(P,x,e)=>{e.d(x,{O:()=>l});const l="DROPDOWN_INSERT_VALUE"},21183:(P,x,e)=>{e.d(x,{f:()=>l});class l{static cellLink(c,r,p){return`<a class="default-link fill-cell ${p}" href="${c}">${r}</a>`}}},84242:(P,x,e)=>{e.d(x,{D:()=>m});var l=e(12938),h=e(70271),c=e(61318),r=e(77919),p=e(54839),E=e(44444),C=e(90852);let m=(()=>{class T{#t=(0,l.d)(p.c);constructor(j){this.translate=j}fetchQuery(j){const F="Default";return this.#t.getFromQuery(`System.BundleDetails/${F}`,`configurationguid=${j}`,null).pipe((0,h.T)(A=>A[F]),(0,c.W)(A=>(console.error(`${this.translate.instant("Fields.Picker.QueryError:")} - ${A.data}`),alert(`${this.translate.instant("Fields.Picker.QueryError:")} - ${A.data}`),(0,r.$)(()=>A))))}static#e=this.\u0275fac=function(F){return new(F||T)(E.KVO(C.c$))};static#n=this.\u0275prov=E.jDH({token:T,factory:T.\u0275fac})}return T})()},85898:(P,x,e)=>{e.d(x,{u:()=>l});let l=(()=>{class h{static#t=this.route="copilot";static routeDefinition(r){return{name:"Copilot",icon:"support_agent",svgIcon:!1,path:`${r}-${h.route}`}}}return h})()},90485:(P,x,e)=>{e.r(x),e.d(x,{appAdministrationRoutes:()=>de});var l=e(14079),h=e(51195),c=e(89204);const r={name:"FEATURE_INFO_DIALOG",initContext:!1,panelSize:"small",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{FeatureInfoDialogComponent:n}=yield Promise.resolve().then(e.bind(e,96133));return n})()};var p=e(28136),E=e(93454),C=e(72437),m=e(85544);const T={name:"APP_ADMINISTRATION_DIALOG",initContext:!0,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{AppAdminMain:n}=yield Promise.all([e.e("default-projects_eav-ui_src_app_shared_components_nav-item-list_nav-item-list_component_ts-pr-e0b2f4"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_ts")]).then(e.bind(e,86663));return n})()},I={name:"ERROR_DIALOG",initContext:!1,panelSize:"small",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{BasicMessage:n}=yield e.e("projects_eav-ui_src_app_app-administration_app-configuration_message_basic-message_ts").then(e.bind(e,80411));return n})()};var j=e(97214),F=e(85898),f=e(84175),A=e(53777),_=e(81863),u=e(93840),y=e(12938),G=e(95469),L=e(9001),H=e(320),X=e(58624),t=e(99293),K=e(3347);let at=(()=>{class n{#t;#e;#n;constructor(a){this.snackBar=a,this.#t=(0,y.d)(X.S),this.#e=(0,y.d)(H.t),this.#n=(0,y.d)(L.D),this.AppSyncWithSiteFiles=p.T.AppExportAssetsAdvanced,this.appExportAssetsAdvancedEnabled=this.#n.isEnabled[p.T.AppExportAssetsAdvanced]}ngOnDestroy(){this.snackBar.dismiss()}exportAppXml(a){var s=this;return(0,c.A)(function*(){s.snackBar.open("Exporting...");try{const o=yield s.#e.exportForVersionControl({includeContentGroups:!0,resetAppGuid:!1,withFiles:a});o>=200&&o<300&&s.snackBar.open("Export completed into the 'App_Data' folder.",null,{duration:3e3})}catch(o){console.error("Error toggling language:",o),s.snackBar.open("Export failed. Please check console for more information",null,{duration:3e3})}})()}resetApp(a){confirm("Are you sure? All changes since last xml export will be lost")&&(this.snackBar.open("Resetting..."),this.#t.resetApp(a).subscribe({next:s=>this.snackBar.open("Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct",null,{duration:3e4}),error:s=>this.snackBar.open("Reset failed. Please check console for more details",null,{duration:3e3})}))}static#o=this.\u0275fac=function(s){return new(s||n)(t.rXU(K.UG))};static#a=this.\u0275cmp=t.VBU({type:n,selectors:[["app-app-state"]],decls:47,vars:3,consts:[[1,"outer-container-app"],[1,"eav-dialog-actions",2,"height","73px"],[1,"eav-dialog-actions-div"],["mat-button","",1,"eav-button__with-icon",3,"click"],[1,"eav-icon"],[3,"featureNameId"],["mat-button","",1,"eav-button__with-icon",3,"click","disabled"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"App-State Versioning - Basic"),t.k0s(),t.j41(3,"p"),t.EFF(4," You can save / restore the app with data and configuration in "),t.j41(5,"code"),t.EFF(6,"App_Data/app.xml"),t.k0s(),t.EFF(7,". "),t.nrm(8,"br"),t.EFF(9," This file can then also be versioned using git to sync with another installation. "),t.k0s(),t.j41(10,"mat-dialog-actions",1)(11,"div",2)(12,"button",3),t.bIt("click",function(){return o.exportAppXml(!1)}),t.j41(13,"mat-icon",4),t.EFF(14,"more_time"),t.k0s(),t.j41(15,"span"),t.EFF(16,"Save state"),t.k0s()(),t.j41(17,"button",3),t.bIt("click",function(){return o.resetApp(!1)}),t.j41(18,"mat-icon",4),t.EFF(19,"restore"),t.k0s(),t.j41(20,"span"),t.EFF(21,"Restore state"),t.k0s()()()(),t.j41(22,"h3"),t.EFF(23,"App-State Versioning - Advanced"),t.k0s(),t.j41(24,"p"),t.EFF(25," In Advanced mode you can sync all the site files (e.g. ADAM) used by this app "),t.j41(26,"em"),t.EFF(27,"together with the data"),t.k0s(),t.EFF(28,". "),t.nrm(29,"br"),t.EFF(30," They will be placed in a folder inside "),t.j41(31,"code"),t.EFF(32,"App_Data"),t.k0s(),t.EFF(33," and allow sync/restore with git or another server. "),t.k0s(),t.nrm(34,"app-feature-text-info",5),t.j41(35,"mat-dialog-actions",1)(36,"div",2)(37,"button",6),t.bIt("click",function(){return o.exportAppXml(!0)}),t.j41(38,"mat-icon",4),t.EFF(39,"more_time"),t.k0s(),t.j41(40,"span"),t.EFF(41,"Save with Assets"),t.k0s()(),t.j41(42,"button",6),t.bIt("click",function(){return o.resetApp(!0)}),t.j41(43,"mat-icon",4),t.EFF(44,"restore"),t.k0s(),t.j41(45,"span"),t.EFF(46,"Restore with Assets"),t.k0s()()()()()),2&s&&(t.R7$(34),t.Y8G("featureNameId",o.AppSyncWithSiteFiles),t.R7$(3),t.Y8G("disabled",!o.appExportAssetsAdvancedEnabled()),t.R7$(5),t.Y8G("disabled",!o.appExportAssetsAdvancedEnabled()))},dependencies:[A.Hu,u.m_,u.An,f.Hl,f.$z,G.L,_.M],styles:["button[_ngcontent-%COMP%]{color:#85283b!important}button[_ngcontent-%COMP%]:disabled{color:#00000061!important}"]})}return n})();const st={name:"Data Bundles Details",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{DataBundlesDetailComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_import-export-menu_data-bundles_data-bundles-detai-5dca44").then(e.bind(e,9917));return n})()};var Q=e(87945),g=e(44444),b=e(64173),Z=e(41134),V=e(11412),it=e(64334),pt=e(336),lt=e(21183),$=e(11828),W=e(8112),rt=e(60251),dt=e(34575),k=e(34601),ct=e(91922),J=e(70334),mt=e(67037),ut=e(60852),ht=e(89061),gt=e(31034),ft=e(29968);const w=n=>({disabled:n});let vt=(()=>{class n{constructor(){this.#t=(0,y.d)(L.D),this.appExportAssetsAdvancedEnabled=this.#t.isEnabled[p.T.DataExportImportBundles]}#t;agInit(a){this.params=a,this.item=a.data}refresh(a){return!0}do(a){this.params.do(a,this.item)}static#e=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-data-bundle-actions"]],decls:13,vars:6,consts:[[1,"actions-component"],["matRipple","","tippy","Edit",1,"eav-grid-action-button","highlight",3,"click"],["matRipple","","tippy","Download",1,"eav-grid-action-button","highlight",3,"click","ngClass"],["matRipple","","tippy","Save State",1,"eav-grid-action-button","highlight",3,"click","ngClass"],["matRipple","","tippy","Restore State",1,"eav-grid-action-button","highlight",3,"click"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return o.do("edit")}),t.j41(2,"mat-icon"),t.EFF(3,"edit"),t.k0s()(),t.j41(4,"div",2),t.bIt("click",function(){return o.do("download")}),t.j41(5,"mat-icon"),t.EFF(6,"cloud_download"),t.k0s()(),t.j41(7,"div",3),t.bIt("click",function(){return o.do("saveState")}),t.j41(8,"mat-icon"),t.EFF(9,"save"),t.k0s()(),t.j41(10,"div",4),t.bIt("click",function(){return o.do("restoreState")}),t.j41(11,"mat-icon"),t.EFF(12,"history"),t.k0s()()()),2&s&&(t.R7$(4),t.Y8G("ngClass",t.eq3(2,w,!o.appExportAssetsAdvancedEnabled())),t.R7$(3),t.Y8G("ngClass",t.eq3(4,w,!o.appExportAssetsAdvancedEnabled())))},dependencies:[ht.M,ft.M,u.m_,u.An,gt.Cn,k.e,Q.YU],encapsulation:2})}return n})();var Ct=e(84242),Et=e(94035),Ft=e(58857),q=e(29658);const At=(n,v,a)=>({"sxc-message-warning":n,"sxc-message-success":v,"sxc-message-error":a});function yt(n,v){1&n&&t.nrm(0,"mat-spinner",8)}function xt(n,v){1&n&&(t.j41(0,"div"),t.EFF(1,"Select or drop file"),t.k0s())}function Dt(n,v){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&n){const a=v.$implicit;t.R7$(),t.JRh(a.name)}}function Tt(n,v){1&n&&(t.j41(0,"div",13),t.EFF(1,"Upload succeeded. See the messages below for more information."),t.k0s())}function It(n,v){1&n&&(t.j41(0,"div",14),t.EFF(1,"Upload failed. See the messages below for more information."),t.k0s())}function jt(n,v){if(1&n&&(t.j41(0,"div",15),t.EFF(1),t.k0s()),2&n){const a=v.$implicit,s=t.XpG(2);t.Y8G("ngClass",t.sMw(2,At,a.MessageType===s.FileUploadMessageTypes.Warning,a.MessageType===s.FileUploadMessageTypes.Success,a.MessageType===s.FileUploadMessageTypes.Error)),t.R7$(),t.SpI(" ",a.Text," ")}}function Pt(n,v){if(1&n&&(t.j41(0,"div",11),t.nVh(1,Tt,2,0,"div",13),t.nVh(2,It,2,0,"div",14),t.Z7z(3,jt,2,6,"div",15,t.fX1),t.k0s()),2&n){const a=t.XpG();t.R7$(),t.vxM(a.result().Success?1:-1),t.R7$(),t.vxM(a.result().Success?-1:2),t.R7$(),t.Dyx(a.result().Messages)}}function Rt(n,v){if(1&n){const a=t.RV6();t.j41(0,"button",16),t.bIt("click",function(){g.eBV(a);const o=t.XpG();return g.Njj(o.upload())}),t.j41(1,"mat-icon",17),t.EFF(2,"cloud_upload"),t.k0s(),t.j41(3,"span"),t.EFF(4,"Upload"),t.k0s()()}if(2&n){const a=t.XpG();t.Y8G("disabled",!a.files().length||a.uploading()||!!a.result())}}let Mt=(()=>{class n{#t;#e;#n;#o;#a;#s;constructor(a){this.snackBar=a,this.#t=(0,y.d)(pt.F),this.#e=(0,y.d)(ut.c),this.#n=(0,y.d)(Ct.D),this.#o=(0,y.d)(Et.f),this.#a=(0,y.d)(L.D),this.#s=(0,g.vPA)([]),this.DataExportImportBundles=p.T.DataExportImportBundles,this.dataExportImportBundles=this.#a.isEnabled[p.T.DataExportImportBundles],this.#i="d7f2e4fa-5306-41bb-a3cd-d9529c838879",this.FileUploadMessageTypes=W.G1,this.gridOptions=this.#g(),this.#p=(0,g.vPA)(0),this.uploading=(0,g.vPA)(!1),this.files=(0,g.vPA)([]),this.result=(0,g.vPA)(void 0),this.importData={title:"Import Data Bundles into this App",allowedFileTypes:"json",upload$:s=>this.#o.import(s)},this.#l=this.#t.getAllLive(this.#i,this.#p).value,this.dataSourceData=(0,b.EW)(()=>{const s=this.#l()||[],o=this.#s();return s.map(D=>{const{entityCount:M,contentTypeCount:O}=(D=>{const M=o.find(R=>R.Guid===D)?.Result||[],O=M.filter(R=>"ContentType"==R.TypeName).length;return{entityCount:M.filter(R=>"ContentType"!=R.TypeName).length,contentTypeCount:O}})(D.Guid);return{FileName:D.FileName,Name:D.Name,Guid:D.Guid,Id:D.Id,Entities:M,ContentType:O}})}),this.heightStyle=(0,b.EW)(()=>{const s=this.dataSourceData();return 0===s.length?"height: 135px":`height: ${46*s.length+90}px`}),(0,b.QZ)(()=>{const s=this.#l();s&&s.forEach(o=>{o?.Guid&&this.#n.fetchQuery(o.Guid).subscribe({next:i=>{(0,b.O8)(()=>{const d={Guid:o.Guid,Result:i};this.#s.update(D=>[...D,d])})},error:i=>console.error("Query error: ",i)})})})}#i;#p;#l;ngOnInit(){this.#e.doOnDialogClosed(()=>this.#r())}ngOnDestroy(){this.snackBar.dismiss()}#r(){this.#p.update(a=>++a)}filesDropped(a){const s=a[0];switch(s.name.substring(s.name.lastIndexOf(".")+1).toLocaleLowerCase()){case"xml":case"json":this.#d(a)}}filesChanged(a){const o=Array.from(a.target.files);this.#c(o)}upload(){this.uploading.set(!0),this.importData.upload$(this.files()).pipe((0,it.s)(1)).subscribe({next:a=>{this.uploading.set(!1),this.result.set(a),this.#r()},error:()=>{this.uploading.set(!1),this.result.set(void 0),this.snackBar.open("Upload failed. Please check console for more information",void 0,{duration:3e3})}})}#c(a){this.importData.multiple||(a=a.slice(0,1)),this.files.set(a)}#d(a){this.#e.navRelative(["import"],{state:{files:a}})}editItem(a){const s={items:[null==a?J.c.newFromType(this.#i):J.c.editId(a.Id)]},o=(0,ct.s)(s);this.#e.navRelative([`edit/${o}`])}#m(a){this.#o.exportDataBundle(a.Guid)}#u(a){var s=this;return(0,c.A)(function*(){s.snackBar.open("Save Bundle State...");try{const o=yield s.#o.saveDataBundlesFetch(a.Guid);o>=200&&o<300&&s.snackBar.open("Export completed into the 'App_Data' folder.",null,{duration:3e3})}catch(o){s.snackBar.open("Export failed. Please check console for more information",null,{duration:3e3}),console.error("Export error:",o)}})()}#h(a){this.snackBar.open("Restore Bundle State..."),this.#o.restoreDataBundles(a.FileName).subscribe({next:s=>this.snackBar.open("Reset worked! Since this is a complex operation, please restart the Website to ensure all caches are correct",null,{duration:3e4}),error:s=>this.snackBar.open("Reset failed. Please check console for more details",null,{duration:3e3})})}#g(){return{...rt.C,columnDefs:[{...$.r.TextWideMin100,headerName:"Name",field:"Name",flex:2,cellRenderer:s=>lt.f.cellLink("#"+this.#e.urlSubRoute(`details/${s.data.Guid}/${s.data.Name}`),s.data.Name)},{...$.r.TextWideMin100,headerName:"File-Name",field:"FileName"},{...$.r.Number2,headerName:"Entities",field:"Entities"},{...$.r.Number2,headerName:"Content-Type",field:"ContentType"},{...$.r.ActionsPinnedRight3,cellRenderer:vt,cellRendererParams:{do:(s,o)=>{switch(s){case"edit":this.editItem(o);break;case"download":this.#m(o);break;case"saveState":this.#u(o);break;case"restoreState":this.#h(o)}}}}]}}static#f=this.\u0275fac=function(s){return new(s||n)(t.rXU(K.UG))};static#v=this.\u0275cmp=t.VBU({type:n,selectors:[["app-data-bundles"]],decls:37,vars:11,consts:[["fileInput",""],["appDragAndDrop","",1,"outer-container-app",3,"filesDropped","allowedFileTypes"],[3,"featureNameId"],[1,"info-container"],["mat-fab","","mat-elevation-z24","","tippy","Add item",1,"grid-fab",3,"click"],[1,"grid-height"],[1,"grid-wrapper","mat-tab-grid-wrapper"],[1,"ag-theme-material",3,"rowData","gridOptions"],["mode","indeterminate","diameter","20","color","accent"],["mat-raised-button","","tippy","Open file browser",1,"select-btn",3,"click","disabled"],["type","file","multiple","",1,"hide",3,"change"],[1,"eav-result-container"],["mat-button","","tippy","Import File",1,"eav-button__with-icon",2,"margin-top","16px",3,"disabled"],[1,"sxc-message","sxc-message-info"],[1,"sxc-message","sxc-message-error"],[1,"sxc-message",3,"ngClass"],["mat-button","","tippy","Import File",1,"eav-button__with-icon",2,"margin-top","16px",3,"click","disabled"],[1,"eav-icon"]],template:function(s,o){if(1&s){const i=t.RV6();t.j41(0,"div",1),t.bIt("filesDropped",function(D){return g.eBV(i),g.Njj(o.filesDropped(D))}),t.j41(1,"h2"),t.EFF(2,"Data Bundles (BETA)"),t.k0s(),t.j41(3,"p"),t.EFF(4," Data Bundles are a new feature which allow you to mark parts of your app as a bundle, and then export/import them. This allows you to do a partial sync of data and schema between environments. "),t.k0s(),t.nrm(5,"app-feature-text-info",2),t.j41(6,"div",3)(7,"div")(8,"h3"),t.EFF(9,"Bundle Export Configurations"),t.k0s(),t.j41(10,"p"),t.EFF(11," Bundles must be defined by creating a "),t.j41(12,"strong"),t.EFF(13,"Bundle Configuration"),t.k0s(),t.EFF(14,", and then assigning Content-Types and Data to that configuration. "),t.k0s()(),t.j41(15,"div")(16,"button",4),t.bIt("click",function(){return g.eBV(i),g.Njj(o.editItem(null))}),t.j41(17,"mat-icon"),t.EFF(18,"add"),t.k0s()()()(),t.j41(19,"div",5)(20,"div",6),t.nrm(21,"ag-grid-angular",7),t.k0s()(),t.j41(22,"h3"),t.EFF(23,"Import Bundles"),t.k0s(),t.j41(24,"p"),t.EFF(25,"To import a bundle, Note that all data and schema will be overwritten by the imported data in the bundle."),t.k0s(),t.nVh(26,yt,1,0,"mat-spinner",8),t.j41(27,"div")(28,"button",9),t.bIt("click",function(){g.eBV(i);const D=t.sdS(33);return g.Njj(D.click())}),t.nVh(29,xt,2,0,"div"),t.Z7z(30,Dt,2,1,"div",null,t.fX1),t.k0s(),t.j41(32,"input",10,0),t.bIt("change",function(D){return g.eBV(i),g.Njj(o.filesChanged(D))}),t.k0s()(),t.nVh(34,Pt,5,2,"div",11),t.nVh(35,Rt,5,1,"button",12),t.k0s(),t.nrm(36,"router-outlet")}if(2&s){let i;t.Y8G("allowedFileTypes","xml,json"),t.R7$(5),t.Y8G("featureNameId",o.DataExportImportBundles),t.R7$(14),t.Aen(o.heightStyle()),t.R7$(2),t.Y8G("rowData",o.dataSourceData())("gridOptions",o.gridOptions),t.R7$(5),t.vxM(o.uploading()?26:-1),t.R7$(2),t.Y8G("disabled",o.uploading()||!o.dataExportImportBundles()),t.R7$(),t.vxM(o.files().length?-1:29),t.R7$(),t.Dyx(o.files()),t.R7$(4),t.vxM(o.result()?34:-1),t.R7$(),t.vxM(null!=(i=o.result())&&i.Success?-1:35)}},dependencies:[G.L,mt.p,Ft.xs,f.Hl,f.$z,f.Sr,u.m_,u.An,V.iI,q.n3,dt.S,Q.YU,Z.D6,Z.LG,k.e],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a, [_nghost-%COMP%]     .ag-row-hover .ag-cell .eav-grid-action-button, .eav-button__with-icon[_ngcontent-%COMP%]{color:#85283b!important}.eav-button__with-icon[_ngcontent-%COMP%]:disabled{color:#00000061!important}.grid-height[_ngcontent-%COMP%]{max-height:calc(100vh - 560px);min-height:135px}.fab-button-pos[_ngcontent-%COMP%]{margin-top:8px;display:flex;justify-content:end}.eav-result-container[_ngcontent-%COMP%]{margin-top:16px;max-height:calc(100vh - 354px);overflow-y:auto}.info-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}"]})}return n})();var B=e(34456),U=e(97024),St=e(31403),bt=e(31016),tt=e(64043),Bt=e(43758),et=e(5858),Y=e(50052),Ot=e(39333),_t=e(17693),Gt=e(71475),z=e(87698),$t=e(23731),Nt=e(8923);function Lt(n,v){if(1&n&&(t.j41(0,"mat-option",6),t.EFF(1),t.k0s()),2&n){const a=v.$implicit;t.Y8G("value",a.value),t.R7$(),t.SpI(" ",a.name," ")}}function kt(n,v){if(1&n){const a=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(o){const i=g.eBV(a).$implicit;return t.DH7(i._export,o)||(i._export=o),g.Njj(o)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&n){const a=v.$implicit;t.R7$(2),t.R50("ngModel",a._export),t.R7$(2),t.Lme("",a.Name," (",a.Id,")")}}function Ut(n,v){if(1&n&&(t.j41(0,"ul",19)(1,"p",20),t.EFF(2,"Templates"),t.k0s(),t.Z7z(3,kt,5,3,"li",15,t.fX1),t.k0s()),2&n){const a=t.XpG().$implicit;t.R7$(3),t.Dyx(a.Templates)}}function Vt(n,v){if(1&n){const a=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(o){const i=g.eBV(a).$implicit;return t.DH7(i._export,o)||(i._export=o),g.Njj(o)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&n){const a=v.$implicit;t.R7$(2),t.R50("ngModel",a._export),t.R7$(2),t.Lme("",a.Title," (",a.Id,")")}}function Wt(n,v){if(1&n&&(t.j41(0,"ul",19)(1,"p",20),t.EFF(2,"Entities"),t.k0s(),t.Z7z(3,Vt,5,3,"li",15,t.fX1),t.k0s()),2&n){const a=t.XpG().$implicit;t.R7$(3),t.Dyx(a.Entities)}}function Yt(n,v){if(1&n){const a=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(o){const i=g.eBV(a).$implicit;return t.DH7(i._export,o)||(i._export=o),g.Njj(o)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()(),t.nVh(5,Ut,5,0,"ul",19),t.nVh(6,Wt,5,0,"ul",19),t.k0s()}if(2&n){const a=v.$implicit;t.R7$(2),t.R50("ngModel",a._export),t.R7$(2),t.Lme("",a.Name," (",a.Id,")"),t.R7$(),t.vxM(a.Templates.length>0?5:-1),t.R7$(),t.vxM(a.Entities.length>0?6:-1)}}function zt(n,v){if(1&n){const a=t.RV6();t.j41(0,"li",15)(1,"div",16)(2,"mat-checkbox",17),t.mxI("ngModelChange",function(o){const i=g.eBV(a).$implicit;return t.DH7(i._export,o)||(i._export=o),g.Njj(o)}),t.j41(3,"span",18),t.EFF(4),t.k0s()()()()}if(2&n){const a=v.$implicit;t.R7$(2),t.R50("ngModel",a._export),t.R7$(2),t.Lme("",a.Name," (",a.Id,")")}}function Ht(n,v){if(1&n&&(t.j41(0,"div")(1,"ul",13)(2,"p",14),t.EFF(3,"Content Types"),t.k0s(),t.Z7z(4,Yt,7,5,"li",15,t.fX1),t.k0s(),t.j41(6,"ul",13)(7,"p",14),t.EFF(8,"Templates Without Content Types"),t.k0s(),t.Z7z(9,zt,5,3,"li",15,t.fX1),t.k0s()()),2&n){const a=t.XpG();t.R7$(4),t.Dyx(a.contentInfo().ContentTypes),t.R7$(5),t.Dyx(a.contentInfo().TemplatesWithoutContentTypes)}}let Xt=(()=>{class n{#t;#e;constructor(){this.hostClass="dialog-component",this.#t=(0,y.d)(Gt.j),this.#e=(0,y.d)(_t.g),this.lockScope=!0,this.dropdownInsertValue=et.O,this.isExporting=(0,g.vPA)(!1),this.exportScope=(0,g.vPA)(Y.YX.scopes.default.value),this.contentInfo=this.#t.getContentInfoLiveParam(this.exportScope).value,this.scopeOptions=this.#e.getScopesSig(),this.loading=(0,b.EW)(()=>{const a=this.contentInfo(),s=this.scopeOptions();return!a||!s})}exportAppParts(){this.isExporting.set(!0);const a=this.#n().map(i=>i.Id),s=this.#a().map(i=>i.Id);let o=this.#o().map(i=>i.Id);o=o.concat(s),this.#t.exportParts(a,o,s),this.isExporting.set(!1)}changeScope(a){if(a===et.O&&(a=prompt("This is an advanced feature to show content-types of another scope. Don't use this if you don't know what you're doing, as content-types of other scopes are usually hidden for a good reason.")||Y.YX.scopes.default.value,!this.scopeOptions().find(s=>s.value===a))){const s={name:a,value:a},o=this.scopeOptions();o.unshift(s),this.scopeOptions.set(o)}this.exportScope.set(a)}unlockScope(){this.lockScope=!this.lockScope,this.lockScope&&this.exportScope.set(Y.YX.scopes.default.value)}#n(){return this.contentInfo().ContentTypes.filter(a=>a._export)}#o(){let a=[];for(const s of this.contentInfo().ContentTypes)a=a.concat(s.Entities.filter(o=>o._export));return a}#a(){let a=[];for(const s of this.contentInfo().ContentTypes)a=a.concat(s.Templates.filter(o=>o._export));return a=a.concat(this.contentInfo().TemplatesWithoutContentTypes.filter(s=>s._export)),a}static#s=this.\u0275fac=function(s){return new(s||n)};static#i=this.\u0275cmp=t.VBU({type:n,selectors:[["app-export-app-parts"]],hostVars:1,hostBindings:function(s,o){2&s&&t.Avn("className",o.hostClass)},decls:34,vars:7,consts:[[1,"outer-container-app"],[1,"form-height"],["href","https://2sxc.org/en/help?tag=export","target","_blank"],[1,"eav-edit-input"],["color","accent",1,"eav-mat-form-field"],["name","Scope",3,"ngModelChange","ngModel","disabled"],[3,"value"],["mat-icon-button","","matTextSuffix","",1,"enable",3,"tippy"],["appClickStopPropagation","",3,"click"],["appClickStopPropagation","","href","https://2sxc.org/help?tag=scope","target","_blank"],[1,"eav-dialog-actions",2,"height","73px"],["mat-button","","tippy","Export selected Parts",1,"eav-button__with-icon",3,"click","disabled"],[1,"eav-icon"],[1,"eav-content-info__list","eav-content-info__base"],[1,"eav-content-info__title"],[1,"eav-content-info__item"],[1,"eav-option-box"],[3,"ngModelChange","ngModel"],[1,"eav-option-box__text"],[1,"eav-content-info__list"],[1,"eav-content-info__subtitle"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2,"Export Content and Templates from this App"),t.k0s(),t.j41(3,"div",1)(4,"p"),t.EFF(5,"To export Content-Types, Queries, Views or Data, use the respective tabs."),t.k0s(),t.j41(6,"p"),t.EFF(7," This is an advanced feature to export parts of the app. The export will create an xml file which can be imported into another site or app. To export the entire content of the app (for example when duplicating the entire site), go to the app export. For further help visit "),t.j41(8,"a",2),t.EFF(9,"2sxc Help"),t.k0s(),t.EFF(10,". "),t.k0s(),t.j41(11,"div",3)(12,"mat-form-field",4)(13,"mat-label"),t.EFF(14,"Scope"),t.k0s(),t.j41(15,"mat-select",5),t.bIt("ngModelChange",function(d){return o.changeScope(d)}),t.Z7z(16,Lt,2,2,"mat-option",6,t.fX1),t.j41(18,"mat-option",6),t.EFF(19,"Other..."),t.k0s()(),t.j41(20,"button",7)(21,"mat-icon",8),t.bIt("click",function(){return o.unlockScope()}),t.EFF(22),t.k0s()()(),t.j41(23,"app-field-hint"),t.EFF(24," The scope should almost never be changed - "),t.j41(25,"a",9),t.EFF(26,"see help"),t.k0s()()(),t.nVh(27,Ht,11,0,"div"),t.k0s(),t.j41(28,"mat-dialog-actions",10)(29,"button",11),t.bIt("click",function(){return o.exportAppParts()}),t.j41(30,"mat-icon",12),t.EFF(31,"cloud_download"),t.k0s(),t.j41(32,"span"),t.EFF(33,"Export Parts"),t.k0s()()()()),2&s&&(t.R7$(15),t.Y8G("ngModel",o.exportScope())("disabled",o.lockScope),t.R7$(),t.Dyx(o.scopeOptions()),t.R7$(2),t.Y8G("value",o.dropdownInsertValue),t.R7$(2),t.Y8G("tippy",o.lockScope?"Unlock":"Lock"),t.R7$(2),t.SpI(" ",o.lockScope?"lock":"lock_open"," "),t.R7$(5),t.vxM(o.contentInfo()?27:-1),t.R7$(2),t.Y8G("disabled",o.loading()||o.isExporting()))},dependencies:[bt.M,z.j,z.M,z.g,tt.M,tt.g,$t.M,B.YN,B.BC,B.vS,St.M,f.Hl,f.$z,Nt.M,u.m_,u.An,U.g7,U.So,_.M,Bt.F,Ot.c,k.e,_.l],styles:["a[_ngcontent-%COMP%]{color:#465da3!important}.eav-button__with-icon[_ngcontent-%COMP%], .enable[_ngcontent-%COMP%]{color:#85283b!important}.eav-edit-input[_ngcontent-%COMP%]{padding-bottom:8px}.eav-content-info__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.eav-content-info__subtitle[_ngcontent-%COMP%]{font-size:14px;font-weight:700}.eav-content-info__list[_ngcontent-%COMP%]{font-size:14px;list-style-type:none}.eav-content-info__base[_ngcontent-%COMP%]{padding:0}.eav-content-info__item[_ngcontent-%COMP%]{border-top:1px solid #ddd;padding:2px}.eav-option-box[_ngcontent-%COMP%]{margin:8px 0}.eav-option-box__text[_ngcontent-%COMP%]{white-space:normal;font-size:14px}.form-height[_ngcontent-%COMP%]{max-height:calc(100vh - 280px);overflow:auto}.enable[_ngcontent-%COMP%]{pointer-events:all}"]})}return n})();var N=e(37580),Kt=e(97360),Qt=e(92487);let Zt=(()=>{class n{constructor(){this.#t=(0,y.d)(H.t),this.appInfo=this.#t.getAppInfo().value,this.features=(0,g.WQX)(L.D),this.expAssetsAdvEnabled=this.features.isEnabled[p.T.AppExportAssetsAdvanced],this.includeContentGroups=(0,N.geq)(!1),this.resetAppGuid=(0,N.geq)(!1),this.assetsAdam=(0,N.geq)(!0),this.assetsAdamDeleted=(0,N.geq)(!1),this.assetsSite=(0,N.geq)(!0),this.downloadUrl=(0,b.EW)(()=>this.#t.exportAppUrl()+`&includeContentGroups=${this.includeContentGroups()}&resetAppGuid=${this.resetAppGuid()}&assetsAdam=${this.assetsAdam()}&assetsSite=${this.assetsSite()}`)}#t;static#e=this.\u0275fac=function(s){return new(s||n)};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-export-app"]],inputs:{includeContentGroups:[1,"includeContentGroups"],resetAppGuid:[1,"resetAppGuid"],assetsAdam:[1,"assetsAdam"],assetsAdamDeleted:[1,"assetsAdamDeleted"],assetsSite:[1,"assetsSite"]},outputs:{includeContentGroups:"includeContentGroupsChange",resetAppGuid:"resetAppGuidChange",assetsAdam:"assetsAdamChange",assetsAdamDeleted:"assetsAdamDeletedChange",assetsSite:"assetsSiteChange"},decls:80,vars:25,consts:[[1,"outer-container-app"],[1,"form-height"],["href","https://2sxc.org/en/help?tag=export-app","target","_blank"],[1,"eav-app-info__title"],[1,"eav-app-info__content"],[1,"checkboxes"],[3,"ngModelChange","ngModel","disabled"],[3,"featureNameId"],[2,"height","73px"],["link","https://go.2sxc.org/app-export","label","Export App Info"],["mat-button","","download","",1,"eav-button__with-icon",3,"href"],[1,"eav-icon"]],template:function(s,o){if(1&s&&(t.j41(0,"div",0)(1,"h3"),t.EFF(2),t.k0s(),t.j41(3,"div",1)(4,"p"),t.EFF(5," Pack the entire app to a "),t.j41(6,"em"),t.EFF(7,"zip"),t.k0s(),t.EFF(8," folder which can be imported again to another site. For further help visit "),t.j41(9,"a",2),t.EFF(10,"2sxc Help"),t.k0s(),t.EFF(11,". "),t.k0s(),t.j41(12,"p",3),t.EFF(13,"Specs"),t.k0s(),t.j41(14,"ul",4)(15,"li"),t.EFF(16),t.k0s(),t.j41(17,"li"),t.EFF(18),t.k0s(),t.j41(19,"li"),t.EFF(20),t.k0s()(),t.j41(21,"p",3),t.EFF(22,"Contains"),t.k0s(),t.j41(23,"ul",4)(24,"li"),t.EFF(25),t.k0s(),t.j41(26,"li"),t.EFF(27),t.k0s(),t.j41(28,"li"),t.EFF(29),t.k0s(),t.j41(30,"li"),t.EFF(31),t.k0s(),t.j41(32,"li"),t.EFF(33),t.k0s()(),t.j41(34,"p",3),t.EFF(35,"Advanced"),t.k0s(),t.j41(36,"ul",5)(37,"li")(38,"mat-checkbox",6),t.mxI("ngModelChange",function(d){return t.DH7(o.includeContentGroups,d)||(o.includeContentGroups=d),d}),t.nrm(39,"br"),t.EFF(40," Include all content-groups to re-import the app in an exact copy of this site. "),t.nrm(41,"br"),t.EFF(42," Only select this option when you copy an entire DNN site. "),t.k0s()(),t.j41(43,"li")(44,"mat-checkbox",6),t.mxI("ngModelChange",function(d){return t.DH7(o.resetAppGuid,d)||(o.resetAppGuid=d),d}),t.nrm(45,"br"),t.EFF(46," Reset the app GUID to zero. "),t.nrm(47,"br"),t.EFF(48," You only need this option for special tutorial apps, and usually must not select it. "),t.k0s()(),t.j41(49,"li"),t.nrm(50,"app-feature-icon",7),t.j41(51,"mat-checkbox",6),t.mxI("ngModelChange",function(d){return t.DH7(o.assetsAdam,d)||(o.assetsAdam=d),d}),t.nrm(52,"br"),t.EFF(53," Include all ADAM assets. "),t.nrm(54,"br"),t.EFF(55," This will include all App files in the "),t.j41(56,"code"),t.EFF(57,"/adam"),t.k0s(),t.EFF(58," folder in your portal. "),t.k0s()(),t.j41(59,"li"),t.nrm(60,"app-feature-icon",7),t.j41(61,"mat-checkbox",6),t.mxI("ngModelChange",function(d){return t.DH7(o.assetsAdamDeleted,d)||(o.assetsAdamDeleted=d),d}),t.nrm(62,"br"),t.EFF(63," Skip ADAM assets of deleted entities. "),t.nrm(64,"br"),t.EFF(65," This will skip all ADAM files which are probably not in use any more, since the owning entities were deleted. "),t.k0s()(),t.j41(66,"li"),t.nrm(67,"app-feature-icon",7),t.j41(68,"mat-checkbox",6),t.mxI("ngModelChange",function(d){return t.DH7(o.assetsSite,d)||(o.assetsSite=d),d}),t.nrm(69,"br"),t.EFF(70," Include all Site assets like images which are not in ADAM. "),t.nrm(71,"br"),t.EFF(72," This will include all files used by your entities (eg. in link fields) which are not in you App-ADAM folder. "),t.k0s()()()(),t.j41(73,"mat-dialog-actions",8),t.nrm(74,"app-docs-link-helper",9),t.j41(75,"a",10)(76,"mat-icon",11),t.EFF(77,"deployed_code_update"),t.k0s(),t.j41(78,"span"),t.EFF(79,"Download"),t.k0s()()()()),2&s){let i,d,D,M,O,S,R,ot;t.R7$(2),t.SpI(" Export app ",null==o.appInfo()?"(loading details...)":""," "),t.R7$(14),t.SpI("Name: ",null==(i=o.appInfo())?null:i.Name),t.R7$(2),t.SpI("Guid: ",null==(d=o.appInfo())?null:d.Guid),t.R7$(2),t.SpI("Version: ",null==(D=o.appInfo())?null:D.Version),t.R7$(5),t.SpI("",null==(M=o.appInfo())?null:M.EntitiesCount," entities"),t.R7$(2),t.SpI("",null==(O=o.appInfo())?null:O.LanguagesCount," languages"),t.R7$(2),t.E5c(" ",null==(S=o.appInfo())?null:S.TemplatesCount," templates (Token: ",null==(S=o.appInfo())?null:S.HasTokenTemplates,", Razor: ",null==(S=o.appInfo())?null:S.HasRazorTemplates,") "),t.R7$(2),t.SpI("",null==(R=o.appInfo())?null:R.TransferableFilesCount," files to export"),t.R7$(2),t.SpI("",null==(ot=o.appInfo())?null:ot.FilesCount," files in the app folder totally"),t.R7$(5),t.R50("ngModel",o.includeContentGroups),t.Y8G("disabled",o.resetAppGuid()),t.R7$(6),t.R50("ngModel",o.resetAppGuid),t.Y8G("disabled",o.includeContentGroups()),t.R7$(6),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",o.assetsAdam),t.Y8G("disabled",!o.expAssetsAdvEnabled()),t.R7$(9),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",o.assetsAdamDeleted),t.Y8G("disabled",!o.expAssetsAdvEnabled()),t.R7$(6),t.Y8G("featureNameId","AppExportAssetsAdvanced"),t.R7$(),t.R50("ngModel",o.assetsSite),t.Y8G("disabled",!o.expAssetsAdvEnabled()),t.R7$(7),t.Y8G("href",o.downloadUrl(),t.B4B)}},dependencies:[U.g7,U.So,B.YN,B.BC,B.vS,_.M,f.Hl,f.$z,u.m_,u.An,Qt.Z,Kt.u],styles:["a[_ngcontent-%COMP%]{color:#465da3!important}.eav-button__with-icon[_ngcontent-%COMP%]{color:#85283b!important}.eav-app-info__title[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0;font-weight:700}.eav-app-info__content[_ngcontent-%COMP%]{font-size:14px}.eav-app-info__content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 0}.eav-options-wrapper[_ngcontent-%COMP%]{margin:24px 0}.eav-option-box[_ngcontent-%COMP%]{margin:2px 0}.eav-option-box__text[_ngcontent-%COMP%]{white-space:normal;font-size:14px}.form-height[_ngcontent-%COMP%]{max-height:calc(100vh - 272px);overflow:auto}.mdc-form-field[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{padding-top:12px}ul.checkboxes[_ngcontent-%COMP%]{list-style-type:none;margin-top:4px;padding-left:0}"]})}return n})(),Jt=(()=>{class n{#t;constructor(a){this.#t=(0,y.d)(X.S),this.uploadType=W.HL.ImportParts,a.title??="Import Content and Templates into this App",a.description??='\n    Import content and templates from a content export (zip) or partial export (xml) to this app.\n    The entire content of the selected file will be imported.\n    If you want to import an entire app, go to the <em>Apps Management</em>.\n    For further help visit <a href="https://2sxc.org/en/help?tag=import" target="_blank">2sxc Help</a>.\n    ',a.allowedFileTypes??="xml",a.multiple??=!0,a.upload$??=s=>this.#t.importAppParts(s[0])}static#e=this.\u0275fac=function(s){return new(s||n)(t.rXU(_.e))};static#n=this.\u0275cmp=t.VBU({type:n,selectors:[["app-import-app-parts"]],decls:1,vars:1,consts:[[3,"uploadType"]],template:function(s,o){1&s&&t.nrm(0,"app-file-upload-dialog",0),2&s&&t.Y8G("uploadType",o.uploadType)},dependencies:[W.jj],encapsulation:2})}return n})(),wt=(()=>{class n{constructor(a){this.router=a}linkToPage(a){return`${this.router.url.replace("/import-export","")}/${a}`}static#t=this.\u0275fac=function(s){return new(s||n)(t.rXU(q.Ix))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-import-export"]],decls:93,vars:9,consts:[[1,"outer-container-app"],[3,"routerLink"],["mat-button","","tippy","Go to Export App"],["mat-button","","tippy","Go to Data Bundles"],["mat-button","","tippy","Go to Export Parts"],["mat-button","","tippy","Go to Import Parts"],["mat-button","","tippy","Go to App-State Git Sync"]],template:function(s,o){1&s&&(t.j41(0,"div",0)(1,"h2"),t.EFF(2,"Import Export"),t.k0s(),t.j41(3,"p"),t.EFF(4,"2sxc provides you with many import-export features for all kinds of scenarios."),t.k0s(),t.j41(5,"h3"),t.EFF(6,"Export/Import of Data Lists, Schemas, Views and Queries"),t.k0s(),t.j41(7,"p"),t.EFF(8,"Before you continue here, you should know that some import/export features are directly available in other parts of the admin UI."),t.k0s(),t.j41(9,"ol")(10,"li")(11,"strong")(12,"a",1),t.EFF(13,"Lists of Data"),t.k0s()(),t.EFF(14," can be exported / imported as XML (for editing in Excel) in the [data] section. "),t.k0s(),t.j41(15,"li")(16,"strong")(17,"a",1),t.EFF(18,"Content-Types"),t.k0s()(),t.EFF(19," can be exported and imported as JSON in the [data] section. "),t.k0s(),t.j41(20,"li")(21,"strong")(22,"a",1),t.EFF(23,"Views"),t.k0s()(),t.EFF(24," can be exported and imported as JSON (with the template files) in the views section. "),t.k0s(),t.j41(25,"li")(26,"strong")(27,"a",1),t.EFF(28,"Queries"),t.k0s()(),t.EFF(29," can be exported and imported as JSON in the queries section. "),t.k0s()(),t.j41(30,"h3"),t.EFF(31,"App Export / Import"),t.k0s(),t.j41(32,"p"),t.EFF(33," Apps are exported as a ZIP file which can be imported into another site as needed. Export happens here, import is done in the "),t.j41(34,"em"),t.EFF(35,"Manage Apps"),t.k0s(),t.EFF(36," section. "),t.k0s(),t.j41(37,"a",1)(38,"button",2)(39,"mat-icon"),t.EFF(40,"deployed_code_update"),t.k0s(),t.j41(41,"span"),t.EFF(42,"Export App"),t.k0s()()(),t.j41(43,"h3"),t.EFF(44,"Data Bundles (beta)"),t.k0s(),t.j41(45,"p"),t.EFF(46," Data Bundles are a new feature which allows you to export and import data from one app to another. This is very useful when you want to sync "),t.j41(47,"strong"),t.EFF(48,"only parts of the data/schema"),t.k0s(),t.EFF(49," from one environment to another. Bundles allow you to define what is in the bundle, and repeat the sync many times as the system changes. "),t.k0s(),t.j41(50,"a",1)(51,"button",3)(52,"mat-icon"),t.EFF(53,"dataset"),t.k0s(),t.j41(54,"span"),t.EFF(55,"Data Bundles"),t.k0s()()(),t.j41(56,"h3"),t.EFF(57,"Export / Import Parts (old)"),t.k0s(),t.j41(58,"p"),t.EFF(59," This feature is the old way of exporting and importing parts of an app. It's still available, but we recommend using the new Data Bundles feature instead. The parts allow you to select some data and export it as XML, then re-import it elsewhere. "),t.k0s(),t.j41(60,"div")(61,"a",1)(62,"button",4)(63,"mat-icon"),t.EFF(64,"cloud_download"),t.k0s(),t.j41(65,"span"),t.EFF(66,"Export Parts"),t.k0s()()(),t.j41(67,"a",1)(68,"button",5)(69,"mat-icon"),t.EFF(70,"cloud_upload"),t.k0s(),t.j41(71,"span"),t.EFF(72,"Import Parts"),t.k0s()()()(),t.j41(73,"h3"),t.EFF(74,"App State Backup and Git Sync"),t.k0s(),t.j41(75,"p"),t.EFF(76," This feature is for advanced users who want to backup the entire App State. The App State contains all the data, schema, views, queries and more. This allows you to: "),t.k0s(),t.j41(77,"ol")(78,"li"),t.EFF(79,"Do backups, and reset your App to what was in that backup."),t.k0s(),t.j41(80,"li"),t.EFF(81,"When combined with Git, you can also reset the App to previous states."),t.k0s(),t.j41(82,"li"),t.EFF(83,"When combined with Git, you can also use it to transfer the "),t.j41(84,"strong"),t.EFF(85,"complete App State"),t.k0s(),t.EFF(86," from one site to another."),t.k0s()(),t.j41(87,"a",1)(88,"button",6)(89,"mat-icon"),t.EFF(90,"sync"),t.k0s(),t.j41(91,"span"),t.EFF(92,"App State Git Sync"),t.k0s()()()()),2&s&&(t.R7$(12),t.Y8G("routerLink",o.linkToPage("data/Default")),t.R7$(5),t.Y8G("routerLink",o.linkToPage("data/Default")),t.R7$(5),t.Y8G("routerLink",o.linkToPage("views")),t.R7$(5),t.Y8G("routerLink",o.linkToPage("queries")),t.R7$(10),t.Y8G("routerLink",o.linkToPage("export-app")),t.R7$(13),t.Y8G("routerLink",o.linkToPage("data-bundles")),t.R7$(11),t.Y8G("routerLink",o.linkToPage("export-parts")),t.R7$(6),t.Y8G("routerLink",o.linkToPage("import-parts")),t.R7$(20),t.Y8G("routerLink",o.linkToPage("app-state")))},dependencies:[V.iI,V.Wk,u.m_,u.An,f.Hl,f.$z,k.e],styles:["button[_ngcontent-%COMP%], a[_ngcontent-%COMP%]{color:#85283b!important;text-decoration:none}"]})}return n})();const qt={name:"ANALYZE_SETTINGS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{AnalyzeSettingsComponent:n}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_analyze-settings_comp-6cd38e")]).then(e.bind(e,68852));return n})()},te={name:"SETTINGS_ITEM_DETAILS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{SettingsItemDetailsComponent:n}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_analyze-settings_settings-item-details-4ac85a")]).then(e.bind(e,9250));return n})()},ee={name:"DELETE_EXTENSION_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{DeleteExtensionComponent:n}=yield Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_delete-extension_delete-extension_comp-79838c")]).then(e.bind(e,26167));return n})()},nt={name:"EDIT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"small",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{EditContentTypeComponent:n}=yield Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_edit-content-type_edit-content-type_co-2abec4")]).then(e.bind(e,8407));return n})()},oe={name:"IMPORT_DATA_BUNDLES_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ImportDataBundlesComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-data-bundles_import-data-bundle-7409e3").then(e.bind(e,76983));return n})()},ae={name:"IMPORT_EXTENSION_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ImportExtensionComponent:n}=yield e.e("default-projects_eav-ui_src_app_app-administration_sub-dialogs_import-extension_import-extens-cc190f").then(e.bind(e,13478));return n})()},se={name:"IMPORT_QUERY_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ImportQueryComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-query_import-query_component_ts").then(e.bind(e,29149));return n})()},ie={name:"IMPORT_VIEW_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ImportViewComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-view_import-view_component_ts").then(e.bind(e,30439));return n})()},pe={name:"INSPECT_EXTENSION_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{InspectExtensionComponent:n}=yield Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_slide-toggle_mjs"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_inspect-extension_inspect-extension_co-1c799d")]).then(e.bind(e,39259));return n})()},le={name:"LANGUAGE_PERMISSIONS",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{LanguagePermissionsComponent:n}=yield Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_language-permissions_language-permissi-a91b40")]).then(e.bind(e,8237));return n})()},re={name:"VIEWS_USAGE_DIALOG",initContext:!1,panelSize:"large",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ViewsUsageComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_views-usage_views-usage_component_ts").then(e.bind(e,48267));return n})()},de=[{path:"",component:m.DialogEntryComponent,data:{dialog:T},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_getting-started_getting-started_component_ts").then(e.bind(e,59706)).then(n=>n.GettingStartedComponent),data:{title:"App Home",breadcrumb:"Info"}},{path:"data/:scope",loadComponent:()=>Promise.all([e.e("default-projects_eav-ui_src_app_content-export_services_content-export_service_ts-projects_ea-b28668"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_data_data_component_ts")]).then(e.bind(e,77391)).then(n=>n.DataComponent),children:[{path:"import",component:m.DialogEntryComponent,data:{dialog:{name:"IMPORT_CONTENT_TYPE_DIALOG",initContext:!1,panelSize:"medium",panelClass:null,getComponent:()=>(0,c.A)(function*(){const{ImportContentTypeComponent:n}=yield e.e("projects_eav-ui_src_app_app-administration_sub-dialogs_import-content-type_import-content-typ-e2ad96").then(e.bind(e,46907));return n})()},title:"Import Content Type"}},{path:"items/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,20753)).then(n=>n.contentItemsRoutes)},...h.RD,{path:"add",component:m.DialogEntryComponent,data:{dialog:nt,title:"Add Content Type"}},{path:":contentTypeStaticName/edit",component:m.DialogEntryComponent,data:{dialog:nt,title:"Edit Content Type"}},...E.H.getRoutes(),l.N5.route,{path:"fields/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,45733)).then(n=>n.contentTypeFieldsRoutes),data:{title:"Content Type Fields"}},{path:"export/:contentTypeStaticName",loadChildren:()=>e.e("projects_eav-ui_src_app_content-export_content-export_routing_ts").then(e.bind(e,24350)).then(n=>n.ContentExportRoutes),data:{title:"Export Items"}},{path:":contentTypeStaticName/import",loadChildren:()=>e.e("projects_eav-ui_src_app_content-import_content-import_routing_ts").then(e.bind(e,3031)).then(n=>n.contentImportRoutes),data:{title:"Import Items"}},C.k.route],data:{title:"App Data",breadcrumb:"Data"}},{path:`data-${F.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(n=>n.CopilotPageComponent),data:j.r.data,children:[...h.RD]},{path:l.N5.routeData,loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_data-rest-api_data-rest-api_component_ts")]).then(e.bind(e,9086)).then(n=>n.DataRestApiComponent),data:{title:"Rest-Api Data",breadcrumb:"Rest-Api Data"},children:[{path:`:${l.N5.paramTypeName}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("default-projects_eav-ui_src_app_dev-rest_tab-permissions_tab-permissions_component_ts"),e.e("projects_eav-ui_src_app_dev-rest_data_data_component_ts")]).then(e.bind(e,46191)).then(n=>n.DevRestDataComponent),data:{breadcrumb:"Rest-Api Data"},children:[C.k.route]}]},{path:"queries",loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_queries_queries_component_ts").then(e.bind(e,42357)).then(n=>n.QueriesComponent),children:[{path:"import",component:m.DialogEntryComponent,data:{dialog:se,title:"Import Query"}},...h.Ed,...E.H.getRoutes(),{...C.k.route,data:{title:"Query Permissions"}},l.N5.route],data:{title:"App Queries",breadcrumb:"Queries"}},{path:l.N5.routeQuery,loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_queries-rest-api_queries-rest-api_component_ts")]).then(e.bind(e,73960)).then(n=>n.QueriesRestApiComponent),data:{title:"Rest-Api Queries",breadcrumb:"Rest-Api Queries"},children:[{path:`:${l.N5.paramQuery}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("default-projects_eav-ui_src_app_dev-rest_tab-permissions_tab-permissions_component_ts"),e.e("default-projects_eav-ui_src_app_dev-rest_query_query_component_ts")]).then(e.bind(e,3791)).then(n=>n.DevRestQueryComponent),data:{breadcrumb:"Rest-Api Queries"},children:[C.k.route]}]},{path:"views",loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_views_views_component_ts-projects_eav-ui_src_app_s-ecfd0b")]).then(e.bind(e,11232)).then(n=>n.ViewsComponent),children:[{path:"import",component:m.DialogEntryComponent,data:{dialog:ie,title:"Import View"}},{path:"usage/:guid",component:m.DialogEntryComponent,data:{dialog:re}},...h.RD,{...C.k.route,data:{title:"View Permissions"}},...E.H.getRoutes()],data:{title:"App Views",breadcrumb:"Views"}},{path:`views-${F.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(n=>n.CopilotPageComponent),data:j.r.views,children:[...h.RD]},{path:"extensions",loadComponent:()=>Promise.all([e.e("default-projects_eav-ui_src_app_app-administration_sub-dialogs_import-extension_import-extens-cc190f"),e.e("projects_eav-ui_src_app_app-administration_app-extensions_app-extensions_ts")]).then(e.bind(e,53652)).then(n=>n.AppExtensions),data:{title:"App Extensions",breadcrumb:"App Extensions"},children:[...h.RD,{path:"import",component:m.DialogEntryComponent,data:{dialog:ae,title:"Import Extension"}},{path:"delete/:extension",component:m.DialogEntryComponent,data:{dialog:ee}},{path:"inspect/:extension",component:m.DialogEntryComponent,data:{dialog:pe}}]},{path:"web-api",loadComponent:()=>Promise.all([e.e("default-projects_eav-ui_src_app_edit_form_form-config_service_ts-projects_eav-ui_src_app_edit-b26668"),e.e("default-projects_eav-ui_src_app_create-file-dialog_create-file-dialog_component_ts"),e.e("common"),e.e("projects_eav-ui_src_app_app-administration_web-api_web-api_component_ts")]).then(e.bind(e,27592)).then(n=>n.WebApiComponent),data:{title:"App WebApi",breadcrumb:"WebApi"},children:[l.N5.route]},{path:`web-api-${F.u.route}`,loadComponent:()=>e.e("projects_eav-ui_src_app_app-administration_copilot_page_copilot-page_component_ts").then(e.bind(e,1902)).then(n=>n.CopilotPageComponent),data:j.r.webApi,children:[...h.RD]},{path:l.N5.routeWebApi,loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_web-api-rest-api_web-api-rest-api_component_ts")]).then(e.bind(e,79262)).then(n=>n.WebApiRestApiComponent),data:{title:"Rest-Api Web Api",breadcrumb:"Rest-Api Web Api"},children:[{path:`:${l.N5.paramApiPath}`,loadComponent:()=>Promise.all([e.e("default-node_modules_angular_material_fesm2022_expansion_mjs"),e.e("default-node_modules_angular_material_fesm2022_tabs_mjs"),e.e("default-projects_eav-ui_src_app_dev-rest_dev-rest-urls-and-code_dev-rest-urls-and-code_compon-f0cd0a"),e.e("projects_eav-ui_src_app_dev-rest_api_api_component_ts")]).then(e.bind(e,80615)).then(n=>n.DevRestApiComponent),data:{breadcrumb:"Rest-Api Web Api"},children:[C.k.route]}]},{path:"app",loadComponent:()=>Promise.all([e.e("common"),e.e("projects_eav-ui_src_app_app-administration_app-configuration_app-configuration_ts")]).then(e.bind(e,25796)).then(n=>n.AppConfiguration),data:{title:"Manage App",breadcrumb:"Manage App"},children:[...E.H.getRoutes(),...h.RD,{path:"fields/:contentTypeStaticName",loadChildren:()=>e.e("common").then(e.bind(e,45733)).then(n=>n.contentTypeFieldsRoutes),data:{title:"Edit Fields of App Settings & Resources"}},{path:"language-permissions",component:m.DialogEntryComponent,data:{dialog:le,title:"Language Permissions"},children:[{...C.k.route,data:{title:"Language Permissions"}}]},{path:"edit-language-permissions",component:m.DialogEntryComponent,data:{dialog:r,featureId:p.T.PermissionsByLanguage},children:[{...C.k.route}]},{...C.k.route,data:{title:"App Permissions"}},{path:"analyze/:part",component:m.DialogEntryComponent,data:{dialog:qt,title:"Analyze Settings / Resources"},children:[{path:"details/:view/:settingsItemKey",component:m.DialogEntryComponent,data:{dialog:te,title:"Settings / Resources Item Details"}}]},{path:"message/:type",component:m.DialogEntryComponent,data:{dialog:I,i18n:"An unexpected error happened.",errComponent:"not found"}}]},{path:"import-export",component:wt,data:{breadcrumb:"Import Export"}},{path:"export-app",component:Zt,data:{breadcrumb:"Export this entire App"}},{path:"data-bundles",component:Mt,data:{breadcrumb:"Data Bundles"},children:[...h.RD,{path:"details/:guid/:name",component:m.DialogEntryComponent,data:{dialog:st,title:"Data Bundles Details"}},{path:"import",component:m.DialogEntryComponent,data:{dialog:oe,title:"Import Data Bundle"}}]},{path:"export-parts",component:Xt,data:{breadcrumb:"Export parts of this App"}},{path:"import-parts",component:Jt,data:{breadcrumb:"Import parts of this App"}},{path:"app-state",component:at,data:{breadcrumb:"App-State Versioning"}}]}]},93454:(P,x,e)=>{e.d(x,{H:()=>h});var l=e(50052);class h{static getRoutes(){const r={path:"metadata/:targetType/:keyType/:key",loadChildren:()=>e.e("projects_eav-ui_src_app_metadata_metadata_routing_ts").then(e.bind(e,75933)).then(E=>E.metadataRoutes),data:{title:"Metadata"}};return[r,{...r,path:`${r.path}/title/:title`},{...r,path:`${r.path}/contentType/:contentTypeStaticName`},{...r,path:`${r.path}/title/:title/contentType/:contentTypeStaticName`}]}static getUrl(r,p,E,C,m){let T=`metadata/${r}/${p}/${E}`;return C&&(T+=`/title/${C}`),m&&(T+=`/contentType/${m}`),T}static getUrlApp(r,p){return this.getUrl(l.YX.metadata.app.targetType,l.YX.metadata.app.keyType,r.toString(),p)}static getUrlAttribute(r,p,E){return this.getUrl(l.YX.metadata.attribute.targetType,l.YX.metadata.attribute.keyType,r.toString(),p,E)}static getUrlContentType(r,p){return this.getUrl(l.YX.metadata.contentType.targetType,l.YX.metadata.contentType.keyType,r,p)}static getUrlEntity(r,p,E){return this.getUrl(l.YX.metadata.entity.targetType,l.YX.metadata.entity.keyType,r,p,E)}}},94035:(P,x,e)=>{e.d(x,{f:()=>T});var l=e(89204),h=e(24467),c=e(99293),r=e(44444);let T=(()=>{class I extends h.B{import(F){const f=new FormData;for(const A of F)f.append("File",A);return this.http.post(this.apiUrl("admin/data/BundleImport"),f,{params:{appId:this.appId,zoneId:this.zoneId}})}exportDataBundle(F){const f=new URLSearchParams({appId:this.appId,exportConfiguration:F,indentation:"1"}),A=`${this.apiUrl("admin/data/BundleExport")}?${f.toString()}`;window.open(A,"_blank","")}saveDataBundlesFetch(F){var f=this;return(0,l.A)(function*(){return f.getStatusPromise("admin/data/BundleSave",{params:{appId:f.appId,exportConfiguration:F,indentation:"1"}})})()}restoreDataBundles(F){return this.http.get(this.apiUrl("admin/data/BundleRestore"),{params:{fileName:F,zoneId:this.zoneId,appId:this.appId}})}static#t=this.\u0275fac=(()=>{let F;return function(A){return(F||(F=c.xGo(I)))(A||I)}})();static#e=this.\u0275prov=r.jDH({token:I,factory:I.\u0275fac})}return I})()},97214:(P,x,e)=>{e.d(x,{r:()=>h});const l="The Copilot provides tools to help you create code.\n    It is still in new, so please use it carefully and report any issues.",h={data:{title:"Data Copilot",breadcrumb:"2sxc Data Copilot",heading:"2sxc Data Copilot",intro:l,teaser:"Autogenerate content types",outputType:"DataModel"},views:{title:"Views Copilot",breadcrumb:"2sxc View Copilot",heading:"2sxc View Copilot",intro:l,teaser:"Autogenerate Razor Views",outputType:"RazorView"},webApi:{title:"WebApi Copilot",breadcrumb:"2sxc WebApi Copilot",heading:"2sxc WebApi Copilot",intro:l,teaser:"Autogenerate WebApi Controllers",outputType:"WebApi"}}},97360:(P,x,e)=>{e.d(x,{u:()=>E});var l=e(37580),h=e(84175),c=e(93840),r=e(34601),p=e(99293);let E=(()=>{class C{constructor(){this.link=(0,l.hFB)(),this.label=(0,l.hFB)(),this.icon=(0,l.hFB)()}static#t=this.\u0275fac=function(I){return new(I||C)};static#e=this.\u0275cmp=p.VBU({type:C,selectors:[["app-docs-link-helper"]],inputs:{link:[1,"link"],label:[1,"label"],icon:[1,"icon"]},decls:5,vars:3,consts:[["mat-button","","target","_blank","tippy","online documentation",1,"eav-button__with-icon",3,"href"],["mat-icon","",1,"eav-icon"]],template:function(I,j){1&I&&(p.j41(0,"a",0)(1,"mat-icon",1),p.EFF(2),p.k0s(),p.j41(3,"span"),p.EFF(4),p.k0s()()),2&I&&(p.Y8G("href",j.link(),p.B4B),p.R7$(2),p.SpI(" ",j.icon()??"menu_book"," "),p.R7$(2),p.JRh(j.label()))},dependencies:[c.m_,c.An,h.Hl,h.$z,r.e],styles:[".eav-button__with-icon[_ngcontent-%COMP%]{color:#465da3!important}"]})}return C})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/default-projects_eav-ui_src_app_app-administration_app-administration_routing_ts.a148b24b8c1ad6d7.js.map