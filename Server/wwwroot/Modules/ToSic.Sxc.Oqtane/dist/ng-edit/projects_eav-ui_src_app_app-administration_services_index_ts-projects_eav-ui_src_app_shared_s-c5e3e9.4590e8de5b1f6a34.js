"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-c5e3e9"],{320:(g,d,t)=>{t.d(d,{t:()=>_});var o=t(89204),p=t(46443),c=t(71772),i=t(24467),n=t(99293),s=t(44444);let _=(()=>{class l extends i.B{getAppInfo(){return(0,p.fx)(()=>({url:this.apiUrl("admin/app/Statistics"),params:{appid:this.appId,zoneId:this.zoneId}}))}exportAppUrl(){return`${this.apiUrl(`${c.u}Export`)}?appId=${this.appId}&zoneId=${this.zoneId}`}exportForVersionControl(I){var u=this;return(0,o.A)(function*({includeContentGroups:P,resetAppGuid:a,withFiles:m}){return u.getStatusPromise("admin/app/SaveData",{params:{appid:u.appId,zoneId:u.zoneId,includeContentGroups:P.toString(),resetAppGuid:a.toString(),withPortalFiles:m.toString()}})}).apply(this,arguments)}static#t=this.\u0275fac=(()=>{let I;return function(P){return(I||(I=n.xGo(l)))(P||l)}})();static#e=this.\u0275prov=s.jDH({token:l,factory:l.\u0275fac})}return l})()},2570:(g,d,t)=>{t.d(d,{y:()=>I});var o=t(89204),p=t(46443),c=t(24467),i=t(99293),n=t(44444);const s="admin/view/all";let I=(()=>{class u extends c.B{getAllOnce(){return(0,p.fx)(()=>({url:this.apiUrl(s),params:{appId:this.appId}}))}getAllLive(a){return(0,p.fx)(()=>(a(),{url:this.apiUrl(s),params:{appId:this.appId}}))}delete(a){var m=this;return(0,o.A)(function*(){return m.getStatusPromise("admin/view/delete",{params:{appId:m.appId,Id:a.toString()}})})()}import(a){const m=new FormData;return m.append("File",a),this.http.post(this.apiUrl("admin/view/import"),m,{params:{appId:this.appId,zoneId:this.zoneId}})}export(a){const m=this.apiUrl("admin/view/json")+"?appId="+this.appId+"&viewId="+a;window.open(m,"_blank","")}getPolymorphismLive(a){return(0,p.fx)(()=>(a(),{url:this.apiUrl("admin/view/polymorphism"),params:{appId:this.appId}}))}getUsage(a){return this.newHttpResource(()=>({url:this.apiUrl("admin/view/usage"),params:{appId:this.appId,guid:a}}))}static#t=this.\u0275fac=(()=>{let a;return function(r){return(a||(a=i.xGo(u)))(r||u)}})();static#e=this.\u0275prov=n.jDH({token:u,factory:u.\u0275fac})}return u})()},17693:(g,d,t)=>{t.d(d,{X:()=>s,g:()=>P});var o=t(46443),p=t(64173),c=t(96474),i=t(99293),n=t(44444);const s="admin/type/",e="admin/type/get",h="admin/type/list",_="admin/type/scopes";let P=(()=>{class a extends c.D{retrieveContentType(r){return this.getHttpApiUrl(e,{params:{appId:this.appId,contentTypeId:r}})}getType(r){return(0,o.fx)(()=>({url:this.apiUrl(e),params:{appId:this.appId,contentTypeId:r}}))}getTypes(r){return(0,o.fx)(()=>({url:this.apiUrl(h),params:{appId:this.appId,scope:r()}}),{defaultValue:[]})}retrieveContentTypesPromise(r){return this.fetchPromise(h,{params:{appId:this.appId,scope:r}})}getScopesPromise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(r=>{const O=r.old;return Object.keys(O).map(y=>({name:O[y],value:y}))})}getScopesSig(){const r=(0,o.fx)(()=>({url:this.apiUrl(_),params:{appid:this.appId}}));return(0,p.EW)(()=>{const y=(0,r.value)();if(!y||!y.old)return[];const A=y.old;return Object.keys(A).map(T=>({name:A[T],value:T}))})}getScopesV2Promise(){return this.fetchPromise(_,{params:{appId:this.appId}}).then(r=>r.scopes)}save(r){return this.http.post(this.apiUrl("admin/type/save"),r,{params:{appid:this.appId}})}delete(r){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.appId,staticName:r.NameId}})}import(r){const O=new FormData;for(const f of r)O.append("File",f);return this.http.post(this.apiUrl("admin/type/import"),O,{params:{appId:this.appId,zoneId:this.zoneId}})}createGhost(r){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.appId,sourceNameId:r}})}static#t=this.\u0275fac=(()=>{let r;return function(f){return(r||(r=i.xGo(a)))(f||a)}})();static#e=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac})}return a})()},25081:(g,d,t)=>{t.d(d,{W:()=>i});var o=t(70519),p=t(44444),c=t(3347);let i=(()=>{class n{constructor(e){this.snackBar=e}copyToClipboard(e){(0,o.l)(e),this.snackBar.open("Copied to clipboard",null,{duration:2e3})}static#t=this.\u0275fac=function(h){return new(h||n)(p.KVO(c.UG))};static#e=this.\u0275prov=p.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})()},49390:(g,d,t)=>{t.d(d,{F:()=>p});var o=t(17355);class p extends o.L{_origin="program";setFocusOrigin(i){return this._origin=i,this}setActiveItem(i){super.setActiveItem(i),this.activeItem&&this.activeItem.focus(this._origin)}}},58624:(g,d,t)=>{t.d(d,{Q:()=>n,S:()=>s});var o=t(71772),p=t(24467),c=t(99293),i=t(44444);const n="admin/appParts/";let s=(()=>{class e extends p.B{importAppParts(_){const l=new FormData;return l.append("File",_),this.http.post(this.apiUrl(n+"Import"),l,{params:{appId:this.appId,zoneId:this.zoneId}})}resetApp(_){return this.http.post(this.apiUrl(o.u+"Reset"),{},{params:{appId:this.appId,zoneId:this.zoneId,withPortalFiles:_.toString()}})}static#t=this.\u0275fac=(()=>{let _;return function(E){return(_||(_=c.xGo(e)))(E||e)}})();static#e=this.\u0275prov=i.jDH({token:e,factory:e.\u0275fac})}return e})()},70693:(g,d,t)=>{function o(c){return new Promise((i,n)=>{const s=new FileReader;s.readAsDataURL(c),s.onload=()=>{i(s.result.split(",")[1])},s.onerror=e=>{n(e)}})}function p(c){return new Promise((i,n)=>{const s=new FileReader;s.readAsText(c),s.onload=()=>{i(s.result)},s.onerror=e=>{n(e)}})}t.d(d,{d:()=>p,n:()=>o})},71475:(g,d,t)=>{t.d(d,{j:()=>e});var o=t(46443),p=t(24467),c=t(58624),i=t(99293),n=t(44444);let e=(()=>{class h extends p.B{getContentInfoLiveParam(l){return(0,o.fx)(()=>({url:this.apiUrl("admin/appParts/get"),params:{appid:this.appId,zoneId:this.zoneId,scope:l()}}))}exportParts(l,E,I){const u=this.apiUrl(c.Q+"Export")+"?appId="+this.appId+"&zoneId="+this.zoneId+"&contentTypeIdsString="+l.join(";")+"&entityIdsString="+E.join(";")+"&templateIdsString="+I.join(";");window.open(u,"_blank","")}static#t=this.\u0275fac=(()=>{let l;return function(I){return(l||(l=i.xGo(h)))(I||h)}})();static#e=this.\u0275prov=n.jDH({token:h,factory:h.\u0275fac})}return h})()},71772:(g,d,t)=>{t.d(d,{I:()=>h,u:()=>e});var o=t(36647),p=t(59452),c=t(8112),i=t(24467),n=t(99293),s=t(44444);const e="admin/app/";let h=(()=>{class _ extends i.B{importApp(E,I,u=!1){const P=new FormData;return P.append("File",E),P.append("Name",I??""),this.http.post(this.apiUrl(e+"Import"),P,{params:{zoneId:this.zoneId}}).pipe((0,o.n)(a=>{if(u&&a.Messages[0]?.MessageType===c.G1.Warning){const m=prompt(a.Messages[0].Text+" Would you like to install it using another folder name?");if(m)return this.importApp(E,m,!0)}return(0,p.of)(a)}))}static#t=this.\u0275fac=(()=>{let E;return function(u){return(E||(E=n.xGo(_)))(u||_)}})();static#e=this.\u0275prov=s.jDH({token:_,factory:_.\u0275fac})}return _})()},74079:(g,d,t)=>{t.d(d,{Cu:()=>r,JL:()=>O,Mk:()=>a,ei:()=>m,vN:()=>f,xR:()=>y});var o=t(46443),p=t(14600),c=t(36647),i=t(70271),n=t(70693),s=t(34435),e=t(9234),h=t(96474),_=t(99293),l=t(44444);const E={all:!0,getAll:!1,getAllSig:!0,getAllLive:!1,getAllRes:!0,importQuery:!1,clonePipeline:!1,delete:!1,update:!1},a="admin/query/Run",m="admin/query/DebugStream",r="admin/query/Save",O="admin/query/Get",f="admin/query/DataSources";let y=(()=>{class A extends h.D{constructor(){super(...arguments),this.log=(0,s.Tq)({PipelinesService:A},E)}getAll(D){return this.log.fnIf("getAll").r(this.getHttpApiUrl(e.Gg,{params:{appId:this.appId,contentType:D}}))}getAllLive(D,v){return this.log.fnIf("getAllLive",{contentType:D,refresh:v}),(0,o.fx)(()=>(v(),{url:this.apiUrl(e.Gg),params:{appId:this.appId,contentType:D}}))}getAllRes(D,v){const M=this.log.fnIf("getAllRes"),U=(0,o.fx)(()=>({url:e.Gg,params:{appId:this.appId,contentType:D}}),{defaultValue:v});return M.r(U)}importQuery(D){const v=this.log.fnIf("importQuery"),M=(0,p.H)((0,n.n)(D)).pipe((0,c.n)(U=>this.http.post(this.apiUrl("admin/query/import"),{AppId:this.appId,ContentBase64:U})),(0,i.T)(U=>({Success:U,Messages:[]})));return v.r(M)}clonePipelinePromise(D){const v=this.log.fnIf("clonePipeline"),M=this.fetchPromise("admin/query/Clone",{params:{Id:D.toString(),appId:this.appId}});return v.r(M)}delete(D){const v=this.log.fnIf("delete"),M=this.http.delete(this.apiUrl("admin/query/Delete"),{params:{appId:this.appId,Id:D.toString()}});return v.r(M)}static#t=this.\u0275fac=(()=>{let D;return function(M){return(D||(D=_.xGo(A)))(M||A)}})();static#e=this.\u0275prov=l.jDH({token:A,factory:A.\u0275fac})}return A})()},75445:(g,d,t)=>{t.d(d,{Cu:()=>s.Cu,JL:()=>s.JL,Mk:()=>s.Mk,X6:()=>p.X,ei:()=>s.ei,gs:()=>p.g,tr:()=>o.t,vN:()=>s.vN,xR:()=>s.xR,y0:()=>e.y});var o=t(61479),p=t(17693),s=(t(71475),t(320),t(58624),t(74079)),e=t(2570)}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/projects_eav-ui_src_app_app-administration_services_index_ts-projects_eav-ui_src_app_shared_s-c5e3e9.4590e8de5b1f6a34.js.map