"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800"],{17355:(T,E,a)=>{a.d(E,{L:()=>D});var p=a(44444),I=a(99293),A=a(64173),g=a(27092),b=a(84205),y=a(67097),M=a(74879),f=a(5758);class D{_items;_activeItemIndex=(0,p.vPA)(-1);_activeItem=(0,p.vPA)(null);_wrap=!1;_typeaheadSubscription=g.yU.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,_){this._items=e,e instanceof I.rOR?this._itemChangesSubscription=e.changes.subscribe(h=>this._itemsChanged(h.toArray())):(0,p.Hps)(e)&&(this._effectRef=(0,A.QZ)(()=>this._itemsChanged(e()),{injector:_}))}tabOut=new b.B;change=new b.B;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();const _=this._getItemsArray();return this._typeahead=new y.T(_,{debounceInterval:"number"==typeof e?e:void 0,skipPredicate:h=>this._skipPredicateFn(h)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(h=>{this.setActiveItem(h)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,_=10){return this._pageUpAndDown={enabled:e,delta:_},this}setActiveItem(e){const _=this._activeItem();this.updateActiveItem(e),this._activeItem()!==_&&this.change.next(this._activeItemIndex())}onKeydown(e){const _=e.keyCode,d=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(_){case f.T:return void this.tabOut.next();case f.D:if(this._vertical&&d){this.setNextItemActive();break}return;case f.U:if(this._vertical&&d){this.setPreviousItemActive();break}return;case f.R:if(this._horizontal&&d){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case f.L:if(this._horizontal&&d){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case f.H:if(this._homeAndEnd&&d){this.setFirstItemActive();break}return;case f.E:if(this._homeAndEnd&&d){this.setLastItemActive();break}return;case f.a:if(this._pageUpAndDown.enabled&&d){const t=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(t>0?t:0,1);break}return;case f.P:if(this._pageUpAndDown.enabled&&d){const t=this._activeItemIndex()+this._pageUpAndDown.delta,r=this._getItemsArray().length;this._setActiveItemByIndex(t<r?t:r-1,-1);break}return;default:return void((d||(0,M.rp)(e,"shiftKey"))&&this._typeahead?.handleKey(e))}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const _=this._getItemsArray(),h="number"==typeof e?e:_.indexOf(e);this._activeItem.set(_[h]??null),this._activeItemIndex.set(h),this._typeahead?.setCurrentSelectedItemIndex(h)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const _=this._getItemsArray();for(let h=1;h<=_.length;h++){const d=(this._activeItemIndex()+e*h+_.length)%_.length;if(!this._skipPredicateFn(_[d]))return void this.setActiveItem(d)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,_){const h=this._getItemsArray();if(h[e]){for(;this._skipPredicateFn(h[e]);)if(!h[e+=_])return;this.setActiveItem(e)}}_getItemsArray(){return(0,p.Hps)(this._items)?this._items():this._items instanceof I.rOR?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);const _=this._activeItem();if(_){const h=e.indexOf(_);h>-1&&h!==this._activeItemIndex()&&(this._activeItemIndex.set(h),this._typeahead?.setCurrentSelectedItemIndex(h))}}}},22810:(T,E,a)=>{a.d(E,{x:()=>A});var p=a(72551),I=a(59452);function A(g){return(0,p.A)(g)?g:(0,I.of)(g)}},67097:(T,E,a)=>{a.d(E,{T:()=>f});var p=a(84205),I=a(98764),A=a(52575),g=a(51567),b=a(70271),y=a(5758);class f{_letterKeyStream=new p.B;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new p.B;selectedItem=this._selectedItem;constructor(m,e){const _="number"==typeof e?.debounceInterval?e.debounceInterval:200;e?.skipPredicate&&(this._skipPredicateFn=e.skipPredicate),this.setItems(m),this._setupKeyHandler(_)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(m){this._selectedItemIndex=m}setItems(m){this._items=m}handleKey(m){const e=m.keyCode;m.key&&1===m.key.length?this._letterKeyStream.next(m.key.toLocaleUpperCase()):(e>=y.A&&e<=y.Z||e>=y.b&&e<=y.N)&&this._letterKeyStream.next(String.fromCharCode(e))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(m){this._letterKeyStream.pipe((0,I.M)(e=>this._pressedLetters.push(e)),(0,A.B)(m),(0,g.p)(()=>this._pressedLetters.length>0),(0,b.T)(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(e=>{for(let _=1;_<this._items.length+1;_++){const d=this._items[(this._selectedItemIndex+_)%this._items.length];if(!this._skipPredicateFn?.(d)&&0===d.getLabel?.().toLocaleUpperCase().trim().indexOf(e)){this._selectedItem.next(d);break}}this._pressedLetters=[]})}}},72102:(T,E,a)=>{a.d(E,{Ae:()=>e,px:()=>m,vr:()=>o}),a(87438);var I=a(44444),A=a(99293),g=a(6427),b=a(82981),y=a(9227);a(84205),a(83594);const D=" ";function m(l,c,s){const i=_(l,c);s=s.trim(),!i.some(n=>n.trim()===s)&&(i.push(s),l.setAttribute(c,i.join(D)))}function e(l,c,s){const i=_(l,c);s=s.trim();const n=i.filter(u=>u!==s);n.length?l.setAttribute(c,n.join(D)):l.removeAttribute(c)}function _(l,c){return l.getAttribute(c)?.match(/\S+/g)??[]}const d="cdk-describedby-message",t="cdk-describedby-host";let r=0,o=(()=>{class l{_platform=(0,I.WQX)(g.P);_document=(0,I.WQX)(I.qQL);_messageRegistry=new Map;_messagesContainer=null;_id=""+r++;constructor(){(0,I.WQX)(b._).load(y.Y),this._id=(0,I.WQX)(A.sZ2)+"-"+r++}describe(s,i,n){if(!this._canBeDescribed(s,i))return;const u=v(i,n);"string"!=typeof i?(P(i,this._id),this._messageRegistry.set(u,{messageElement:i,referenceCount:0})):this._messageRegistry.has(u)||this._createMessageElement(i,n),this._isElementDescribedByMessage(s,u)||this._addMessageReference(s,u)}removeDescription(s,i,n){if(!i||!this._isElementNode(s))return;const u=v(i,n);if(this._isElementDescribedByMessage(s,u)&&this._removeMessageReference(s,u),"string"==typeof i){const C=this._messageRegistry.get(u);C&&0===C.referenceCount&&this._deleteMessageElement(u)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const s=this._document.querySelectorAll(`[${t}="${this._id}"]`);for(let i=0;i<s.length;i++)this._removeCdkDescribedByReferenceIds(s[i]),s[i].removeAttribute(t);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(s,i){const n=this._document.createElement("div");P(n,this._id),n.textContent=s,i&&n.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(n),this._messageRegistry.set(v(s,i),{messageElement:n,referenceCount:0})}_deleteMessageElement(s){this._messageRegistry.get(s)?.messageElement?.remove(),this._messageRegistry.delete(s)}_createMessagesContainer(){if(this._messagesContainer)return;const s="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${s}[platform="server"]`);for(let u=0;u<i.length;u++)i[u].remove();const n=this._document.createElement("div");n.style.visibility="hidden",n.classList.add(s),n.classList.add("cdk-visually-hidden"),this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._messagesContainer=n}_removeCdkDescribedByReferenceIds(s){const i=_(s,"aria-describedby").filter(n=>0!=n.indexOf(d));s.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(s,i){const n=this._messageRegistry.get(i);m(s,"aria-describedby",n.messageElement.id),s.setAttribute(t,this._id),n.referenceCount++}_removeMessageReference(s,i){const n=this._messageRegistry.get(i);n.referenceCount--,e(s,"aria-describedby",n.messageElement.id),s.removeAttribute(t)}_isElementDescribedByMessage(s,i){const n=_(s,"aria-describedby"),u=this._messageRegistry.get(i),C=u&&u.messageElement.id;return!!C&&-1!=n.indexOf(C)}_canBeDescribed(s,i){if(!this._isElementNode(s))return!1;if(i&&"object"==typeof i)return!0;const n=null==i?"":`${i}`.trim(),u=s.getAttribute("aria-label");return!(!n||u&&u.trim()===n)}_isElementNode(s){return s.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(i){return new(i||l)};static \u0275prov=I.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();function v(l,c){return"string"==typeof l?`${c||""}/${l}`:l}function P(l,c){l.id||(l.id=`${d}-${c}-${r++}`)}},83594:(T,E,a)=>{a.d(E,{T:()=>_});var p=a(99293),I=a(44444),A=a(27092),g=a(72551),b=a(84205),y=a(59452),M=a(64334),f=a(67097),D=a(22810);class m{_activeItemIndex=-1;_activeItem=null;_shouldActivationFollowFocus=!1;_horizontalOrientation="ltr";_skipPredicateFn=t=>!1;_trackByFn=t=>t;_items=[];_typeahead;_typeaheadSubscription=A.yU.EMPTY;_hasInitialFocused=!1;_initializeFocus(){if(this._hasInitialFocused||0===this._items.length)return;let t=0;for(let o=0;o<this._items.length;o++)if(!this._skipPredicateFn(this._items[o])&&!this._isItemDisabled(this._items[o])){t=o;break}const r=this._items[t];r.makeFocusable?(this._activeItem?.unfocus(),this._activeItemIndex=t,this._activeItem=r,this._typeahead?.setCurrentSelectedItemIndex(t),r.makeFocusable()):this.focusItem(t),this._hasInitialFocused=!0}constructor(t,r){t instanceof p.rOR?(this._items=t.toArray(),t.changes.subscribe(o=>{this._items=o.toArray(),this._typeahead?.setItems(this._items),this._updateActiveItemIndex(this._items),this._initializeFocus()})):(0,g.A)(t)?t.subscribe(o=>{this._items=o,this._typeahead?.setItems(o),this._updateActiveItemIndex(o),this._initializeFocus()}):(this._items=t,this._initializeFocus()),"boolean"==typeof r.shouldActivationFollowFocus&&(this._shouldActivationFollowFocus=r.shouldActivationFollowFocus),r.horizontalOrientation&&(this._horizontalOrientation=r.horizontalOrientation),r.skipPredicate&&(this._skipPredicateFn=r.skipPredicate),r.trackBy&&(this._trackByFn=r.trackBy),typeof r.typeAheadDebounceInterval<"u"&&this._setTypeAhead(r.typeAheadDebounceInterval)}change=new b.B;destroy(){this._typeaheadSubscription.unsubscribe(),this._typeahead?.destroy(),this.change.complete()}onKeydown(t){switch(t.key){case"Tab":return;case"ArrowDown":this._focusNextItem();break;case"ArrowUp":this._focusPreviousItem();break;case"ArrowRight":"rtl"===this._horizontalOrientation?this._collapseCurrentItem():this._expandCurrentItem();break;case"ArrowLeft":"rtl"===this._horizontalOrientation?this._expandCurrentItem():this._collapseCurrentItem();break;case"Home":this._focusFirstItem();break;case"End":this._focusLastItem();break;case"Enter":case" ":this._activateCurrentItem();break;default:if("*"===t.key){this._expandAllItemsAtCurrentItemLevel();break}return void this._typeahead?.handleKey(t)}this._typeahead?.reset(),t.preventDefault()}getActiveItemIndex(){return this._activeItemIndex}getActiveItem(){return this._activeItem}_focusFirstItem(){this.focusItem(this._findNextAvailableItemIndex(-1))}_focusLastItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._items.length))}_focusNextItem(){this.focusItem(this._findNextAvailableItemIndex(this._activeItemIndex))}_focusPreviousItem(){this.focusItem(this._findPreviousAvailableItemIndex(this._activeItemIndex))}focusItem(t,r={}){r.emitChangeEvent??=!0;let o="number"==typeof t?t:this._items.findIndex(x=>this._trackByFn(x)===this._trackByFn(t));if(o<0||o>=this._items.length)return;const v=this._items[o];if(null!==this._activeItem&&this._trackByFn(v)===this._trackByFn(this._activeItem))return;const P=this._activeItem;this._activeItem=v??null,this._activeItemIndex=o,this._typeahead?.setCurrentSelectedItemIndex(o),this._activeItem?.focus(),P?.unfocus(),r.emitChangeEvent&&this.change.next(this._activeItem),this._shouldActivationFollowFocus&&this._activateCurrentItem()}_updateActiveItemIndex(t){const r=this._activeItem;if(!r)return;const o=t.findIndex(v=>this._trackByFn(v)===this._trackByFn(r));o>-1&&o!==this._activeItemIndex&&(this._activeItemIndex=o,this._typeahead?.setCurrentSelectedItemIndex(o))}_setTypeAhead(t){this._typeahead=new f.T(this._items,{debounceInterval:"number"==typeof t?t:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.focusItem(r)})}_findNextAvailableItemIndex(t){for(let r=t+1;r<this._items.length;r++)if(!this._skipPredicateFn(this._items[r]))return r;return t}_findPreviousAvailableItemIndex(t){for(let r=t-1;r>=0;r--)if(!this._skipPredicateFn(this._items[r]))return r;return t}_collapseCurrentItem(){if(this._activeItem)if(this._isCurrentItemExpanded())this._activeItem.collapse();else{const t=this._activeItem.getParent();if(!t||this._skipPredicateFn(t))return;this.focusItem(t)}}_expandCurrentItem(){this._activeItem&&(this._isCurrentItemExpanded()?(0,D.x)(this._activeItem.getChildren()).pipe((0,M.s)(1)).subscribe(t=>{const r=t.find(o=>!this._skipPredicateFn(o));r&&this.focusItem(r)}):this._activeItem.expand())}_isCurrentItemExpanded(){return!!this._activeItem&&("boolean"==typeof this._activeItem.isExpanded?this._activeItem.isExpanded:this._activeItem.isExpanded())}_isItemDisabled(t){return"boolean"==typeof t.isDisabled?t.isDisabled:t.isDisabled?.()}_expandAllItemsAtCurrentItemLevel(){if(!this._activeItem)return;const t=this._activeItem.getParent();let r;r=t?(0,D.x)(t.getChildren()):(0,y.of)(this._items.filter(o=>null===o.getParent())),r.pipe((0,M.s)(1)).subscribe(o=>{for(const v of o)v.expand()})}_activateCurrentItem(){this._activeItem?.activate()}}const _=new I.nKC("tree-key-manager",{providedIn:"root",factory:function e(){return(d,t)=>new m(d,t)}})}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/default-node_modules_angular_cdk_fesm2022_a11y_mjs-node_modules_angular_cdk_fesm2022_list-key-856800.62affb73cac477a4.js.map