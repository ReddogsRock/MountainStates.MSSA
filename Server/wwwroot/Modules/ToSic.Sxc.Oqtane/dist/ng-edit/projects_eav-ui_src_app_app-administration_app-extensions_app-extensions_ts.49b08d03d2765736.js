"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-extensions_app-extensions_ts"],{16256:(O,y,a)=>{a.d(y,{Y:()=>c,k:()=>g});var C=a(72102),m=a(51590),r=a(87438),f=a(99293),h=a(44444),_=a(37580),D=a(82981),A=a(9227),M=a(73388),b=a(8126);const T="mat-badge-content";let v=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275cmp=f.VBU({type:d,selectors:[["ng-component"]],decls:0,vars:0,template:function(l,p){},styles:[".mat-badge{position:relative}.mat-badge.mat-badge{overflow:visible}.mat-badge-content{position:absolute;text-align:center;display:inline-block;transition:transform 200ms ease-in-out;transform:scale(0.6);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;box-sizing:border-box;pointer-events:none;background-color:var(--mat-badge-background-color, var(--mat-sys-error));color:var(--mat-badge-text-color, var(--mat-sys-on-error));font-family:var(--mat-badge-text-font, var(--mat-sys-label-small-font));font-weight:var(--mat-badge-text-weight, var(--mat-sys-label-small-weight));border-radius:var(--mat-badge-container-shape, var(--mat-sys-corner-full))}.mat-badge-above .mat-badge-content{bottom:100%}.mat-badge-below .mat-badge-content{top:100%}.mat-badge-before .mat-badge-content{right:100%}[dir=rtl] .mat-badge-before .mat-badge-content{right:auto;left:100%}.mat-badge-after .mat-badge-content{left:100%}[dir=rtl] .mat-badge-after .mat-badge-content{left:auto;right:100%}@media(forced-colors: active){.mat-badge-content{outline:solid 1px;border-radius:0}}.mat-badge-disabled .mat-badge-content{background-color:var(--mat-badge-disabled-state-background-color, color-mix(in srgb, var(--mat-sys-error) 38%, transparent));color:var(--mat-badge-disabled-state-text-color, var(--mat-sys-on-error))}.mat-badge-hidden .mat-badge-content{display:none}.ng-animate-disabled .mat-badge-content,.mat-badge-content._mat-animation-noopable{transition:none}.mat-badge-content.mat-badge-active{transform:none}.mat-badge-small .mat-badge-content{width:var(--mat-badge-legacy-small-size-container-size, unset);height:var(--mat-badge-legacy-small-size-container-size, unset);min-width:var(--mat-badge-small-size-container-size, 6px);min-height:var(--mat-badge-small-size-container-size, 6px);line-height:var(--mat-badge-small-size-line-height, 6px);padding:var(--mat-badge-small-size-container-padding, 0);font-size:var(--mat-badge-small-size-text-size, 0);margin:var(--mat-badge-small-size-container-offset, -6px 0)}.mat-badge-small.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-small-size-container-overlap-offset, -6px)}.mat-badge-medium .mat-badge-content{width:var(--mat-badge-legacy-container-size, unset);height:var(--mat-badge-legacy-container-size, unset);min-width:var(--mat-badge-container-size, 16px);min-height:var(--mat-badge-container-size, 16px);line-height:var(--mat-badge-line-height, 16px);padding:var(--mat-badge-container-padding, 0 4px);font-size:var(--mat-badge-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-container-offset, -12px 0)}.mat-badge-medium.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-container-overlap-offset, -12px)}.mat-badge-large .mat-badge-content{width:var(--mat-badge-legacy-large-size-container-size, unset);height:var(--mat-badge-legacy-large-size-container-size, unset);min-width:var(--mat-badge-large-size-container-size, 16px);min-height:var(--mat-badge-large-size-container-size, 16px);line-height:var(--mat-badge-large-size-line-height, 16px);padding:var(--mat-badge-large-size-container-padding, 0 4px);font-size:var(--mat-badge-large-size-text-size, var(--mat-sys-label-small-size));margin:var(--mat-badge-large-size-container-offset, -12px 0)}.mat-badge-large.mat-badge-overlap .mat-badge-content{margin:var(--mat-badge-large-size-container-overlap-offset, -12px)}\n"],encapsulation:2,changeDetection:0})}return d})(),g=(()=>{class d{_ngZone=(0,h.WQX)(f.SKi);_elementRef=(0,h.WQX)(f.aKT);_ariaDescriber=(0,h.WQX)(C.vr);_renderer=(0,h.WQX)(f.sFG);_animationsDisabled=(0,M._)();_idGenerator=(0,h.WQX)(m._);get color(){return this._color}set color(i){this._setColor(i),this._color=i}_color="primary";overlap=!0;disabled;position="above after";get content(){return this._content}set content(i){this._updateRenderedContent(i)}_content;get description(){return this._description}set description(i){this._updateDescription(i)}_description;size="medium";hidden;_badgeElement;_inlineBadgeDescription;_isInitialized=!1;_interactivityChecker=(0,h.WQX)(r.I);_document=(0,h.WQX)(h.qQL);constructor(){const i=(0,h.WQX)(D._);i.load(v),i.load(A.Y)}isAbove(){return-1===this.position.indexOf("below")}isAfter(){return-1===this.position.indexOf("before")}getBadgeElement(){return this._badgeElement}ngOnInit(){this._clearExistingBadges(),this.content&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement(),this._updateRenderedContent(this.content)),this._isInitialized=!0}ngOnDestroy(){this._renderer.destroyNode&&(this._renderer.destroyNode(this._badgeElement),this._inlineBadgeDescription?.remove()),this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description)}_isHostInteractive(){return this._interactivityChecker.isFocusable(this._elementRef.nativeElement,{ignoreVisibility:!0})}_createBadgeElement(){const i=this._renderer.createElement("span"),l="mat-badge-active";return i.setAttribute("id",this._idGenerator.getId("mat-badge-content-")),i.setAttribute("aria-hidden","true"),i.classList.add(T),this._animationsDisabled&&i.classList.add("_mat-animation-noopable"),this._elementRef.nativeElement.appendChild(i),"function"!=typeof requestAnimationFrame||this._animationsDisabled?i.classList.add(l):this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{i.classList.add(l)})}),i}_updateRenderedContent(i){const l=`${i??""}`.trim();this._isInitialized&&l&&!this._badgeElement&&(this._badgeElement=this._createBadgeElement()),this._badgeElement&&(this._badgeElement.textContent=l),this._content=l}_updateDescription(i){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this.description),(!i||this._isHostInteractive())&&this._removeInlineDescription(),this._description=i,this._isHostInteractive()?this._ariaDescriber.describe(this._elementRef.nativeElement,i):this._updateInlineDescription()}_updateInlineDescription(){this._inlineBadgeDescription||(this._inlineBadgeDescription=this._document.createElement("span"),this._inlineBadgeDescription.classList.add("cdk-visually-hidden")),this._inlineBadgeDescription.textContent=this.description,this._badgeElement?.appendChild(this._inlineBadgeDescription)}_removeInlineDescription(){this._inlineBadgeDescription?.remove(),this._inlineBadgeDescription=void 0}_setColor(i){const l=this._elementRef.nativeElement.classList;l.remove(`mat-badge-${this._color}`),i&&l.add(`mat-badge-${i}`)}_clearExistingBadges(){const i=this._elementRef.nativeElement.querySelectorAll(`:scope > .${T}`);for(const l of Array.from(i))l!==this._badgeElement&&l.remove()}static \u0275fac=function(l){return new(l||d)};static \u0275dir=f.FsC({type:d,selectors:[["","matBadge",""]],hostAttrs:[1,"mat-badge"],hostVars:20,hostBindings:function(l,p){2&l&&f.AVh("mat-badge-overlap",p.overlap)("mat-badge-above",p.isAbove())("mat-badge-below",!p.isAbove())("mat-badge-before",!p.isAfter())("mat-badge-after",p.isAfter())("mat-badge-small","small"===p.size)("mat-badge-medium","medium"===p.size)("mat-badge-large","large"===p.size)("mat-badge-hidden",p.hidden||!p.content)("mat-badge-disabled",p.disabled)},inputs:{color:[0,"matBadgeColor","color"],overlap:[2,"matBadgeOverlap","overlap",_.L39],disabled:[2,"matBadgeDisabled","disabled",_.L39],position:[0,"matBadgePosition","position"],content:[0,"matBadge","content"],description:[0,"matBadgeDescription","description"],size:[0,"matBadgeSize","size"],hidden:[2,"matBadgeHidden","hidden",_.L39]}})}return d})(),c=(()=>{class d{static \u0275fac=function(l){return new(l||d)};static \u0275mod=f.$C({type:d});static \u0275inj=h.G2t({imports:[r.A,b.M,b.M]})}return d})()},53652:(O,y,a)=>{a.r(y),a.d(y,{AppExtensions:()=>Q});var C=a(87945),m=a(44444),r=a(64173),f=a(84175),h=a(81863),_=a(93840),D=a(29658),A=a(59452),M=a(64334),b=a(12938),T=a(68163),v=a(60251),g=a(34575),c=a(34601),d=a(91922),E=a(70334),i=a(67037),l=a(60852),p=a(9234),k=a(22480),R=a(13478),L=a(16256),e=a(99293);let P=(()=>{class o{constructor(){this.canEditExtension=(0,m.vPA)(!1),this.extHasConfig=(0,m.vPA)(!1),this.hasSettings=(0,m.vPA)(!1),this.hasResources=(0,m.vPA)(!1)}agInit(t){this.params=t,this.ext=t.data,this.canEditExtension.set(!this.ext.configuration.isInstalled),this.extHasConfig.set(!!this.ext.configuration),this.hasSettings.set(!!this.ext.configuration?.settingsContentType),this.hasResources.set(!!this.ext.configuration?.resourcesContentType)}refresh(t){return!0}do(t){this.params.do(t,this.ext)}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-extension-actions"]],decls:21,vars:12,consts:[[1,"actions-component"],[1,"actions-row"],["matRipple","","tippy","Edit Extension configuration",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Download Extension ZIP",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Delete Extension",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Edit Extension Settings",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Edit Extension Resources",1,"eav-grid-action-button","default-link","highlight",3,"click"],["matRipple","","tippy","Inspect Extension",1,"eav-grid-action-button","default-link","highlight",3,"click"]],template:function(s,n){1&s&&(e.j41(0,"div",0)(1,"div",1)(2,"a",2),e.bIt("click",function(){return n.do("edit")}),e.j41(3,"mat-icon"),e.EFF(4,"edit"),e.k0s()(),e.j41(5,"a",3),e.bIt("click",function(){return n.do("download")}),e.j41(6,"mat-icon"),e.EFF(7,"cloud_download"),e.k0s()(),e.j41(8,"a",4),e.bIt("click",function(){return n.do("delete")}),e.j41(9,"mat-icon"),e.EFF(10,"delete"),e.k0s()()(),e.j41(11,"div",1)(12,"a",5),e.bIt("click",function(){return n.do("openSettings")}),e.j41(13,"mat-icon"),e.EFF(14,"settings"),e.k0s()(),e.j41(15,"a",6),e.bIt("click",function(){return n.do("openResources")}),e.j41(16,"mat-icon"),e.EFF(17,"translate"),e.k0s()(),e.j41(18,"a",7),e.bIt("click",function(){return n.do("inspect")}),e.j41(19,"mat-icon"),e.EFF(20,"frame_inspect"),e.k0s()()()()),2&s&&(e.R7$(2),e.AVh("disabled",!n.canEditExtension()),e.R7$(3),e.AVh("disabled",!n.canEditExtension()||!n.extHasConfig()),e.R7$(3),e.AVh("disabled",n.canEditExtension()),e.R7$(4),e.AVh("disabled",!n.hasSettings()),e.R7$(3),e.AVh("disabled",!n.hasResources()),e.R7$(3),e.AVh("disabled",n.canEditExtension()))},dependencies:[C.MD,_.m_,_.An,f.Hl,L.Y,c.e],styles:[".actions-component[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;gap:8px}.actions-row[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:4px}.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]})}return o})();var w=a(8923);function H(o,x){if(1&o&&(e.j41(0,"a",1)(1,"mat-icon"),e.EFF(2,"extension"),e.k0s()()),2&o){const t=e.XpG();e.Y8G("href",t.mainLink||"#",e.B4B)}}function F(o,x){1&o&&e.nrm(0,"div")}function I(o,x){if(1&o&&(e.j41(0,"a",2)(1,"mat-icon"),e.EFF(2,"description"),e.k0s()()),2&o){const t=e.XpG();e.Y8G("href",t.docsLink||"#",e.B4B)}}function S(o,x){1&o&&e.nrm(0,"div")}function W(o,x){if(1&o&&(e.j41(0,"a",3)(1,"mat-icon"),e.EFF(2,"smart_display"),e.k0s()()),2&o){const t=e.XpG();e.Y8G("href",t.demosLink||"#",e.B4B)}}function G(o,x){1&o&&e.nrm(0,"div")}function j(o,x){if(1&o&&(e.j41(0,"a",4),m.qSk(),e.j41(1,"svg",5),e.nrm(2,"path",6),e.k0s()()),2&o){const t=e.XpG();e.Y8G("href",t.sourceCodeLink||"#",e.B4B)}}function U(o,x){1&o&&e.nrm(0,"div")}let $=(()=>{class o{agInit(t){this.mainLink=t.mainLink,this.docsLink=t.docsLink,this.demosLink=t.demosLink,this.sourceCodeLink=t.sourceCodeLink}refresh(t){return t&&(this.mainLink=t.mainLink,this.docsLink=t.docsLink,this.demosLink=t.demosLink,this.sourceCodeLink=t.sourceCodeLink),!0}static#e=this.\u0275fac=function(s){return new(s||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-extensions-link"]],decls:9,vars:4,consts:[[1,"grid-container"],["mat-icon-button","","target","_blank","rel","noopener","title","Main Link",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Documentation",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Demo",1,"small-icon-button",3,"href"],["mat-icon-button","","target","_blank","rel","noopener","title","Link to Source Code",1,"small-icon-button",3,"href"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["d","M237.9 461.4C237.9 463.4 235.6 465 232.7 465C229.4 465.3 227.1 463.7 227.1 461.4C227.1 459.4 229.4 457.8 232.3 457.8C235.3 457.5 237.9 459.1 237.9 461.4zM206.8 456.9C206.1 458.9 208.1 461.2 211.1 461.8C213.7 462.8 216.7 461.8 217.3 459.8C217.9 457.8 216 455.5 213 454.6C210.4 453.9 207.5 454.9 206.8 456.9zM251 455.2C248.1 455.9 246.1 457.8 246.4 460.1C246.7 462.1 249.3 463.4 252.3 462.7C255.2 462 257.2 460.1 256.9 458.1C256.6 456.2 253.9 454.9 251 455.2zM316.8 72C178.1 72 72 177.3 72 316C72 426.9 141.8 521.8 241.5 555.2C254.3 557.5 258.8 549.6 258.8 543.1C258.8 536.9 258.5 502.7 258.5 481.7C258.5 481.7 188.5 496.7 173.8 451.9C173.8 451.9 162.4 422.8 146 415.3C146 415.3 123.1 399.6 147.6 399.9C147.6 399.9 172.5 401.9 186.2 425.7C208.1 464.3 244.8 453.2 259.1 446.6C261.4 430.6 267.9 419.5 275.1 412.9C219.2 406.7 162.8 398.6 162.8 302.4C162.8 274.9 170.4 261.1 186.4 243.5C183.8 237 175.3 210.2 189 175.6C209.9 169.1 258 202.6 258 202.6C278 197 299.5 194.1 320.8 194.1C342.1 194.1 363.6 197 383.6 202.6C383.6 202.6 431.7 169 452.6 175.6C466.3 210.3 457.8 237 455.2 243.5C471.2 261.2 481 275 481 302.4C481 398.9 422.1 406.6 366.2 412.9C375.4 420.8 383.2 435.8 383.2 459.3C383.2 493 382.9 534.7 382.9 542.9C382.9 549.4 387.5 557.3 400.2 555C500.2 521.8 568 426.9 568 316C568 177.3 455.5 72 316.8 72zM169.2 416.9C167.9 417.9 168.2 420.2 169.9 422.1C171.5 423.7 173.8 424.4 175.1 423.1C176.4 422.1 176.1 419.8 174.4 417.9C172.8 416.3 170.5 415.6 169.2 416.9zM158.4 408.8C157.7 410.1 158.7 411.7 160.7 412.7C162.3 413.7 164.3 413.4 165 412C165.7 410.7 164.7 409.1 162.7 408.1C160.7 407.5 159.1 407.8 158.4 408.8zM190.8 444.4C189.2 445.7 189.8 448.7 192.1 450.6C194.4 452.9 197.3 453.2 198.6 451.6C199.9 450.3 199.3 447.3 197.3 445.4C195.1 443.1 192.1 442.8 190.8 444.4zM179.4 429.7C177.8 430.7 177.8 433.3 179.4 435.6C181 437.9 183.7 438.9 185 437.9C186.6 436.6 186.6 434 185 431.7C183.6 429.4 181 428.4 179.4 429.7z"]],template:function(s,n){1&s&&(e.j41(0,"div",0),e.nVh(1,H,3,1,"a",1)(2,F,1,0,"div"),e.nVh(3,I,3,1,"a",2)(4,S,1,0,"div"),e.nVh(5,W,3,1,"a",3)(6,G,1,0,"div"),e.nVh(7,j,3,1,"a",4)(8,U,1,0,"div"),e.k0s()),2&s&&(e.R7$(),e.vxM(n.mainLink?1:2),e.R7$(2),e.vxM(n.docsLink?3:4),e.R7$(2),e.vxM(n.demosLink?5:6),e.R7$(2),e.vxM(n.sourceCodeLink?7:8))},dependencies:[_.m_,_.An,f.Hl,w.M],styles:[".small-icon-button[_ngcontent-%COMP%]{width:24px;height:24px;line-height:24px;padding:0;display:inline-flex;align-items:center;justify-content:center}.small-icon-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .small-icon-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{font-size:20px;width:20px;height:20px;line-height:20px;display:flex;align-items:center;justify-content:center}.grid-container[_ngcontent-%COMP%]{margin-top:15px;display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:4px}"]})}return o})();var K=a(58857);function N(o,x){1&o&&(e.j41(0,"p"),e.EFF(1," Create an extension by placing an "),e.j41(2,"code"),e.EFF(3,"extension.json"),e.k0s(),e.EFF(4," file in the "),e.j41(5,"code"),e.EFF(6,"app/extensions"),e.k0s(),e.EFF(7," folder. "),e.k0s())}function V(o,x){if(1&o&&e.nrm(0,"ag-grid-angular",2),2&o){const t=e.XpG();e.Y8G("rowData",t.extensions())("gridOptions",t.gridOptions)}}let Q=(()=>{class o{constructor(){this.extensionsSvc=(0,b.d)(k.h),this.router=(0,m.WQX)(D.Ix),this.#e=(0,b.d)(l.c),this.dialog=(0,b.d)(h.h),this.entitySvc=(0,b.d)(p.Tr),this.refresh=(0,m.vPA)(0),this.#t=this.extensionsSvc.getAllLive(this.refresh).value,this.extensions=(0,r.EW)(()=>this.#t()?.extensions??[]),this.#n=null,this.gridOptions={...v.C,rowHeight:80,columnDefs:this.#c()},this.#a={empty:{description:"<p><b>App Extensions</b><br>Install extensions to add extra functionality or input types to apps.</p>",hint:"<p>Create an extension by placing an <code>extension.json</code> file in the <code>app/extensions</code> folder.</p>"},content:{description:"<p><b>App Extensions</b><br>Installed extensions are shown here.</p>",hint:"<p>Use the Upload button to add an extension folder.</p>"}},this.uxHelpText=(0,r.EW)(()=>0===this.extensions()?.length?this.#a.empty:this.#a.content)}#e;#t;#n;ngOnInit(){this.#e.doOnDialogClosedWithData(t=>{if(t?.objData&&this.#n){const s=this.#n;this.#n=null,this.extensionsSvc.updateConfiguration(s,JSON.stringify(t.objData)).subscribe(()=>{this.fetchExtensions()})}else this.fetchExtensions()})}#o(t){const n=[{...t?.configuration??{}}],u=this.#r("a0f44af0-6750-40c9-9ad9-4a07b6eda8b3"),X=this.#i(`edit/${u}`).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.#n=t?.folder??null,this.router.navigate(X,{state:{returnValue:!0,overrideContents:n}})}#s(t){t&&this.entitySvc.getEntities$((0,A.of)({contentTypeName:t})).subscribe(s=>{const n=s?s[0].Id:this.#r(t),z=this.#i(`edit/${n}`).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.router.navigate(z,{state:{returnValue:!0}})})}#l(t){const u=this.#i("inspect/"+t).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.router.navigate(u,{state:{returnValue:!0}})}#d(t){const u=this.#i("delete/"+t).replace(/^#\/?/,"").replace(/^\//,"").split("/").filter(Boolean);this.router.navigate(u,{state:{returnValue:!0}})}filesDropped(t){this.dialog.open(R.ImportExtensionComponent,{data:{file:t[0],allowedFileTypes:"zip",multiple:!0,title:"Import Extension",description:"Select Extension folder from your computer to import.",upload$:n=>this.extensionsSvc.uploadExtensions(n)}}).afterClosed().pipe((0,M.s)(1)).subscribe(n=>{n&&this.fetchExtensions()})}fetchExtensions(){this.refresh.update(t=>++t)}urlToUploadExtension(){return this.#i("import")}#i(t){return`#${this.#e.urlSubRoute(t)}`}#r(t){return(0,d.s)({items:[E.c.newFromType(t)]})}#a;cellTextRenderer(t,s,n){return`\n      <div style="display: flex; flex-direction: column;">\n        <span title="${t}" style="font-weight:bold; white-space: nowrap; width: ${n??"100%"}; overflow: hidden; text-overflow: ellipsis;">${t}</span>\n        <span title="${s}" style="margin-top: -15px; white-space: nowrap; width: ${n??"100%"}; overflow: hidden; text-overflow: ellipsis;">\n          ${s??""}\n        </span>\n      </div>\n    `}#c(){return[{headerName:"Extension",field:"folder",flex:1,sortable:!0,sort:"asc",filter:"agTextColumnFilter",cellRenderer:t=>this.cellTextRenderer(t.data?.folder??"",(t.data?.configuration?.nameId??"").toString())},{headerName:"Name",field:"configuration.name",sortable:!0,filter:"agTextColumnFilter",flex:1,cellRenderer:t=>this.cellTextRenderer(t.data?.configuration?.name??"",t.data?.configuration?.teaser??"")},{headerName:"Creator",field:"configuration.createdBy",maxWidth:175,sortable:!0,filter:"agTextColumnFilter",cellRenderer:t=>this.cellTextRenderer(t.data?.configuration?.createdBy??"",t.data?.configuration?.copyright??"","150px")},{headerName:"Links",sortable:!1,field:"configuration.link",width:125,cellRenderer:$,cellRendererParams:t=>({mainLink:t.data?.configuration?.linkMain??void 0,docsLink:t.data?.configuration?.linkDocs??void 0,demosLink:t.data?.configuration?.linkDemo??void 0,sourceCodeLink:t.data?.configuration?.linkSource??void 0})},{headerName:"Actions",width:150,pinned:"right",cellRenderer:P,cellRendererParams:{urlTo:(s,n)=>"#"+this.#i(n.folder),do:(s,n)=>{switch(s){case"edit":this.#o(n);break;case"download":this.extensionsSvc.downloadExtension(n.folder);break;case"delete":this.#d(n.folder);break;case"inspect":this.#l(n.folder);break;case"openSettings":this.#s(n.configuration?.settingsContentType);break;case"openResources":this.#s(n.configuration?.resourcesContentType)}}}}]}static#g=this.\u0275fac=function(s){return new(s||o)};static#p=this.\u0275cmp=e.VBU({type:o,selectors:[["app-extensions"]],decls:12,vars:6,consts:[["appDragAndDrop","",1,"container",3,"filesDropped","allowedFileTypes"],[3,"helpText","refresh","rowLength"],[1,"ag-theme-material",3,"rowData","gridOptions"],[1,"eav-dialog-actions"],[3,"href"],["mat-button","","tippy","Upload Extension ZIP","tippyPlacement","top",1,"eav-button__with-icon"],[1,"eav-icon"]],template:function(s,n){if(1&s&&(e.j41(0,"div",0),e.bIt("filesDropped",function(B){return n.filesDropped(B)}),e.j41(1,"app-grid-with-help",1),e.nVh(2,N,8,0,"p")(3,V,1,2,"ag-grid-angular",2),e.j41(4,"mat-dialog-actions",3)(5,"a",4)(6,"button",5)(7,"mat-icon",6),e.EFF(8,"upload"),e.k0s(),e.j41(9,"span"),e.EFF(10,"Upload"),e.k0s()()()()(),e.nrm(11,"router-outlet"),e.k0s()),2&s){let u;e.Y8G("allowedFileTypes","zip"),e.R7$(),e.Y8G("helpText",n.uxHelpText())("refresh",n.refresh())("rowLength",null==(u=n.extensions())?null:u.length),e.R7$(),e.vxM(0===n.extensions().length?2:3),e.R7$(3),e.Y8G("href",n.urlToUploadExtension(),e.B4B)}},dependencies:[C.MD,_.m_,_.An,h.M,D.n3,f.Hl,f.$z,i.p,K.xs,g.S,T.v,c.e],styles:["[_nghost-%COMP%]     .ag-row-hover .ag-cell a{color:#85283b!important}.container[_ngcontent-%COMP%]{height:100%}"]})}return o})()},68163:(O,y,a)=>{a.d(y,{v:()=>M});var C=a(58857),m=a(37580),r=a(99293),f=a(64173),h=a(81863);const _=["gridWrapper"],D=[[["","eav-dialog-header",""]],[["","eav-dialog-content",""]],[["ag-grid-angular"]],[["mat-dialog-actions"]]],A=["[eav-dialog-header]","[eav-dialog-content]","ag-grid-angular","mat-dialog-actions"];let M=(()=>{class b{constructor(){this.gridWrapper=(0,m.ebz)("gridWrapper",{read:r.aKT}),this.agGrid=(0,m.sbv)(C.xs,{read:r.aKT}),this.dialogAction=(0,m.sbv)(h.M,{read:r.aKT}),this.helpText=m.hFB.required({}),this.refresh=m.hFB.required(),this.rowLength=m.hFB.required(),this.DEFAULT_ROW_HEIGHT=47,this.GRID_HEADER_HEIGHT=64,this.HELP_CARD_BUFFER=12,(0,f.QZ)(()=>{this.refresh();const g=this.rowLength(),c=this.gridWrapper()?.nativeElement;c&&(0,f.O8)(()=>this.#e(c,g))})}#e(v,g){const c=this.agGrid()?.nativeElement,d=this.dialogAction()?.nativeElement,E=v.querySelector(".help-info-card");setTimeout(()=>{if(E.classList.toggle("center-center",0===g),!c||!d)return;E.style.flex="";const i=this.#t(v,c,d,E,g);c.style.flex=i.rowHeight?`0 0 ${i.agGridHeight}px`:"0px";const l=document.querySelector(".mat-sidenav-content"),p=document.querySelector(".mat-mdc-dialog-container"),L=(document.querySelector(".nav-component-wrapper")?p:l).clientHeight-i.dialogHeaderHeight-i.dialogActionHeight-2;c.style.maxHeight=`${L}px`;const e=i.helpCardHeight+i.agGridHeight+i.dialogActionHeight+i.dialogHeaderHeight>i.wrapperHeight;E.style.flex="1 1 auto",E?.classList.toggle("hidden-help-info-card",e)},0)}#t(v,g,c,d,E){const i=g.querySelector(".ag-row")?.clientHeight??this.DEFAULT_ROW_HEIGHT;return{rowHeight:i,agGridHeight:this.GRID_HEADER_HEIGHT+E*i,helpCardHeight:d.clientHeight+this.HELP_CARD_BUFFER,dialogActionHeight:c.offsetHeight,dialogHeaderHeight:v.querySelector(".eav-dialog-header")?.clientHeight??0,wrapperHeight:v.offsetHeight}}static#n=this.\u0275fac=function(g){return new(g||b)};static#o=this.\u0275cmp=r.VBU({type:b,selectors:[["app-grid-with-help"]],contentQueries:function(g,c,d){1&g&&(r.C6U(d,c.agGrid,C.xs,5,r.aKT),r.C6U(d,c.dialogAction,h.M,5,r.aKT)),2&g&&r.NyB(2)},viewQuery:function(g,c){1&g&&r.wEZ(c.gridWrapper,_,5,r.aKT),2&g&&r.NyB()},inputs:{helpText:[1,"helpText"],refresh:[1,"refresh"],rowLength:[1,"rowLength"]},ngContentSelectors:A,decls:10,vars:2,consts:[["gridWrapper",""],[1,"grid-wrapper-dynamic"],[1,"help-info-card"],[1,"help-info-card-text"],[3,"innerHTML"]],template:function(g,c){1&g&&(r.NAR(D),r.j41(0,"div",1,0),r.SdG(2),r.SdG(3,1),r.SdG(4,2),r.j41(5,"div",2)(6,"div",3),r.nrm(7,"span",4)(8,"span",4),r.k0s()(),r.SdG(9,3),r.k0s()),2&g&&(r.R7$(7),r.Y8G("innerHTML",c.helpText().description,r.npT),r.R7$(),r.Y8G("innerHTML",c.helpText().hint,r.npT))},styles:[".grid-wrapper-dynamic[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .ag-theme-material.grid-dynamic{flex-shrink:0;flex-grow:0}.grid-wrapper-dynamic[_ngcontent-%COMP%]     .hidden-help-info-card{visibility:hidden!important;position:absolute!important}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions{flex-shrink:0;margin-top:auto}.grid-wrapper-dynamic[_ngcontent-%COMP%]     mat-dialog-actions .eav-scope-dropdown{margin-top:-14px;width:350px}.help-info-card[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.help-info-card[_ngcontent-%COMP%]   .help-info-card-text[_ngcontent-%COMP%]{text-align:center;color:gray;width:30vw;max-width:400px;min-width:180px}.center-center[_ngcontent-%COMP%]{flex:1 1 auto}"]})}return b})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-extensions_app-extensions_ts.49b08d03d2765736.js.map