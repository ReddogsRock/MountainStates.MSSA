"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_ts"],{86663:(J,g,e)=>{e.r(g),e.d(g,{AppAdminMain:()=>W});var p=e(44444),b=e(84175),u=e(93840),h=e(41134),l=e(17049),v=e(39552),M=e(29658),f=e(93493),A=e(12938),C=e(31808),y=e(95699),_=e(71477),S=e(34435),O=e(46666),P=e(60852),D=e(64699),c=e(10261),I=e(50052),j=e(97214),d=e(85898);const E=[{name:"App Info",path:"home",icon:"info",tippy:"App Info"},{name:"Data",path:`data/${I.YX.scopes.default.value}`,icon:"menu",tippy:"Data / Content",child:[{...d.u.routeDefinition("data"),tippy:"Autogenerate content types "},{...c.N.routeDataDefinition,tippy:"Rest-Api Data "}]},{name:"Queries",path:"queries",icon:"filter_list",tippy:"Queries / Visual Query Designer",child:[{...c.N.routeQueryDefinition,tippy:"Rest-Api Queries"}]},{name:"Views",path:"views",icon:"layers",tippy:"Views / Templates",child:[{...d.u.routeDefinition("views"),tippy:"Autogenerate Razor Views"}]},{name:"App Extensions (beta)",path:"extensions",icon:"extension",tippy:"App Extensions (beta)"},{name:"Web API",path:"web-api",icon:"offline_bolt",tippy:"WebApi",child:[{...d.u.routeDefinition("web-api"),tippy:j.r.webApi.teaser},{...c.N.routeWebApiDefinition,tippy:"Rest-Api Queries"}]},{name:"App",path:"app",icon:"settings_applications",tippy:"App Settings"},{name:"Import/Export",path:"import-export",icon:"cloud_sync",tippy:"Import Export",child:[{name:"Export App",path:"export-app",icon:"deployed_code_update",tippy:"Export this entire App"},{name:"Data Bundles (beta)",path:"data-bundles",icon:"dataset",tippy:"Data Bundles"},{name:"Export Parts",path:"export-parts",icon:"cloud_download",tippy:"Export parts of this App"},{name:"Import Parts",path:"import-parts",icon:"cloud_upload",tippy:"Import parts of this App"},{name:"App-State Git Sync",path:"app-state",icon:"sync",tippy:"App-State Versioning"}]}];var t=e(99293),F=e(81863),T=e(82195),V=e(8923);const G=["sidenav"],R=(n,s)=>s.path;function N(n,s){if(1&n){const i=t.RV6();t.j41(0,"img",16),t.bIt("click",function(){p.eBV(i),t.XpG();const a=t.sdS(22);return p.Njj(a.opened=!a.opened)}),t.k0s()}if(2&n){let i;const o=t.XpG();t.Y8G("src",(null==(i=o.dialogSettings())?null:i.Context.App.Icon)+"?w=40&h=40&mode=crop",t.B4B)}}function $(n,s){if(1&n){const i=t.RV6();t.j41(0,"mat-icon",17),t.bIt("click",function(){p.eBV(i),t.XpG();const a=t.sdS(22);return p.Njj(a.opened=!a.opened)}),t.EFF(1,"menu"),t.k0s()}}function Q(n,s){1&n&&t.EFF(0," Global ")}function k(n,s){if(1&n&&t.EFF(0),2&n){let i;const o=t.XpG();t.SpI(" ",null==(i=o.dialogSettings())?null:i.Context.App.Name," ")}}function B(n,s){if(1&n&&(t.j41(0,"mat-icon",18),t.EFF(1,"chevron_right"),t.k0s(),t.EFF(2)),2&n){const i=t.XpG().$implicit;t.R7$(2),t.SpI(" ",i," ")}}function L(n,s){if(1&n&&(t.qex(0),t.nVh(1,B,3,1),t.bVm()),2&n){const i=s.last;t.R7$(),t.vxM(i?1:-1)}}function X(n,s){}function Y(n,s){1&n&&t.nrm(0,"app-nav-item-list",13),2&n&&t.Y8G("navItem",s.$implicit)}function z(n,s){1&n&&(t.j41(0,"div",15),t.nrm(1,"mat-spinner"),t.k0s())}function U(n,s){1&n&&t.nrm(0,"router-outlet")}let W=(()=>{class n{#t;#n;constructor(i,o){this.dialog=i,this.media=o,this.log=(0,S.Tq)({AppAdminMain:n}),this.isLoading=(0,p.vPA)(!0),this.#t=(0,A.d)(D.L),this.#n=(0,A.d)(P.c),this.AppScopes=O.F,this.dialogSettings=(0,p.vPA)(void 0),this.smallScreen=this.media.matchMedia("(max-width: 1000px)"),this.sideNavOpened=!this.smallScreen.matches,this.navItems=E,this.log.a("constructor")}ngOnInit(){this.fetchDialogSettings(),this.#n.doOnDialogClosed(()=>this.fetchDialogSettings()),this.smallScreen.addEventListener("change",i=>(this.sidenav.opened=!i.matches,this.sidenav.mode=i.matches?"over":"side"))}closeDialog(){this.dialog.close()}fetchDialogSettings(){this.isLoading.set(!0),this.#t.getCurrent$().subscribe({next:i=>{(0,_.g)(i.Context.App),this.dialogSettings.set(i),i.Context.Enable.Query||(this.navItems=this.navItems.filter(o=>"Queries"!==o.name&&"Web API"!==o.name)),this.isLoading.set(!1)},error:i=>{console.error("fetchDialogSettings error",i),this.isLoading.set(!1)}})}static#i=this.\u0275fac=function(o){return new(o||n)(t.rXU(F.k),t.rXU(T.M))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-app-admin-main"]],viewQuery:function(o,a){if(1&o&&t.GBs(G,5),2&o){let r;t.mGM(r=t.lsd())&&(a.sidenav=r.first)}},decls:31,vars:7,consts:[["emptyTemplate",""],["sidenav",""],["appToggleDebug",""],[1,"toolbar-container"],[3,"src"],[1,"menu-container"],[1,"d-flex"],[1,"mat-icon-admin"],[3,"separator"],[4,"xngBreadcrumbItem"],[1,"toolbar-spacer"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"mode","opened"],[3,"navItem"],[1,"sideNav-bottom-info"],[1,"lading-indicator"],[3,"click","src"],[1,"menu-container",3,"click"],[1,"breadcrumb-icon"]],template:function(o,a){if(1&o){const r=t.RV6();t.j41(0,"mat-toolbar",2)(1,"div",3),t.nVh(2,N,1,1,"img",4)(3,$,2,0,"mat-icon",5),t.j41(4,"div",6),t.nVh(5,Q,1,0),t.nVh(6,k,1,1),t.j41(7,"span")(8,"span",7)(9,"mat-icon"),t.EFF(10,"settings"),t.k0s()(),t.EFF(11," Admin "),t.k0s()(),t.j41(12,"xng-breadcrumb",8),t.DNE(13,L,2,1,"ng-container",9),t.k0s(),t.DNE(14,X,0,0,"ng-template",null,0,t.C5r),t.k0s(),t.nrm(16,"span",10),t.j41(17,"button",11),t.bIt("click",function(){return p.eBV(r),p.Njj(a.closeDialog())}),t.j41(18,"mat-icon"),t.EFF(19,"close"),t.k0s()()(),t.j41(20,"mat-sidenav-container",2)(21,"mat-sidenav",12,1),t.Z7z(23,Y,1,1,"app-nav-item-list",13,R),t.j41(25,"div",14)(26,"p"),t.EFF(27,"use App logo to show/hide menu"),t.k0s()()(),t.j41(28,"mat-sidenav-content"),t.nVh(29,z,2,0,"div",15)(30,U,1,0,"router-outlet"),t.k0s()()}if(2&o){let r,m,x;const H=t.sdS(15);t.R7$(2),t.vxM(null!=(r=a.dialogSettings())&&r.Context.App.Icon?2:3),t.R7$(3),t.vxM((null==(m=a.dialogSettings())?null:m.Context.App.SettingsScope)===a.AppScopes.Global?5:-1),t.R7$(),t.vxM((null==(x=a.dialogSettings())?null:x.Context.App.SettingsScope)!==a.AppScopes.Global?6:-1),t.R7$(6),t.Y8G("separator",H),t.R7$(9),t.Y8G("mode",a.smallScreen.matches?"over":"side")("opened",a.sideNavOpened),t.R7$(2),t.Dyx(a.navItems),t.R7$(6),t.vxM(a.isLoading()?29:30)}},dependencies:[v.s5,v.KQ,u.m_,u.An,f.Dg,f._Y,b.Hl,V.M,l.vg,l.LG,l.US,l.El,M.n3,C.a,y.V,h.D6,h.LG],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#fff;border-bottom:1px solid rgba(0,0,0,.1);position:sticky;top:0;z-index:10;flex:1 0 74px}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]{display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   .menu-container[_ngcontent-%COMP%]{margin-right:16px;cursor:pointer}mat-toolbar[_ngcontent-%COMP%]   .toolbar-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border:1px solid rgba(0,0,0,.2);border-radius:16px 0;margin-right:16px;-webkit-user-select:none;user-select:none;text-shadow:none;cursor:pointer;display:flex;align-items:center}mat-toolbar[_ngcontent-%COMP%]   .toolbar-spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-toolbar[_ngcontent-%COMP%]   .mat-icon-admin[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;height:16px;width:16px}mat-sidenav-container[_ngcontent-%COMP%]{height:100vh}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]{width:295px;border-right:1px solid rgba(0,0,0,.1)}mat-sidenav-container[_ngcontent-%COMP%]   mat-sidenav[_ngcontent-%COMP%]   .sideNav-bottom-info[_ngcontent-%COMP%]{background:#fff;position:absolute;bottom:0;text-align:center;width:100%;font-size:12px}.container-content[_ngcontent-%COMP%]{height:100%}.active[_ngcontent-%COMP%]{background-color:#8080801a}  .xng-breadcrumb-separator{margin-left:0!important;margin-right:0!important}  .mat-drawer-container{background-color:transparent!important}.lading-indicator[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;justify-content:center;align-items:center}"]})}return n})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/projects_eav-ui_src_app_app-administration_app-admin-main_app-admin-main_ts.6f2038582d3d097b.js.map