"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts"],{3140:(x,F,s)=>{s.d(F,{J:()=>l});var T=s(27092),C=s(99293);let l=(()=>{class d{constructor(){this.subscriptions=new T.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||d)};static#t=this.\u0275dir=C.FsC({type:d})}return d})()},8112:(x,F,s)=>{s.d(F,{jj:()=>_t,G1:()=>$,HL:()=>G});var T=s(87945),C=s(37580),l=s(44444),d=s(34456),c=s(84175),y=s(81863),f=s(93840),U=s(59791),M=s(41134),r=s(53804),g=s(18537),m=s(51567),_=s(70271),D=s(98764),a=s(36647),u=s(61318),h=s(59452),P=s(64334),A=s(12938),B=s(83583),I=s(34575),b=s(69914),j=s(68873),k=s(12987),S=s(47215);let W=(()=>{class o{constructor(e){this.http=e}installPackages(e,n){return e.reduce((i,v)=>i.pipe((0,a.n)(()=>v.url?(n(v),this.http.post(`sys/install/RemotePackage?packageUrl=${v.url}`,{})):(0,h.of)(!0))),(0,h.of)(!0))}static#e=this.\u0275fac=function(n){return new(n||o)(l.KVO(S.Qq))};static#t=this.\u0275prov=l.jDH({token:o,factory:o.\u0275fac})}return o})();var X=s(43176),V=function(o){return o.importOriginal="importOriginal",o.importAsTemplate="importAsTemplate",o}(V||{});const $={Warning:0,Success:1,Error:2},G={App:0,AppPart:1,ContentType:2,ContentItem:3,Query:4,View:5,ImportParts:6,Extension:7};var t=s(99293),w=s(3347),K=s(80436),z=s(8923),L=s(87698);const N=["installerWindow"],H=(o,p)=>({"outer-container-app":o,"eav-dialog-content":p}),Y=(o,p,e)=>({"sxc-message-warning":o,"sxc-message-success":p,"sxc-message-error":e});function J(o,p){if(1&o){const e=t.RV6();t.j41(0,"div",3),t.nrm(1,"div",12),t.nI1(2,"safeHtml"),t.j41(3,"button",13),t.bIt("click",function(){l.eBV(e);const i=t.XpG();return l.Njj(i.closeDialog())}),t.j41(4,"mat-icon"),t.EFF(5,"close"),t.k0s()()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("innerHtml",t.bMT(2,1,e.dialogData.title),t.npT)}}function Q(o,p){if(1&o&&(t.nrm(0,"h3",5),t.nI1(1,"safeHtml")),2&o){const e=t.XpG();t.Y8G("innerHtml",t.bMT(1,1,e.dialogData.title),t.npT)}}function Z(o,p){1&o&&t.nrm(0,"mat-spinner",6)}function q(o,p){1&o&&(t.j41(0,"span"),t.EFF(1,"The app will be imported as is, using the original name and folder."),t.k0s(),t.j41(2,"span"),t.EFF(3,"If you already have the same app installed, it will prevent you from overwriting it."),t.k0s())}function tt(o,p){1&o&&(t.j41(0,"span"),t.EFF(1,"The app will be imported using a new name / folder."),t.k0s(),t.j41(2,"span"),t.EFF(3," This allows you to create multiple isolated copies of the same app or to create something very different using this app as a template. "),t.k0s(),t.nrm(4,"br"),t.j41(5,"mat-form-field",17)(6,"mat-label"),t.EFF(7,"Name"),t.k0s(),t.nrm(8,"input",18),t.k0s())}function et(o,p){if(1&o&&(t.j41(0,"form",14)(1,"mat-radio-group",15)(2,"mat-radio-button",16),t.EFF(3,"Import App(s)"),t.k0s(),t.j41(4,"mat-radio-button",16),t.EFF(5,"Import and Rename / Reset"),t.k0s()(),t.nrm(6,"br"),t.nVh(7,q,4,0)(8,tt,9,0),t.k0s(),t.nrm(9,"br")),2&o){let e;const n=t.XpG();t.Y8G("formGroup",n.importForm),t.R7$(2),t.Y8G("value",n.importModeValues.importOriginal),t.R7$(2),t.Y8G("value",n.importModeValues.importAsTemplate),t.R7$(3),t.vxM((null==(e=n.importForm.get("importMode"))?null:e.value)===n.importModeValues.importOriginal?7:(null==(e=n.importForm.get("importMode"))?null:e.value)===n.importModeValues.importAsTemplate?8:-1)}}function ot(o,p){1&o&&(t.j41(0,"div"),t.EFF(1,"Select or drop file"),t.k0s())}function st(o,p){if(1&o&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&o){const e=p.$implicit;t.R7$(),t.JRh(e.name)}}function it(o,p){if(1&o){const e=t.RV6();t.j41(0,"button",19),t.bIt("click",function(){l.eBV(e);const i=t.XpG();return l.Njj(i.toggleShowAppCatalog())}),t.EFF(1," Get recommended Apps from Catalog "),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("disabled",e.uploading()||e.importForm.invalid)}}function nt(o,p){if(1&o){const e=t.RV6();t.j41(0,"button",20),t.bIt("click",function(){l.eBV(e);const i=t.XpG();return l.Njj(i.upload())}),t.EFF(1," Upload "),t.k0s()}if(2&o){const e=t.XpG();t.Y8G("disabled",!e.files().length||e.uploading()||!!e.result()||e.importForm.invalid)}}function at(o,p){if(1&o){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){l.eBV(e);const i=t.XpG(3);return l.Njj(i.closeDialog(!0))}),t.EFF(1,"Close"),t.k0s()}}function lt(o,p){if(1&o){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){l.eBV(e);const i=t.XpG(3);return l.Njj(i.cleanUpload())}),t.EFF(1,"Clean"),t.k0s()}}function rt(o,p){if(1&o&&(t.j41(0,"div",21),t.EFF(1," Upload succeeded. See the messages below for more information. "),t.nVh(2,at,2,0,"a",24)(3,lt,2,0,"a",24),t.k0s()),2&o){const e=t.XpG(2);t.R7$(2),t.vxM(e.uploadType()!=e.UploadTypes.ImportParts?2:3)}}function pt(o,p){if(1&o){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){l.eBV(e);const i=t.XpG(3);return l.Njj(i.closeDialog(!0))}),t.EFF(1,"Close"),t.k0s()}}function dt(o,p){if(1&o){const e=t.RV6();t.j41(0,"a",25),t.bIt("click",function(){l.eBV(e);const i=t.XpG(3);return l.Njj(i.cleanUpload())}),t.EFF(1,"Clean"),t.k0s()}}function ct(o,p){if(1&o&&(t.j41(0,"div",22),t.EFF(1," Upload failed. See the messages below for more information. "),t.nVh(2,pt,2,0,"a",24)(3,dt,2,0,"a",24),t.k0s()),2&o){const e=t.XpG(2);t.R7$(2),t.vxM(e.uploadType()!=e.UploadTypes.ImportParts?2:3)}}function mt(o,p){if(1&o&&(t.j41(0,"div",23),t.EFF(1),t.k0s()),2&o){const e=p.$implicit,n=t.XpG(2);t.Y8G("ngClass",t.sMw(2,Y,e.MessageType===n.FileUploadMessageTypes.Warning,e.MessageType===n.FileUploadMessageTypes.Success,e.MessageType===n.FileUploadMessageTypes.Error)),t.R7$(),t.SpI(" ",e.Text," ")}}function ut(o,p){if(1&o&&(t.j41(0,"div",11),t.nVh(1,rt,4,1,"div",21),t.nVh(2,ct,4,1,"div",22),t.Z7z(3,mt,2,6,"div",23,t.fX1),t.k0s()),2&o){const e=t.XpG();t.R7$(),t.vxM(e.result().Success?1:-1),t.R7$(),t.vxM(e.result().Success?-1:2),t.R7$(),t.Dyx(e.result().Messages)}}function ht(o,p){if(1&o&&t.nrm(0,"iframe",26,1),2&o){const e=t.XpG(2);t.Y8G("src",e.remoteInstallerUrl,t.f$h)}}function gt(o,p){if(1&o&&(t.j41(0,"div",27),t.nrm(1,"mat-progress-spinner",28),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&o){const e=t.XpG(2);t.R7$(),t.Y8G("mode","indeterminate"),t.R7$(2),t.SpI("Installing ",null==e.currentPackage?null:e.currentPackage.displayName,"..")}}function ft(o,p){if(1&o&&(t.nVh(0,ht,2,1,"iframe",26),t.nVh(1,gt,4,2,"div",27)),2&o){const e=t.XpG();t.vxM(e.ready?0:-1),t.R7$(),t.vxM(e.showProgress?1:-1)}}let _t=(()=>{class o extends X.${#e;#t;#i;#n;constructor(e,n,i,v,R,O){super(),this.dialogData=e,this.dialog=n,this.snackBar=i,this.sanitizer=v,this.context=R,this.changeDetectorRef=O,this.hostClass="dialog-component",this.uploadType=(0,C.hFB)(),this.uploading=(0,l.vPA)(!1),this.showAppCatalog=(0,l.vPA)(!1),this.result=(0,l.vPA)(void 0),this.files=(0,l.vPA)([]),this.FileUploadMessageTypes=$,this.UploadTypes=G,this.importModeValues=V,this.showProgress=!1,this.remoteInstallerUrl="",this.urlChangeImportMode="",this.ready=!1,this.#e=(0,A.d)(W),this.#t=(0,A.d)(k.n),this.#i=(0,A.d)(B.U),this.#n=(0,l.WQX)(d.ok),this.importForm=this.#n.group({importMode:[this.importModeValues.importOriginal,d.k0.required],name:[""]}),this.#o=!1,this.#s=(0,g.R)(window,"message").pipe((0,m.p)(()=>!this.#o),(0,m.p)(E=>"https://2sxc.org"===E.origin),(0,_.T)(E=>{try{return JSON.parse(E.data)}catch(vt){return void console.error("error procesing message. Message was "+E.data,vt)}}),(0,m.p)(E=>E&&Number(E.moduleId)===this.context.moduleId)),this.subscriptions.add(this.#t.settings$.subscribe(E=>{this.settings=E,this.urlChangeImportMode=E.remoteUrl,this.remoteInstallerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(E.remoteUrl),this.ready=!0})),this.#l()}#o;#s;ngOnInit(){this.importForm.get("importMode")?.valueChanges.subscribe(e=>{const n=e===this.importModeValues.importAsTemplate,i=this.urlChangeImportMode+(this.urlChangeImportMode.includes("?")?"&":"?")+`selectOnlyMode=${n}`;this.remoteInstallerUrl=this.sanitizer.bypassSecurityTrustResourceUrl(i)}),null!=this.dialogData.files&&this.filesDropped(this.dialogData.files),this.#t.loadGettingStarted(!1),this.subscriptions.add(this.#s.pipe((0,m.p)(e=>"specs"===e.action),(0,D.M)(()=>{const e=this.installerWindow.nativeElement,n={action:"specs",data:{installedApps:this.settings.installedApps,rules:this.settings.installedApps.map(v=>({target:"guid",appGuid:v.guid,mode:"f",url:""}))}},i=JSON.stringify(n);e.contentWindow.postMessage(i,"*"),console.log("debug: just sent specs message:"+i,n,e)})).subscribe()),this.subscriptions.add(this.#s.pipe((0,m.p)(e=>"install"===e.action),(0,_.T)(e=>Object.values(e.packages)),(0,m.p)(e=>{const i=`Do you want to install these packages?\n\n${e.reduce((v,R)=>`${v} - ${R.displayName}\n`,"")}\nThis takes about 10 seconds per package. Don't reload the page while it's installing.`;return confirm(i)}),(0,a.n)(e=>(this.#o=!0,this.showProgress=!0,this.changeDetectorRef.detectChanges(),this.importForm.get("importMode")?.value===this.importModeValues.importAsTemplate?this.#i.createTemplate(e[0].url,this.importForm.get("name")?.value):this.#e.installPackages(e,n=>this.currentPackage=n))),(0,D.M)(()=>{this.showProgress=!1,this.changeDetectorRef.detectChanges(),alert("Installation complete \u{1f44d}"),window.top.location.reload(),this.closeDialog(!0)}),(0,u.W)(e=>(console.error("Error: ",e),this.showProgress=!1,this.#o=!1,this.changeDetectorRef.detectChanges(),alert(`An error occurred: Package ${this.currentPackage.displayName}\n\n${e.error?.Message??e.error?.message??""}\n\n${e.message}\n\nPlease try again later or check how to manually install content-templates: https://azing.org/2sxc/r/0O4OymoA`),(0,h.of)(e)))).subscribe())}ngOnDestroy(){super.ngOnDestroy()}closeDialog(e){this.dialog.close(e)}cleanUpload(){this.result.set(void 0),this.files.set([]),this.uploading.set(!1)}#l(){const e=this.importForm.get("name");this.importForm.get("importMode")?.valueChanges.subscribe(n=>{const i=n===this.importModeValues.importAsTemplate;e?.setValidators(i?[d.k0.required]:null),e?.updateValueAndValidity()})}filesDropped(e){this.#a(e)}filesChanged(e){const i=Array.from(e.target.files);this.#a(i)}upload(){this.uploading.set(!0);const e=this.importForm.get("name")?.value;this.subscriptions.add(this.dialogData.upload$(this.files(),e).pipe((0,P.s)(1)).subscribe({next:n=>{this.uploading.set(!1),this.result.set(n)},error:()=>{this.uploading.set(!1),this.result.set(void 0),this.snackBar.open("Upload failed. Please check console for more information",void 0,{duration:3e3})}}))}toggleShowAppCatalog(){this.showAppCatalog.set(!this.showAppCatalog())}#a(e){this.dialogData.multiple||(e=e.slice(0,1)),this.files.set(e)}static#r=this.\u0275fac=function(n){return new(n||o)(t.rXU(y.e),t.rXU(y.k),t.rXU(w.UG),t.rXU(K.up),t.rXU(j.o),t.rXU(C.gRc))};static#p=this.\u0275cmp=t.VBU({type:o,selectors:[["app-file-upload-dialog"]],viewQuery:function(n,i){if(1&n&&t.GBs(N,5),2&n){let v;t.mGM(v=t.lsd())&&(i.installerWindow=v.first)}},hostVars:1,hostBindings:function(n,i){2&n&&t.Avn("className",i.hostClass)},inputs:{uploadType:[1,"uploadType"]},features:[t.Vt3],decls:19,vars:18,consts:[["fileInput",""],["installerWindow",""],["appDragAndDrop","",1,"eav-dialog",2,"margin-bottom","12px",3,"filesDropped","allowedFileTypes"],[1,"eav-dialog-header"],[3,"ngClass"],[3,"innerHtml"],["mode","indeterminate","diameter","20"],["mat-raised-button","","tippy","Open file browser",3,"click","disabled"],["type","file","multiple","",1,"hide",3,"change"],["mat-raised-button","","tippy","Open app catalog",1,"eav-app-catalog-button","eav-action-button",3,"disabled"],["mat-raised-button","",1,"eav-action-button",2,"margin-left","12px",3,"disabled"],[1,"eav-result-container"],[1,"eav-dialog-header__title",3,"innerHtml"],["mat-icon-button","","tippy","Close dialog",3,"click"],[3,"formGroup"],["formControlName","importMode","aria-label","Select import mode"],[3,"value"],["color","accent",1,"eav-mat-form-field",2,"max-width","300px"],["matInput","","type","text","formControlName","name"],["mat-raised-button","","tippy","Open app catalog",1,"eav-app-catalog-button","eav-action-button",3,"click","disabled"],["mat-raised-button","",1,"eav-action-button",2,"margin-left","12px",3,"click","disabled"],[1,"sxc-message","sxc-message-info"],[1,"sxc-message","sxc-message-error"],[1,"sxc-message",3,"ngClass"],["href","javascript:void(0)"],["href","javascript:void(0)",3,"click"],[1,"eav-app-catalog-iframe",3,"src"],[1,"eav-progress"],[3,"mode"]],template:function(n,i){if(1&n){const v=t.RV6();t.j41(0,"div",2),t.bIt("filesDropped",function(O){return l.eBV(v),l.Njj(i.filesDropped(O))}),t.nVh(1,J,6,3,"div",3),t.j41(2,"div",4),t.nVh(3,Q,2,3,"h3",5),t.nVh(4,Z,1,0,"mat-spinner",6),t.nrm(5,"p",5),t.nI1(6,"safeHtml"),t.nVh(7,et,10,4),t.j41(8,"div")(9,"button",7),t.bIt("click",function(){l.eBV(v);const O=t.sdS(14);return l.Njj(O.click())}),t.nVh(10,ot,2,0,"div"),t.Z7z(11,st,2,1,"div",null,t.fX1),t.k0s(),t.j41(13,"input",8,0),t.bIt("change",function(O){return l.eBV(v),l.Njj(i.filesChanged(O))}),t.k0s(),t.nVh(15,it,2,1,"button",9),t.nVh(16,nt,2,1,"button",10),t.k0s(),t.nVh(17,ut,5,2,"div",11),t.nVh(18,ft,2,2),t.k0s()()}2&n&&(t.Y8G("allowedFileTypes",i.dialogData.allowedFileTypes),t.R7$(),t.vxM(i.uploadType()!=i.UploadTypes.ImportParts?1:-1),t.R7$(),t.Y8G("ngClass",t.l_i(15,H,i.uploadType()===i.UploadTypes.ImportParts,i.uploadType()!==i.UploadTypes.ImportParts)),t.R7$(),t.vxM(i.uploadType()==i.UploadTypes.ImportParts?3:-1),t.R7$(),t.vxM(i.uploading()?4:-1),t.R7$(),t.Y8G("innerHtml",t.bMT(6,13,i.dialogData.description),t.npT),t.R7$(2),t.vxM(i.uploadType()==i.UploadTypes.App?7:-1),t.R7$(2),t.Y8G("disabled",i.uploading()||i.importForm.invalid),t.R7$(),t.vxM(i.files().length?-1:10),t.R7$(),t.Dyx(i.files()),t.R7$(4),t.vxM(i.uploadType()!=i.UploadTypes.App||i.files().length?-1:15),t.R7$(),t.vxM(i.files().length?16:-1),t.R7$(),t.vxM(i.result()?17:-1),t.R7$(),t.vxM(i.uploadType()==i.UploadTypes.App&&i.showAppCatalog()&&!i.files().length&&i.importForm.valid?18:-1))},dependencies:[T.YU,y.l,M.D6,M.LG,b.$,I.S,c.Hl,c.$z,z.M,f.m_,f.An,r.Wk,r.VT,r._g,U.fS,U.fg,L.j,L.M,d.X1,d.qT,d.me,d.BC,d.cb,d.j4,d.JD],styles:["[_nghost-%COMP%]     .eav-dialog a{color:#465da3!important}.eav-result-container[_ngcontent-%COMP%]{margin-top:16px}.eav-app-catalog-button[_ngcontent-%COMP%]{margin-left:12px}.eav-app-catalog-iframe[_ngcontent-%COMP%]{margin-top:16px;width:100%;height:500px;border:none}.eav-progress[_ngcontent-%COMP%]{position:absolute;left:0;top:0;height:100%;width:100%;background:#fffc;display:flex;justify-content:center;flex-direction:column;text-align:center}.eav-progress[_ngcontent-%COMP%]   mat-progress-spinner[_ngcontent-%COMP%]{margin:0 auto}.eav-progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:48px}.outer-container-app[_ngcontent-%COMP%]{padding:0 24px}"]})}return o})()},12987:(x,F,s)=>{s.d(F,{n:()=>y});var T=s(70271),C=s(63037),l=s(84205),d=s(44444),c=s(47215);let y=(()=>{class f{constructor(M){this.http=M,this.installSettingsSubject=new l.B,this.settings$=this.installSettingsSubject.asObservable(),this.settings$.pipe((0,T.T)(()=>!0),(0,C.Z)(!1)).subscribe()}loadGettingStarted(M){this.http.get(`sys/install/InstallSettings?isContentApp=${M}`).subscribe(r=>this.installSettingsSubject.next(r))}static#e=this.\u0275fac=function(r){return new(r||f)(d.KVO(c.Qq))};static#t=this.\u0275prov=d.jDH({token:f,factory:f.\u0275fac})}return f})()},18537:(x,F,s)=>{s.d(F,{R:()=>r});var T=s(82645),C=s(43942),l=s(1365),d=s(88830),c=s(81530),y=s(38067);const f=["addListener","removeListener"],U=["addEventListener","removeEventListener"],M=["on","off"];function r(a,u,h,P){if((0,c.T)(h)&&(P=h,h=void 0),P)return r(a,u,h).pipe((0,y.I)(P));const[A,B]=function D(a){return(0,c.T)(a.addEventListener)&&(0,c.T)(a.removeEventListener)}(a)?U.map(I=>b=>a[I](u,b,h)):function m(a){return(0,c.T)(a.addListener)&&(0,c.T)(a.removeListener)}(a)?f.map(g(a,u)):function _(a){return(0,c.T)(a.on)&&(0,c.T)(a.off)}(a)?M.map(g(a,u)):[];if(!A&&(0,d.X)(a))return(0,l.Z)(I=>r(I,u,h))((0,T.Tg)(a));if(!A)throw new TypeError("Invalid event target");return new C.c(I=>{const b=(...j)=>I.next(1<j.length?j:j[0]);return A(b),()=>B(b)})}function g(a,u){return h=>P=>a[h](u,P)}},34575:(x,F,s)=>{s.d(F,{S:()=>f});var T=s(37580),C=s(44444),l=s(18537),d=s(3140),c=s(99293),y=s(3347);let f=(()=>{class U extends d.J{constructor(r,g,m){super(),this.zone=g,this.snackBar=m,this.markStyle=(0,T.hFB)("outline"),this.allowedFileTypes=(0,T.hFB)(""),this.filesDropped=(0,T.CGW)(),this.dropAreaClass="eav-droparea",this.markStyleClass=(0,C.vPA)(""),this.dragClass="eav-dragover",this.timeouts=[],this.element=r.nativeElement}ngOnInit(){this.markStyleClass.set(`eav-droparea-${this.markStyle()}`),this.element.classList.add(this.dropAreaClass,this.markStyleClass()),this.zone.runOutsideAngular(()=>{this.subscriptions.add((0,l.R)(this.element,"dragover").subscribe(r=>{r.preventDefault(),r.stopPropagation(),this.clearTimeouts(),this.element.classList.add(this.dragClass)})),this.subscriptions.add((0,l.R)(this.element,"dragleave").subscribe(r=>{r.preventDefault(),r.stopPropagation(),this.timeouts.push(window.setTimeout(()=>{this.element.classList.remove(this.dragClass)},50))}))})}ngOnDestroy(){this.clearTimeouts(),this.element.classList.remove(this.dropAreaClass,this.markStyleClass(),this.dragClass),super.ngOnDestroy()}onDrop(r){r.preventDefault(),r.stopPropagation(),this.clearTimeouts(),this.element.classList.remove(this.dragClass);let m=Array.from(r.dataTransfer.files);m=this.filterTypes(m,this.allowedFileTypes()),m.length>0&&this.filesDropped.emit(m)}clearTimeouts(){for(const r of this.timeouts)clearTimeout(r);this.timeouts=[]}filterTypes(r,g){if(""===g)return r;const m=g.split(",").map(D=>D.toLocaleLowerCase()),_=r.filter(D=>{const a=D.name.lastIndexOf(".");if(a<=0)return!1;const u=D.name.substring(a+1).toLocaleLowerCase();return m.includes(u)});if(r.length!==_.length){const D=this.allowedFileTypes().replace(/\,/g,", ");this.snackBar.open(_.length?"Some files were filtered out. This drop location only accepts file types: "+D:"This drop location only accepts file types: "+D,null,{duration:5e3})}return _}static#e=this.\u0275fac=function(g){return new(g||U)(c.rXU(c.aKT),c.rXU(c.SKi),c.rXU(y.UG))};static#t=this.\u0275dir=c.FsC({type:U,selectors:[["","appDragAndDrop",""]],hostBindings:function(g,m){1&g&&c.bIt("drop",function(D){return m.onDrop(D)})},inputs:{markStyle:[1,"markStyle"],allowedFileTypes:[1,"allowedFileTypes"]},outputs:{filesDropped:"filesDropped"},features:[c.Vt3]})}return U})()},83583:(x,F,s)=>{s.d(F,{U:()=>m});var T=s(89204),C=s(46443),l=s(24467),d=s(99293),c=s(44444);const M="admin/app/app";let m=(()=>{class _ extends l.B{getAllLive(a){return(0,C.fx)(()=>(a(),{url:this.apiUrl("admin/app/list"),params:{zoneId:this.zoneId}}))}getInheritable(){return(0,C.fx)(()=>({url:this.apiUrl("admin/app/InheritableApps"),params:{zoneId:this.zoneId}}))}getPendingApps(){return(0,C.fx)(()=>({url:this.apiUrl("admin/app/GetPendingApps"),params:{zoneId:this.zoneId}}))}create(a,u,h){return this.http.post(this.apiUrl(M),{},{params:{zoneId:this.zoneId,name:a,...null!=u&&{inheritAppId:u},...null!=h&&{templateId:h}}})}createTemplate(a,u){const h=encodeURIComponent(u);return this.http.post(`sys/install/RemotePackage?packageUrl=${a}&newName=${h}`,{})}installPendingApps(a){return this.http.post(this.apiUrl("admin/app/InstallPendingApps"),a,{params:{zoneId:this.zoneId}})}delete(a){return this.http.delete(this.apiUrl(M),{params:{zoneId:this.zoneId,appId:a.toString()}})}flushCache(a){var u=this;return(0,T.A)(function*(){return u.getStatusPromise("admin/app/flushcache",{params:{zoneId:u.zoneId,appId:a.toString()}})})()}static#e=this.\u0275fac=(()=>{let a;return function(h){return(a||(a=d.xGo(_)))(h||_)}})();static#t=this.\u0275prov=c.jDH({token:_,factory:_.\u0275fac})}return _})()}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/default-projects_eav-ui_src_app_shared_components_file-upload-dialog_index_ts.1bd021487049b07d.js.map