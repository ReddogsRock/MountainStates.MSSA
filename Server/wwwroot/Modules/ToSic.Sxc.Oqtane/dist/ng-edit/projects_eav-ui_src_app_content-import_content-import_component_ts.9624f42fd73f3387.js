"use strict";(self.webpackChunkeav_ui=self.webpackChunkeav_ui||[]).push([["projects_eav-ui_src_app_content-import_content-import_component_ts"],{3140:(x,I,n)=>{n.d(I,{J:()=>f});var r=n(27092),v=n(99293);let f=(()=>{class h{constructor(){this.subscriptions=new r.yU}ngOnDestroy(){this.subscriptions.unsubscribe()}static#t=this.\u0275fac=function(m){return new(m||h)};static#e=this.\u0275dir=v.FsC({type:h})}return h})()},9234:(x,I,n)=>{n.d(I,{Gg:()=>T,Tr:()=>C,gb:()=>u});var r=n(51567),v=n(36647),f=n(86301),h=n(70271),p=n(12938),_=n(34435),m=n(24467),y=n(54839),E=n(99293),a=n(44444);const d={all:!1,getEntities:!1,getAvailableEntities:!1,delete:!1},u="admin/entity/",T="admin/entity/list";let C=(()=>{class s extends m.B{constructor(){super(...arguments),this.log=(0,_.Tq)({EntityService:s},d),this.queryService=(0,p.d)(y.c)}getEntities$(i){return this.log.fnIf("getEntities"),i.pipe((0,r.p)(t=>null!=t),(0,v.n)(t=>this.getAvailableEntities(t.contentTypeName).pipe((0,f.t)(1))))}getAvailableEntities(i,t){return this.log.fnIf("getAvailableEntities"),this.queryService.getEntities({contentTypes:[i],itemIds:t,fields:"Id,Guid,Title",log:"getAvailableEntities"}).pipe((0,h.T)(R=>R.Default))}delete(i,t,D,R,F,O){return this.log.fnIf("delete",{appId:i,contentType:t,entityId:D,force:R,parentId:F,parent}),this.http.delete(this.apiUrl(u+"delete"),{params:{contentType:t,id:D.toString(),appId:i,force:R.toString(),...F&&{parentId:F.toString()},...F&&O&&{parentField:O}}})}static#t=this.\u0275fac=(()=>{let i;return function(D){return(i||(i=E.xGo(s)))(D||s)}})();static#e=this.\u0275prov=a.jDH({token:s,factory:s.\u0275fac})}return s})()},15176:(x,I,n)=>{n.r(I),n.d(I,{ContentImportComponent:()=>N});var r=n(44444),v=n(34456),f=n(84175),h=n(81863),p=n(93840),_=n(53804),m=n(61873),y=n(12938),E=n(17693),a=n(64699),d=n(34575),u=n(14600),T=n(36647),C=n(70271),s=n(70693),P=n(9234),i=n(24467),t=n(99293);let D=(()=>{class o extends i.B{evaluateContent(e){return(0,u.H)((0,s.n)(e.file)).pipe((0,T.n)(c=>{const l={AppId:this.appId,DefaultLanguage:e.defaultLanguage,ContentType:e.contentType,ContentBase64:c,ResourcesReferences:e.resourcesReferences,ClearEntities:e.clearEntities};return this.http.post(this.apiUrl(P.gb+"XmlPreview"),l).pipe((0,C.T)(g=>(g.Success||(g.Errors=g.Detail,delete g.Detail),g)))}))}importContent(e){return(0,u.H)((0,s.n)(e.file)).pipe((0,T.n)(c=>{const l={AppId:this.appId,DefaultLanguage:e.defaultLanguage,ContentType:e.contentType,ContentBase64:c,ResourcesReferences:e.resourcesReferences,ClearEntities:e.clearEntities};return this.http.post(this.apiUrl(P.gb+"XmlUpload"),l)}))}static#t=this.\u0275fac=(()=>{let e;return function(l){return(e||(e=t.xGo(o)))(l||o)}})();static#e=this.\u0275prov=r.jDH({token:o,factory:o.\u0275fac})}return o})();var R=n(29658),F=n(8923);function O(o,M){if(1&o){const e=t.RV6();t.j41(0,"form",null,0)(2,"div",8)(3,"div")(4,"button",9),t.bIt("click",function(){r.eBV(e);const l=t.sdS(8);return r.Njj(l.click())}),t.j41(5,"span"),t.EFF(6),t.k0s()(),t.j41(7,"input",10,1),t.bIt("change",function(l){r.eBV(e);const g=t.XpG(2);return r.Njj(g.fileChange(l))}),t.k0s()(),t.j41(9,"div")(10,"p",11),t.EFF(11,"References to pages / files"),t.k0s(),t.j41(12,"mat-radio-group",12),t.mxI("ngModelChange",function(l){r.eBV(e);const g=t.XpG(2);return t.DH7(g.formValues.resourcesReferences,l)||(g.formValues.resourcesReferences=l),r.Njj(l)}),t.j41(13,"mat-radio-button",13),t.EFF(14," Import links as written in the file (for example /Portals/...) "),t.k0s(),t.j41(15,"mat-radio-button",14),t.EFF(16," Try to resolve paths to references "),t.k0s()()(),t.j41(17,"div")(18,"p",11),t.EFF(19,"Clear all other entities"),t.k0s(),t.j41(20,"mat-radio-group",15),t.mxI("ngModelChange",function(l){r.eBV(e);const g=t.XpG(2);return t.DH7(g.formValues.clearEntities,l)||(g.formValues.clearEntities=l),r.Njj(l)}),t.j41(21,"mat-radio-button",16),t.EFF(22," Keep all entities not found in import "),t.k0s(),t.j41(23,"mat-radio-button",17),t.EFF(24," Remove all entities not found in import "),t.k0s()()(),t.j41(25,"p",18),t.EFF(26,"Remember to backup your DNN first!"),t.k0s()(),t.j41(27,"mat-dialog-actions",19)(28,"button",20),t.bIt("click",function(){r.eBV(e);const l=t.XpG(2);return r.Njj(l.evaluateContent())}),t.EFF(29," Preview Import "),t.k0s()()()}if(2&o){const e=t.XpG(2);t.R7$(6),t.JRh(e.formValues.file?e.formValues.file.name:"Select or drop file"),t.R7$(6),t.R50("ngModel",e.formValues.resourcesReferences),t.R7$(8),t.R50("ngModel",e.formValues.clearEntities),t.R7$(8),t.Y8G("disabled",!e.formValues.file||!e.formValues.file.name)}}function A(o,M){1&o&&(t.j41(0,"div",8)(1,"p"),t.EFF(2,"Please wait while processing..."),t.k0s()())}function S(o,M){if(1&o&&(t.j41(0,"div",8)(1,"p",22),t.EFF(2),t.k0s(),t.j41(3,"p",22),t.EFF(4,"File contains:"),t.k0s(),t.j41(5,"ul",23)(6,"li"),t.EFF(7),t.k0s(),t.j41(8,"li"),t.EFF(9),t.k0s(),t.j41(10,"li"),t.EFF(11),t.k0s()(),t.j41(12,"p",22),t.EFF(13,"If you press Import, it will:"),t.k0s(),t.j41(14,"ul",23)(15,"li"),t.EFF(16),t.k0s(),t.j41(17,"li"),t.EFF(18),t.k0s(),t.j41(19,"li"),t.EFF(20),t.k0s(),t.j41(21,"li"),t.EFF(22),t.k0s()(),t.j41(23,"p",18),t.EFF(24,"Note: The import validates much data and may take several minutes."),t.k0s()()),2&o){const e=t.XpG(4);t.R7$(2),t.SpI("Try to import file '",e.formValues.file.name,"'"),t.R7$(5),t.SpI("",e.evaluationResult().Detail.DocumentElementsCount," content-items (records/entities)"),t.R7$(2),t.SpI("",e.evaluationResult().Detail.LanguagesInDocumentCount," languages"),t.R7$(2),t.Lme("",e.evaluationResult().Detail.AttributeNamesInDocument.length," columns: ",e.evaluationResult().Detail.AttributeNamesInDocument.join(", ")),t.R7$(5),t.SpI("Create ",e.evaluationResult().Detail.AmountOfEntitiesCreated," content-items"),t.R7$(2),t.SpI("Update ",e.evaluationResult().Detail.AmountOfEntitiesUpdated," content-items"),t.R7$(2),t.SpI("Delete ",e.evaluationResult().Detail.AmountOfEntitiesDeleted," content-items"),t.R7$(2),t.Lme("Ignore ",e.evaluationResult().Detail.AttributeNamesNotImported.length," columns: ",e.evaluationResult().Detail.AttributeNamesNotImported.join(", "))}}function L(o,M){if(1&o&&(t.j41(0,"div")(1,"i"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Details: ",e.ErrorDetail)}}function j(o,M){if(1&o&&(t.j41(0,"div")(1,"i"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Line-no: ",e.LineNumber)}}function b(o,M){if(1&o&&(t.j41(0,"div")(1,"i"),t.EFF(2),t.k0s()()),2&o){const e=t.XpG().$implicit;t.R7$(2),t.SpI("Line-details: ",e.LineDetail)}}function B(o,M){if(1&o&&(t.j41(0,"li")(1,"div"),t.EFF(2),t.k0s(),t.nVh(3,L,3,1,"div"),t.nVh(4,j,3,1,"div"),t.nVh(5,b,3,1,"div"),t.k0s()),2&o){const e=M.$implicit,c=t.XpG(5);t.R7$(2),t.JRh(c.errors[e.ErrorCode]),t.R7$(),t.vxM(e.ErrorDetail?3:-1),t.R7$(),t.vxM(e.LineNumber?4:-1),t.R7$(),t.vxM(e.LineDetail?5:-1)}}function U(o,M){if(1&o&&(t.j41(0,"div",8)(1,"p",22),t.EFF(2),t.k0s(),t.j41(3,"ul",23),t.Z7z(4,B,6,4,"li",null,t.fX1),t.k0s()()),2&o){const e=t.XpG(4);t.R7$(2),t.SpI("Try to import file '",e.formValues.file.name,"'"),t.R7$(2),t.Dyx(e.evaluationResult().Errors)}}function k(o,M){if(1&o){const e=t.RV6();t.nVh(0,S,25,10,"div",8),t.nVh(1,U,6,1,"div",8),t.j41(2,"mat-dialog-actions",19)(3,"button",21),t.bIt("click",function(){r.eBV(e);const l=t.XpG(3);return r.Njj(l.back())}),t.EFF(4,"Back"),t.k0s(),t.j41(5,"button",20),t.bIt("click",function(){r.eBV(e);const l=t.XpG(3);return r.Njj(l.importContent())}),t.EFF(6," Import "),t.k0s()()}if(2&o){const e=t.XpG(3);t.vxM(e.evaluationResult().Success?0:-1),t.R7$(),t.vxM(e.evaluationResult().Success?-1:1),t.R7$(4),t.Y8G("disabled",!e.evaluationResult().Success)}}function V(o,M){if(1&o&&t.nVh(0,k,7,3),2&o){const e=t.XpG(2);t.vxM(e.evaluationResult()?0:-1)}}function K(o,M){1&o&&(t.j41(0,"p"),t.EFF(1,"Import done."),t.k0s())}function $(o,M){1&o&&(t.j41(0,"p"),t.EFF(1,"Import failed."),t.k0s())}function W(o,M){if(1&o&&(t.j41(0,"div",8),t.nVh(1,K,2,0,"p"),t.nVh(2,$,2,0,"p"),t.k0s()),2&o){const e=t.XpG(3);t.R7$(),t.vxM(e.importResult().Success?1:-1),t.R7$(),t.vxM(e.importResult().Success?-1:2)}}function G(o,M){if(1&o){const e=t.RV6();t.nVh(0,W,3,2,"div",8),t.j41(1,"mat-dialog-actions",19)(2,"button",24),t.bIt("click",function(){r.eBV(e);const l=t.XpG(2);return r.Njj(l.closeDialog())}),t.EFF(3," Close "),t.k0s()()}if(2&o){const e=t.XpG(2);t.vxM(e.importResult()?0:-1)}}function X(o,M){if(1&o&&t.nVh(0,O,30,4,"form")(1,A,3,0,"div",8)(2,V,1,1)(3,G,4,1),2&o){let e;const c=t.XpG();t.vxM(1===(e=c.viewStateSelected())?0:0===e?1:2===e?2:3===e?3:-1)}}let N=(()=>{class o{constructor(e,c,l){this.dialogData=e,this.dialog=c,this.route=l,this.hostClass="dialog-component",this.contentImportService=(0,y.d)(D),this.contentTypesService=(0,y.d)(E.g),this.dialogConfigSvc=(0,y.d)(a.L),this.viewStates={waiting:0,default:1,evaluated:2,imported:3},this.contentType=(0,r.vPA)(null),this.viewStateSelected=(0,r.vPA)(this.viewStates.default),this.evaluationResult=(0,r.vPA)(null),this.importResult=(0,r.vPA)(null),this.errors={0:"Unknown error occured.",1:"Selected content-type does not exist.",2:"Document is not a valid XML file.",3:"Selected content-type does not match the content-type in the XML file.",4:"The language is not supported.",5:"The document does not specify all languages for all entities.",6:"Language reference cannot be parsed, the language is not supported.",7:"Language reference cannot be parsed, the read-write protection is not supported.",8:"Value cannot be read, because of it has an invalid format."},this.contentTypeStaticName=this.route.snapshot.paramMap.get("contentTypeStaticName")}ngOnInit(){const e=this.contentTypesService.retrieveContentType(this.contentTypeStaticName),c=this.dialogConfigSvc.getCurrent$();(0,m.p)([e,c]).subscribe(([l,g])=>{this.contentType.set(l),this.formValues={defaultLanguage:g.Context.Language.Primary,contentType:this.contentTypeStaticName,file:null!=this.dialogData.files?this.dialogData.files[0]:null,resourcesReferences:"Keep",clearEntities:"None"}})}closeDialog(){this.dialog.close()}evaluateContent(){this.viewStateSelected.set(this.viewStates.waiting),this.contentImportService.evaluateContent(this.formValues).subscribe(e=>{this.evaluationResult.set(e),this.viewStateSelected.set(this.viewStates.evaluated)})}importContent(){this.viewStateSelected.set(this.viewStates.waiting),this.contentImportService.importContent(this.formValues).subscribe(e=>{this.importResult.set(e),this.viewStateSelected.set(this.viewStates.imported)})}back(){this.viewStateSelected.set(this.viewStates.default),this.evaluationResult.set(null)}fileChange(e){this.formValues.file=e.target.files[0]}filesDropped(e){this.formValues.file=e[0]}static#t=this.\u0275fac=function(c){return new(c||o)(t.rXU(h.e),t.rXU(h.k),t.rXU(R.nX))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-content-import"]],hostVars:1,hostBindings:function(c,l){2&c&&t.Avn("className",l.hostClass)},decls:14,vars:3,consts:[["ngForm","ngForm"],["fileInput",""],["appDragAndDrop","",1,"eav-dialog",3,"filesDropped","allowedFileTypes"],[1,"eav-dialog-header"],[1,"eav-dialog-header__title"],["mat-icon-button","","tippy","Close dialog",3,"click"],[1,"eav-dialog-description"],["href","https://2sxc.org/help","target","_blank"],[1,"eav-dialog-content"],["mat-raised-button","","tippy","Open file browser",3,"click"],["type","file",1,"hide",3,"change"],[1,"eav-radio-group-label"],["name","ResourcesReferences",1,"eav-radio-group",3,"ngModelChange","ngModel"],["value","Keep"],["value","Resolve"],["name","ClearEntities",1,"eav-radio-group",3,"ngModelChange","ngModel"],["value","None"],["value","All"],[1,"eav-hint"],["align","end"],["mat-raised-button","",1,"eav-action-button",3,"click","disabled"],["mat-raised-button","",3,"click"],[1,"eav-evaluation__title"],[1,"eav-evaluation__content"],["mat-raised-button","",1,"eav-action-button",3,"click"]],template:function(c,l){if(1&c&&(t.j41(0,"div",2),t.bIt("filesDropped",function(w){return l.filesDropped(w)}),t.j41(1,"div",3)(2,"div",4),t.EFF(3),t.k0s(),t.j41(4,"button",5),t.bIt("click",function(){return l.closeDialog()}),t.j41(5,"mat-icon"),t.EFF(6,"close"),t.k0s()()(),t.j41(7,"div",6)(8,"p"),t.EFF(9," This will import content-items into 2sxc. It requires that you already defined the content-type before you try importing, and that you created the import-file using the template provided by the Export. Please visit "),t.j41(10,"a",7),t.EFF(11,"https://2sxc.org/help"),t.k0s(),t.EFF(12," for more instructions. "),t.k0s()(),t.nVh(13,X,4,1),t.k0s()),2&c){let g;t.Y8G("allowedFileTypes","xml"),t.R7$(3),t.SpI(" ",null==(g=l.contentType())?null:g.Name," Import Data "),t.R7$(10),t.vxM(null!=l.formValues?13:-1)}},dependencies:[v.YN,v.qT,v.BC,v.cb,v.vS,v.cV,f.Hl,f.$z,F.M,_.Wk,_.VT,_._g,p.m_,p.An,h.M,d.S],styles:[".eav-radio-group-label[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0}.eav-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:8px 0}.eav-hint[_ngcontent-%COMP%]{font-size:18px;margin-top:24px;margin-bottom:16px}.eav-evaluation__title[_ngcontent-%COMP%]{font-size:18px;margin:24px 0 0;font-weight:700}.eav-evaluation__content[_ngcontent-%COMP%]{font-size:14px}.eav-evaluation__content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px 0}"]})}return o})()},17693:(x,I,n)=>{n.d(I,{X:()=>_,g:()=>C});var r=n(46443),v=n(64173),f=n(96474),h=n(99293),p=n(44444);const _="admin/type/",m="admin/type/get",y="admin/type/list",E="admin/type/scopes";let C=(()=>{class s extends f.D{retrieveContentType(i){return this.getHttpApiUrl(m,{params:{appId:this.appId,contentTypeId:i}})}getType(i){return(0,r.fx)(()=>({url:this.apiUrl(m),params:{appId:this.appId,contentTypeId:i}}))}getTypes(i){return(0,r.fx)(()=>({url:this.apiUrl(y),params:{appId:this.appId,scope:i()}}),{defaultValue:[]})}retrieveContentTypesPromise(i){return this.fetchPromise(y,{params:{appId:this.appId,scope:i}})}getScopesPromise(){return this.fetchPromise(E,{params:{appId:this.appId}}).then(i=>{const t=i.old;return Object.keys(t).map(R=>({name:t[R],value:R}))})}getScopesSig(){const i=(0,r.fx)(()=>({url:this.apiUrl(E),params:{appid:this.appId}}));return(0,v.EW)(()=>{const R=(0,i.value)();if(!R||!R.old)return[];const F=R.old;return Object.keys(F).map(O=>({name:F[O],value:O}))})}getScopesV2Promise(){return this.fetchPromise(E,{params:{appId:this.appId}}).then(i=>i.scopes)}save(i){return this.http.post(this.apiUrl("admin/type/save"),i,{params:{appid:this.appId}})}delete(i){return this.http.delete(this.apiUrl("admin/type/delete"),{params:{appid:this.appId,staticName:i.NameId}})}import(i){const t=new FormData;for(const D of i)t.append("File",D);return this.http.post(this.apiUrl("admin/type/import"),t,{params:{appId:this.appId,zoneId:this.zoneId}})}createGhost(i){return this.http.post(this.apiUrl("admin/type/addghost"),null,{params:{appid:this.appId,sourceNameId:i}})}static#t=this.\u0275fac=(()=>{let i;return function(D){return(i||(i=h.xGo(s)))(D||s)}})();static#e=this.\u0275prov=p.jDH({token:s,factory:s.\u0275fac})}return s})()},18537:(x,I,n)=>{n.d(I,{R:()=>a});var r=n(82645),v=n(43942),f=n(1365),h=n(88830),p=n(81530),_=n(38067);const m=["addListener","removeListener"],y=["addEventListener","removeEventListener"],E=["on","off"];function a(s,P,i,t){if((0,p.T)(i)&&(t=i,i=void 0),t)return a(s,P,i).pipe((0,_.I)(t));const[D,R]=function C(s){return(0,p.T)(s.addEventListener)&&(0,p.T)(s.removeEventListener)}(s)?y.map(F=>O=>s[F](P,O,i)):function u(s){return(0,p.T)(s.addListener)&&(0,p.T)(s.removeListener)}(s)?m.map(d(s,P)):function T(s){return(0,p.T)(s.on)&&(0,p.T)(s.off)}(s)?E.map(d(s,P)):[];if(!D&&(0,h.X)(s))return(0,f.Z)(F=>a(F,P,i))((0,r.Tg)(s));if(!D)throw new TypeError("Invalid event target");return new v.c(F=>{const O=(...A)=>F.next(1<A.length?A:A[0]);return D(O),()=>R(O)})}function d(s,P){return i=>t=>s[i](P,t)}},34575:(x,I,n)=>{n.d(I,{S:()=>m});var r=n(37580),v=n(44444),f=n(18537),h=n(3140),p=n(99293),_=n(3347);let m=(()=>{class y extends h.J{constructor(a,d,u){super(),this.zone=d,this.snackBar=u,this.markStyle=(0,r.hFB)("outline"),this.allowedFileTypes=(0,r.hFB)(""),this.filesDropped=(0,r.CGW)(),this.dropAreaClass="eav-droparea",this.markStyleClass=(0,v.vPA)(""),this.dragClass="eav-dragover",this.timeouts=[],this.element=a.nativeElement}ngOnInit(){this.markStyleClass.set(`eav-droparea-${this.markStyle()}`),this.element.classList.add(this.dropAreaClass,this.markStyleClass()),this.zone.runOutsideAngular(()=>{this.subscriptions.add((0,f.R)(this.element,"dragover").subscribe(a=>{a.preventDefault(),a.stopPropagation(),this.clearTimeouts(),this.element.classList.add(this.dragClass)})),this.subscriptions.add((0,f.R)(this.element,"dragleave").subscribe(a=>{a.preventDefault(),a.stopPropagation(),this.timeouts.push(window.setTimeout(()=>{this.element.classList.remove(this.dragClass)},50))}))})}ngOnDestroy(){this.clearTimeouts(),this.element.classList.remove(this.dropAreaClass,this.markStyleClass(),this.dragClass),super.ngOnDestroy()}onDrop(a){a.preventDefault(),a.stopPropagation(),this.clearTimeouts(),this.element.classList.remove(this.dragClass);let u=Array.from(a.dataTransfer.files);u=this.filterTypes(u,this.allowedFileTypes()),u.length>0&&this.filesDropped.emit(u)}clearTimeouts(){for(const a of this.timeouts)clearTimeout(a);this.timeouts=[]}filterTypes(a,d){if(""===d)return a;const u=d.split(",").map(C=>C.toLocaleLowerCase()),T=a.filter(C=>{const s=C.name.lastIndexOf(".");if(s<=0)return!1;const P=C.name.substring(s+1).toLocaleLowerCase();return u.includes(P)});if(a.length!==T.length){const C=this.allowedFileTypes().replace(/\,/g,", ");this.snackBar.open(T.length?"Some files were filtered out. This drop location only accepts file types: "+C:"This drop location only accepts file types: "+C,null,{duration:5e3})}return T}static#t=this.\u0275fac=function(d){return new(d||y)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(_.UG))};static#e=this.\u0275dir=p.FsC({type:y,selectors:[["","appDragAndDrop",""]],hostBindings:function(d,u){1&d&&p.bIt("drop",function(C){return u.onDrop(C)})},inputs:{markStyle:[1,"markStyle"],allowedFileTypes:[1,"allowedFileTypes"]},outputs:{filesDropped:"filesDropped"},features:[p.Vt3]})}return y})()},54839:(x,I,n)=>{n.d(I,{c:()=>_});var r=n(34435),v=n(68873),f=n(44444),h=n(47215);const p={all:!1,getAvailableEntities:!1,getEntities:!1};let _=(()=>{class m{constructor(E,a){this.http=E,this.context=a,this.log=(0,r.Tq)({QueryService:m},p)}getFromQuery(E,a,d,u){this.log.fnIf("getAvailableEntities",{queryUrl:E,params:a,fields:d,entitiesFilter:u});const T=!!a,i=(((a?.toLocaleLowerCase()??"").includes("appid=")?"":`&appId=${this.context.appId}`)+(T?`&${a}`:"")+"&$select="+(d??"")).substring(1);return this.http.post(`app/auto/query/${E}?${i}`,{Guids:u})}getEntities({contentTypes:E,itemIds:a,fields:d,log:u}){this.log.fnIf("getEntities",{log:u,contentTypes:E,itemIds:a,fields:d});const C=("&typeNames="+(E?.join(",")??"")+`&appId=${this.context.appId}&$select=`+(d??"")).substring(1);return this.http.post(`app/auto/query/System.EntityPicker/Default?${C}`,{Guids:a})}static#t=this.\u0275fac=function(a){return new(a||m)(f.KVO(h.Qq),f.KVO(v.o))};static#e=this.\u0275prov=f.jDH({token:m,factory:m.\u0275fac})}return m})()},70693:(x,I,n)=>{function r(f){return new Promise((h,p)=>{const _=new FileReader;_.readAsDataURL(f),_.onload=()=>{h(_.result.split(",")[1])},_.onerror=m=>{p(m)}})}function v(f){return new Promise((h,p)=>{const _=new FileReader;_.readAsText(f),_.onload=()=>{h(_.result)},_.onerror=m=>{p(m)}})}n.d(I,{d:()=>v,n:()=>r})}}]);
//# sourceMappingURL=https://sources.2sxc.org/20.00.09/dist/ng-edit/projects_eav-ui_src_app_content-import_content-import_component_ts.9624f42fd73f3387.js.map